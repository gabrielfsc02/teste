function vf(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}const Ai=e=>{let t;const n=new Set,r=(l,u)=>{const f=typeof l=="function"?l(t):l;if(!Object.is(f,t)){const d=t;t=u??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(h=>h(t,d))}},o=()=>t,a={setState:r,getState:o,getInitialState:()=>c,subscribe:l=>(n.add(l),()=>n.delete(l))},c=t=e(r,o,a);return a},bf=e=>e?Ai(e):Ai;var sE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ma(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function aE(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var ga={exports:{}},Z={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jo=Symbol.for("react.transitional.element"),Ef=Symbol.for("react.portal"),Sf=Symbol.for("react.fragment"),_f=Symbol.for("react.strict_mode"),Cf=Symbol.for("react.profiler"),Rf=Symbol.for("react.consumer"),Nf=Symbol.for("react.context"),Af=Symbol.for("react.forward_ref"),Pf=Symbol.for("react.suspense"),Tf=Symbol.for("react.memo"),ya=Symbol.for("react.lazy"),Pi=Symbol.iterator;function kf(e){return e===null||typeof e!="object"?null:(e=Pi&&e[Pi]||e["@@iterator"],typeof e=="function"?e:null)}var wa={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xa=Object.assign,va={};function kt(e,t,n){this.props=e,this.context=t,this.refs=va,this.updater=n||wa}kt.prototype.isReactComponent={};kt.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};kt.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ba(){}ba.prototype=kt.prototype;function Vo(e,t,n){this.props=e,this.context=t,this.refs=va,this.updater=n||wa}var Uo=Vo.prototype=new ba;Uo.constructor=Vo;xa(Uo,kt.prototype);Uo.isPureReactComponent=!0;var Ti=Array.isArray,ie={H:null,A:null,T:null,S:null},Ea=Object.prototype.hasOwnProperty;function Wo(e,t,n,r,o,i){return n=i.ref,{$$typeof:jo,type:e,key:t,ref:n!==void 0?n:null,props:i}}function Of(e,t){return Wo(e.type,t,void 0,void 0,void 0,e.props)}function Yo(e){return typeof e=="object"&&e!==null&&e.$$typeof===jo}function $f(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ki=/\/+/g;function Gr(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$f(""+e.key):t.toString(36)}function Oi(){}function Mf(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Oi,Oi):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function yt(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case jo:case Ef:s=!0;break;case ya:return s=e._init,yt(s(e._payload),t,n,r,o)}}if(s)return o=o(e),s=r===""?"."+Gr(e,0):r,Ti(o)?(n="",s!=null&&(n=s.replace(ki,"$&/")+"/"),yt(o,t,n,"",function(l){return l})):o!=null&&(Yo(o)&&(o=Of(o,n+(o.key==null||e&&e.key===o.key?"":(""+o.key).replace(ki,"$&/")+"/")+s)),t.push(o)),1;s=0;var a=r===""?".":r+":";if(Ti(e))for(var c=0;c<e.length;c++)r=e[c],i=a+Gr(r,c),s+=yt(r,t,n,i,o);else if(c=kf(e),typeof c=="function")for(e=c.call(e),c=0;!(r=e.next()).done;)r=r.value,i=a+Gr(r,c++),s+=yt(r,t,n,i,o);else if(i==="object"){if(typeof e.then=="function")return yt(Mf(e),t,n,r,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function Sn(e,t,n){if(e==null)return e;var r=[],o=0;return yt(e,r,"","",function(i){return t.call(n,i,o++)}),r}function If(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $i=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Lf(){}Z.Children={map:Sn,forEach:function(e,t,n){Sn(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Sn(e,function(){t++}),t},toArray:function(e){return Sn(e,function(t){return t})||[]},only:function(e){if(!Yo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=kt;Z.Fragment=Sf;Z.Profiler=Cf;Z.PureComponent=Vo;Z.StrictMode=_f;Z.Suspense=Pf;Z.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ie;Z.act=function(){throw Error("act(...) is not supported in production builds of React.")};Z.cache=function(e){return function(){return e.apply(null,arguments)}};Z.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var r=xa({},e.props),o=e.key,i=void 0;if(t!=null)for(s in t.ref!==void 0&&(i=void 0),t.key!==void 0&&(o=""+t.key),t)!Ea.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(r[s]=t[s]);var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){for(var a=Array(s),c=0;c<s;c++)a[c]=arguments[c+2];r.children=a}return Wo(e.type,o,void 0,void 0,i,r)};Z.createContext=function(e){return e={$$typeof:Nf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:Rf,_context:e},e};Z.createElement=function(e,t,n){var r,o={},i=null;if(t!=null)for(r in t.key!==void 0&&(i=""+t.key),t)Ea.call(t,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(o[r]=t[r]);var s=arguments.length-2;if(s===1)o.children=n;else if(1<s){for(var a=Array(s),c=0;c<s;c++)a[c]=arguments[c+2];o.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)o[r]===void 0&&(o[r]=s[r]);return Wo(e,i,void 0,void 0,null,o)};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:Af,render:e}};Z.isValidElement=Yo;Z.lazy=function(e){return{$$typeof:ya,_payload:{_status:-1,_result:e},_init:If}};Z.memo=function(e,t){return{$$typeof:Tf,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=ie.T,n={};ie.T=n;try{var r=e(),o=ie.S;o!==null&&o(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(Lf,$i)}catch(i){$i(i)}finally{ie.T=t}};Z.unstable_useCacheRefresh=function(){return ie.H.useCacheRefresh()};Z.use=function(e){return ie.H.use(e)};Z.useActionState=function(e,t,n){return ie.H.useActionState(e,t,n)};Z.useCallback=function(e,t){return ie.H.useCallback(e,t)};Z.useContext=function(e){return ie.H.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e,t){return ie.H.useDeferredValue(e,t)};Z.useEffect=function(e,t){return ie.H.useEffect(e,t)};Z.useId=function(){return ie.H.useId()};Z.useImperativeHandle=function(e,t,n){return ie.H.useImperativeHandle(e,t,n)};Z.useInsertionEffect=function(e,t){return ie.H.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return ie.H.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return ie.H.useMemo(e,t)};Z.useOptimistic=function(e,t){return ie.H.useOptimistic(e,t)};Z.useReducer=function(e,t,n){return ie.H.useReducer(e,t,n)};Z.useRef=function(e){return ie.H.useRef(e)};Z.useState=function(e){return ie.H.useState(e)};Z.useSyncExternalStore=function(e,t,n){return ie.H.useSyncExternalStore(e,t,n)};Z.useTransition=function(){return ie.H.useTransition()};Z.version="19.0.0";ga.exports=Z;var v=ga.exports;const Ne=ma(v),Df=vf({__proto__:null,default:Ne},[v]),Hf=e=>e;function Ff(e,t=Hf){const n=Ne.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return Ne.useDebugValue(n),n}const Mi=e=>{const t=bf(e),n=r=>Ff(t,r);return Object.assign(n,t),n},cE=e=>e?Mi(e):Mi;function Sa(e,t){return function(){return e.apply(t,arguments)}}const{toString:Bf}=Object.prototype,{getPrototypeOf:qo}=Object,hr=(e=>t=>{const n=Bf.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Te=e=>(e=e.toLowerCase(),t=>hr(t)===e),pr=e=>t=>typeof t===e,{isArray:Ot}=Array,Kt=pr("undefined");function zf(e){return e!==null&&!Kt(e)&&e.constructor!==null&&!Kt(e.constructor)&&xe(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const _a=Te("ArrayBuffer");function jf(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&_a(e.buffer),t}const Vf=pr("string"),xe=pr("function"),Ca=pr("number"),mr=e=>e!==null&&typeof e=="object",Uf=e=>e===!0||e===!1,In=e=>{if(hr(e)!=="object")return!1;const t=qo(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Wf=Te("Date"),Yf=Te("File"),qf=Te("Blob"),Xf=Te("FileList"),Gf=e=>mr(e)&&xe(e.pipe),Kf=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||xe(e.append)&&((t=hr(e))==="formdata"||t==="object"&&xe(e.toString)&&e.toString()==="[object FormData]"))},Jf=Te("URLSearchParams"),[Zf,Qf,ed,td]=["ReadableStream","Request","Response","Headers"].map(Te),nd=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function un(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,o;if(typeof e!="object"&&(e=[e]),Ot(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),s=i.length;let a;for(r=0;r<s;r++)a=i[r],t.call(null,e[a],a,e)}}function Ra(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,o;for(;r-- >0;)if(o=n[r],t===o.toLowerCase())return o;return null}const ot=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Na=e=>!Kt(e)&&e!==ot;function po(){const{caseless:e}=Na(this)&&this||{},t={},n=(r,o)=>{const i=e&&Ra(t,o)||o;In(t[i])&&In(r)?t[i]=po(t[i],r):In(r)?t[i]=po({},r):Ot(r)?t[i]=r.slice():t[i]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&un(arguments[r],n);return t}const rd=(e,t,n,{allOwnKeys:r}={})=>(un(t,(o,i)=>{n&&xe(o)?e[i]=Sa(o,n):e[i]=o},{allOwnKeys:r}),e),od=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),id=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},sd=(e,t,n,r)=>{let o,i,s;const a={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)s=o[i],(!r||r(s,e,t))&&!a[s]&&(t[s]=e[s],a[s]=!0);e=n!==!1&&qo(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},ad=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},cd=e=>{if(!e)return null;if(Ot(e))return e;let t=e.length;if(!Ca(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},ld=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&qo(Uint8Array)),ud=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=r.next())&&!o.done;){const i=o.value;t.call(e,i[0],i[1])}},fd=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},dd=Te("HTMLFormElement"),hd=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),Ii=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),pd=Te("RegExp"),Aa=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};un(n,(o,i)=>{let s;(s=t(o,i,e))!==!1&&(r[i]=s||o)}),Object.defineProperties(e,r)},md=e=>{Aa(e,(t,n)=>{if(xe(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(xe(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},gd=(e,t)=>{const n={},r=o=>{o.forEach(i=>{n[i]=!0})};return Ot(e)?r(e):r(String(e).split(t)),n},yd=()=>{},wd=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function xd(e){return!!(e&&xe(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const vd=e=>{const t=new Array(10),n=(r,o)=>{if(mr(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[o]=r;const i=Ot(r)?[]:{};return un(r,(s,a)=>{const c=n(s,o+1);!Kt(c)&&(i[a]=c)}),t[o]=void 0,i}}return r};return n(e,0)},bd=Te("AsyncFunction"),Ed=e=>e&&(mr(e)||xe(e))&&xe(e.then)&&xe(e.catch),Pa=((e,t)=>e?setImmediate:t?((n,r)=>(ot.addEventListener("message",({source:o,data:i})=>{o===ot&&i===n&&r.length&&r.shift()()},!1),o=>{r.push(o),ot.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",xe(ot.postMessage)),Sd=typeof queueMicrotask<"u"?queueMicrotask.bind(ot):typeof process<"u"&&process.nextTick||Pa,I={isArray:Ot,isArrayBuffer:_a,isBuffer:zf,isFormData:Kf,isArrayBufferView:jf,isString:Vf,isNumber:Ca,isBoolean:Uf,isObject:mr,isPlainObject:In,isReadableStream:Zf,isRequest:Qf,isResponse:ed,isHeaders:td,isUndefined:Kt,isDate:Wf,isFile:Yf,isBlob:qf,isRegExp:pd,isFunction:xe,isStream:Gf,isURLSearchParams:Jf,isTypedArray:ld,isFileList:Xf,forEach:un,merge:po,extend:rd,trim:nd,stripBOM:od,inherits:id,toFlatObject:sd,kindOf:hr,kindOfTest:Te,endsWith:ad,toArray:cd,forEachEntry:ud,matchAll:fd,isHTMLForm:dd,hasOwnProperty:Ii,hasOwnProp:Ii,reduceDescriptors:Aa,freezeMethods:md,toObjectSet:gd,toCamelCase:hd,noop:yd,toFiniteNumber:wd,findKey:Ra,global:ot,isContextDefined:Na,isSpecCompliantForm:xd,toJSONObject:vd,isAsyncFn:bd,isThenable:Ed,setImmediate:Pa,asap:Sd};function J(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}I.inherits(J,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:I.toJSONObject(this.config),code:this.code,status:this.status}}});const Ta=J.prototype,ka={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ka[e]={value:e}});Object.defineProperties(J,ka);Object.defineProperty(Ta,"isAxiosError",{value:!0});J.from=(e,t,n,r,o,i)=>{const s=Object.create(Ta);return I.toFlatObject(e,s,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),J.call(s,e.message,t,n,r,o),s.cause=e,s.name=e.name,i&&Object.assign(s,i),s};const _d=null;function mo(e){return I.isPlainObject(e)||I.isArray(e)}function Oa(e){return I.endsWith(e,"[]")?e.slice(0,-2):e}function Li(e,t,n){return e?e.concat(t).map(function(o,i){return o=Oa(o),!n&&i?"["+o+"]":o}).join(n?".":""):t}function Cd(e){return I.isArray(e)&&!e.some(mo)}const Rd=I.toFlatObject(I,{},null,function(t){return/^is[A-Z]/.test(t)});function gr(e,t,n){if(!I.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=I.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,w){return!I.isUndefined(w[g])});const r=n.metaTokens,o=n.visitor||u,i=n.dots,s=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&I.isSpecCompliantForm(t);if(!I.isFunction(o))throw new TypeError("visitor must be a function");function l(p){if(p===null)return"";if(I.isDate(p))return p.toISOString();if(!c&&I.isBlob(p))throw new J("Blob is not supported. Use a Buffer instead.");return I.isArrayBuffer(p)||I.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,g,w){let y=p;if(p&&!w&&typeof p=="object"){if(I.endsWith(g,"{}"))g=r?g:g.slice(0,-2),p=JSON.stringify(p);else if(I.isArray(p)&&Cd(p)||(I.isFileList(p)||I.endsWith(g,"[]"))&&(y=I.toArray(p)))return g=Oa(g),y.forEach(function(m,x){!(I.isUndefined(m)||m===null)&&t.append(s===!0?Li([g],x,i):s===null?g:g+"[]",l(m))}),!1}return mo(p)?!0:(t.append(Li(w,g,i),l(p)),!1)}const f=[],d=Object.assign(Rd,{defaultVisitor:u,convertValue:l,isVisitable:mo});function h(p,g){if(!I.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(p),I.forEach(p,function(y,b){(!(I.isUndefined(y)||y===null)&&o.call(t,y,I.isString(b)?b.trim():b,g,d))===!0&&h(y,g?g.concat(b):[b])}),f.pop()}}if(!I.isObject(e))throw new TypeError("data must be an object");return h(e),t}function Di(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Xo(e,t){this._pairs=[],e&&gr(e,this,t)}const $a=Xo.prototype;$a.append=function(t,n){this._pairs.push([t,n])};$a.toString=function(t){const n=t?function(r){return t.call(this,r,Di)}:Di;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function Nd(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ma(e,t,n){if(!t)return e;const r=n&&n.encode||Nd;I.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let i;if(o?i=o(t,n):i=I.isURLSearchParams(t)?t.toString():new Xo(t,n).toString(r),i){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Hi{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){I.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Ia={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ad=typeof URLSearchParams<"u"?URLSearchParams:Xo,Pd=typeof FormData<"u"?FormData:null,Td=typeof Blob<"u"?Blob:null,kd={isBrowser:!0,classes:{URLSearchParams:Ad,FormData:Pd,Blob:Td},protocols:["http","https","file","blob","url","data"]},Go=typeof window<"u"&&typeof document<"u",go=typeof navigator=="object"&&navigator||void 0,Od=Go&&(!go||["ReactNative","NativeScript","NS"].indexOf(go.product)<0),$d=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Md=Go&&window.location.href||"http://localhost",Id=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Go,hasStandardBrowserEnv:Od,hasStandardBrowserWebWorkerEnv:$d,navigator:go,origin:Md},Symbol.toStringTag,{value:"Module"})),fe={...Id,...kd};function Ld(e,t){return gr(e,new fe.classes.URLSearchParams,Object.assign({visitor:function(n,r,o,i){return fe.isNode&&I.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function Dd(e){return I.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Hd(e){const t={},n=Object.keys(e);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],t[i]=e[i];return t}function La(e){function t(n,r,o,i){let s=n[i++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),c=i>=n.length;return s=!s&&I.isArray(o)?o.length:s,c?(I.hasOwnProp(o,s)?o[s]=[o[s],r]:o[s]=r,!a):((!o[s]||!I.isObject(o[s]))&&(o[s]=[]),t(n,r,o[s],i)&&I.isArray(o[s])&&(o[s]=Hd(o[s])),!a)}if(I.isFormData(e)&&I.isFunction(e.entries)){const n={};return I.forEachEntry(e,(r,o)=>{t(Dd(r),o,n,0)}),n}return null}function Fd(e,t,n){if(I.isString(e))try{return(t||JSON.parse)(e),I.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const fn={transitional:Ia,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,i=I.isObject(t);if(i&&I.isHTMLForm(t)&&(t=new FormData(t)),I.isFormData(t))return o?JSON.stringify(La(t)):t;if(I.isArrayBuffer(t)||I.isBuffer(t)||I.isStream(t)||I.isFile(t)||I.isBlob(t)||I.isReadableStream(t))return t;if(I.isArrayBufferView(t))return t.buffer;if(I.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Ld(t,this.formSerializer).toString();if((a=I.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return gr(a?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||o?(n.setContentType("application/json",!1),Fd(t)):t}],transformResponse:[function(t){const n=this.transitional||fn.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(I.isResponse(t)||I.isReadableStream(t))return t;if(t&&I.isString(t)&&(r&&!this.responseType||o)){const s=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(a){if(s)throw a.name==="SyntaxError"?J.from(a,J.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fe.classes.FormData,Blob:fe.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};I.forEach(["delete","get","head","post","put","patch"],e=>{fn.headers[e]={}});const Bd=I.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),zd=e=>{const t={};let n,r,o;return e&&e.split(`
`).forEach(function(s){o=s.indexOf(":"),n=s.substring(0,o).trim().toLowerCase(),r=s.substring(o+1).trim(),!(!n||t[n]&&Bd[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Fi=Symbol("internals");function zt(e){return e&&String(e).trim().toLowerCase()}function Ln(e){return e===!1||e==null?e:I.isArray(e)?e.map(Ln):String(e)}function jd(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Vd=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Kr(e,t,n,r,o){if(I.isFunction(r))return r.call(this,t,n);if(o&&(t=n),!!I.isString(t)){if(I.isString(r))return t.indexOf(r)!==-1;if(I.isRegExp(r))return r.test(t)}}function Ud(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function Wd(e,t){const n=I.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(o,i,s){return this[r].call(this,t,o,i,s)},configurable:!0})})}let ge=class{constructor(t){t&&this.set(t)}set(t,n,r){const o=this;function i(a,c,l){const u=zt(c);if(!u)throw new Error("header name must be a non-empty string");const f=I.findKey(o,u);(!f||o[f]===void 0||l===!0||l===void 0&&o[f]!==!1)&&(o[f||c]=Ln(a))}const s=(a,c)=>I.forEach(a,(l,u)=>i(l,u,c));if(I.isPlainObject(t)||t instanceof this.constructor)s(t,n);else if(I.isString(t)&&(t=t.trim())&&!Vd(t))s(zd(t),n);else if(I.isHeaders(t))for(const[a,c]of t.entries())i(c,a,r);else t!=null&&i(n,t,r);return this}get(t,n){if(t=zt(t),t){const r=I.findKey(this,t);if(r){const o=this[r];if(!n)return o;if(n===!0)return jd(o);if(I.isFunction(n))return n.call(this,o,r);if(I.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=zt(t),t){const r=I.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Kr(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let o=!1;function i(s){if(s=zt(s),s){const a=I.findKey(r,s);a&&(!n||Kr(r,r[a],a,n))&&(delete r[a],o=!0)}}return I.isArray(t)?t.forEach(i):i(t),o}clear(t){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const i=n[r];(!t||Kr(this,this[i],i,t,!0))&&(delete this[i],o=!0)}return o}normalize(t){const n=this,r={};return I.forEach(this,(o,i)=>{const s=I.findKey(r,i);if(s){n[s]=Ln(o),delete n[i];return}const a=t?Ud(i):String(i).trim();a!==i&&delete n[i],n[a]=Ln(o),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return I.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=t&&I.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(o=>r.set(o)),r}static accessor(t){const r=(this[Fi]=this[Fi]={accessors:{}}).accessors,o=this.prototype;function i(s){const a=zt(s);r[a]||(Wd(o,s),r[a]=!0)}return I.isArray(t)?t.forEach(i):i(t),this}};ge.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);I.reduceDescriptors(ge.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});I.freezeMethods(ge);function Jr(e,t){const n=this||fn,r=t||n,o=ge.from(r.headers);let i=r.data;return I.forEach(e,function(a){i=a.call(n,i,o.normalize(),t?t.status:void 0)}),o.normalize(),i}function Da(e){return!!(e&&e.__CANCEL__)}function $t(e,t,n){J.call(this,e??"canceled",J.ERR_CANCELED,t,n),this.name="CanceledError"}I.inherits($t,J,{__CANCEL__:!0});function Ha(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new J("Request failed with status code "+n.status,[J.ERR_BAD_REQUEST,J.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Yd(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function qd(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o=0,i=0,s;return t=t!==void 0?t:1e3,function(c){const l=Date.now(),u=r[i];s||(s=l),n[o]=c,r[o]=l;let f=i,d=0;for(;f!==o;)d+=n[f++],f=f%e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),l-s<t)return;const h=u&&l-u;return h?Math.round(d*1e3/h):void 0}}function Xd(e,t){let n=0,r=1e3/t,o,i;const s=(l,u=Date.now())=>{n=u,o=null,i&&(clearTimeout(i),i=null),e.apply(null,l)};return[(...l)=>{const u=Date.now(),f=u-n;f>=r?s(l,u):(o=l,i||(i=setTimeout(()=>{i=null,s(o)},r-f)))},()=>o&&s(o)]}const Wn=(e,t,n=3)=>{let r=0;const o=qd(50,250);return Xd(i=>{const s=i.loaded,a=i.lengthComputable?i.total:void 0,c=s-r,l=o(c),u=s<=a;r=s;const f={loaded:s,total:a,progress:a?s/a:void 0,bytes:c,rate:l||void 0,estimated:l&&a&&u?(a-s)/l:void 0,event:i,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(f)},n)},Bi=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},zi=e=>(...t)=>I.asap(()=>e(...t)),Gd=fe.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,fe.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(fe.origin),fe.navigator&&/(msie|trident)/i.test(fe.navigator.userAgent)):()=>!0,Kd=fe.hasStandardBrowserEnv?{write(e,t,n,r,o,i){const s=[e+"="+encodeURIComponent(t)];I.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),I.isString(r)&&s.push("path="+r),I.isString(o)&&s.push("domain="+o),i===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Jd(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Zd(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Fa(e,t,n){let r=!Jd(t);return e&&r||n==!1?Zd(e,t):t}const ji=e=>e instanceof ge?{...e}:e;function lt(e,t){t=t||{};const n={};function r(l,u,f,d){return I.isPlainObject(l)&&I.isPlainObject(u)?I.merge.call({caseless:d},l,u):I.isPlainObject(u)?I.merge({},u):I.isArray(u)?u.slice():u}function o(l,u,f,d){if(I.isUndefined(u)){if(!I.isUndefined(l))return r(void 0,l,f,d)}else return r(l,u,f,d)}function i(l,u){if(!I.isUndefined(u))return r(void 0,u)}function s(l,u){if(I.isUndefined(u)){if(!I.isUndefined(l))return r(void 0,l)}else return r(void 0,u)}function a(l,u,f){if(f in t)return r(l,u);if(f in e)return r(void 0,l)}const c={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(l,u,f)=>o(ji(l),ji(u),f,!0)};return I.forEach(Object.keys(Object.assign({},e,t)),function(u){const f=c[u]||o,d=f(e[u],t[u],u);I.isUndefined(d)&&f!==a||(n[u]=d)}),n}const Ba=e=>{const t=lt({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:i,headers:s,auth:a}=t;t.headers=s=ge.from(s),t.url=Ma(Fa(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(I.isFormData(n)){if(fe.hasStandardBrowserEnv||fe.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((c=s.getContentType())!==!1){const[l,...u]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];s.setContentType([l||"multipart/form-data",...u].join("; "))}}if(fe.hasStandardBrowserEnv&&(r&&I.isFunction(r)&&(r=r(t)),r||r!==!1&&Gd(t.url))){const l=o&&i&&Kd.read(i);l&&s.set(o,l)}return t},Qd=typeof XMLHttpRequest<"u",eh=Qd&&function(e){return new Promise(function(n,r){const o=Ba(e);let i=o.data;const s=ge.from(o.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:l}=o,u,f,d,h,p;function g(){h&&h(),p&&p(),o.cancelToken&&o.cancelToken.unsubscribe(u),o.signal&&o.signal.removeEventListener("abort",u)}let w=new XMLHttpRequest;w.open(o.method.toUpperCase(),o.url,!0),w.timeout=o.timeout;function y(){if(!w)return;const m=ge.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),_={data:!a||a==="text"||a==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:m,config:e,request:w};Ha(function(C){n(C),g()},function(C){r(C),g()},_),w=null}"onloadend"in w?w.onloadend=y:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(y)},w.onabort=function(){w&&(r(new J("Request aborted",J.ECONNABORTED,e,w)),w=null)},w.onerror=function(){r(new J("Network Error",J.ERR_NETWORK,e,w)),w=null},w.ontimeout=function(){let x=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const _=o.transitional||Ia;o.timeoutErrorMessage&&(x=o.timeoutErrorMessage),r(new J(x,_.clarifyTimeoutError?J.ETIMEDOUT:J.ECONNABORTED,e,w)),w=null},i===void 0&&s.setContentType(null),"setRequestHeader"in w&&I.forEach(s.toJSON(),function(x,_){w.setRequestHeader(_,x)}),I.isUndefined(o.withCredentials)||(w.withCredentials=!!o.withCredentials),a&&a!=="json"&&(w.responseType=o.responseType),l&&([d,p]=Wn(l,!0),w.addEventListener("progress",d)),c&&w.upload&&([f,h]=Wn(c),w.upload.addEventListener("progress",f),w.upload.addEventListener("loadend",h)),(o.cancelToken||o.signal)&&(u=m=>{w&&(r(!m||m.type?new $t(null,e,w):m),w.abort(),w=null)},o.cancelToken&&o.cancelToken.subscribe(u),o.signal&&(o.signal.aborted?u():o.signal.addEventListener("abort",u)));const b=Yd(o.url);if(b&&fe.protocols.indexOf(b)===-1){r(new J("Unsupported protocol "+b+":",J.ERR_BAD_REQUEST,e));return}w.send(i||null)})},th=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,o;const i=function(l){if(!o){o=!0,a();const u=l instanceof Error?l:this.reason;r.abort(u instanceof J?u:new $t(u instanceof Error?u.message:u))}};let s=t&&setTimeout(()=>{s=null,i(new J(`timeout ${t} of ms exceeded`,J.ETIMEDOUT))},t);const a=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(l=>{l.unsubscribe?l.unsubscribe(i):l.removeEventListener("abort",i)}),e=null)};e.forEach(l=>l.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>I.asap(a),c}},nh=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,o;for(;r<n;)o=r+t,yield e.slice(r,o),r=o},rh=async function*(e,t){for await(const n of oh(e))yield*nh(n,t)},oh=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Vi=(e,t,n,r)=>{const o=rh(e,t);let i=0,s,a=c=>{s||(s=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:l,value:u}=await o.next();if(l){a(),c.close();return}let f=u.byteLength;if(n){let d=i+=f;n(d)}c.enqueue(new Uint8Array(u))}catch(l){throw a(l),l}},cancel(c){return a(c),o.return()}},{highWaterMark:2})},yr=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",za=yr&&typeof ReadableStream=="function",ih=yr&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),ja=(e,...t)=>{try{return!!e(...t)}catch{return!1}},sh=za&&ja(()=>{let e=!1;const t=new Request(fe.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Ui=64*1024,yo=za&&ja(()=>I.isReadableStream(new Response("").body)),Yn={stream:yo&&(e=>e.body)};yr&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Yn[t]&&(Yn[t]=I.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new J(`Response type '${t}' is not supported`,J.ERR_NOT_SUPPORT,r)})})})(new Response);const ah=async e=>{if(e==null)return 0;if(I.isBlob(e))return e.size;if(I.isSpecCompliantForm(e))return(await new Request(fe.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(I.isArrayBufferView(e)||I.isArrayBuffer(e))return e.byteLength;if(I.isURLSearchParams(e)&&(e=e+""),I.isString(e))return(await ih(e)).byteLength},ch=async(e,t)=>{const n=I.toFiniteNumber(e.getContentLength());return n??ah(t)},lh=yr&&(async e=>{let{url:t,method:n,data:r,signal:o,cancelToken:i,timeout:s,onDownloadProgress:a,onUploadProgress:c,responseType:l,headers:u,withCredentials:f="same-origin",fetchOptions:d}=Ba(e);l=l?(l+"").toLowerCase():"text";let h=th([o,i&&i.toAbortSignal()],s),p;const g=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let w;try{if(c&&sh&&n!=="get"&&n!=="head"&&(w=await ch(u,r))!==0){let _=new Request(t,{method:"POST",body:r,duplex:"half"}),P;if(I.isFormData(r)&&(P=_.headers.get("content-type"))&&u.setContentType(P),_.body){const[C,$]=Bi(w,Wn(zi(c)));r=Vi(_.body,Ui,C,$)}}I.isString(f)||(f=f?"include":"omit");const y="credentials"in Request.prototype;p=new Request(t,{...d,signal:h,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:y?f:void 0});let b=await fetch(p);const m=yo&&(l==="stream"||l==="response");if(yo&&(a||m&&g)){const _={};["status","statusText","headers"].forEach(k=>{_[k]=b[k]});const P=I.toFiniteNumber(b.headers.get("content-length")),[C,$]=a&&Bi(P,Wn(zi(a),!0))||[];b=new Response(Vi(b.body,Ui,C,()=>{$&&$(),g&&g()}),_)}l=l||"text";let x=await Yn[I.findKey(Yn,l)||"text"](b,e);return!m&&g&&g(),await new Promise((_,P)=>{Ha(_,P,{data:x,headers:ge.from(b.headers),status:b.status,statusText:b.statusText,config:e,request:p})})}catch(y){throw g&&g(),y&&y.name==="TypeError"&&/fetch/i.test(y.message)?Object.assign(new J("Network Error",J.ERR_NETWORK,e,p),{cause:y.cause||y}):J.from(y,y&&y.code,e,p)}}),wo={http:_d,xhr:eh,fetch:lh};I.forEach(wo,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Wi=e=>`- ${e}`,uh=e=>I.isFunction(e)||e===null||e===!1,Va={getAdapter:e=>{e=I.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let i=0;i<t;i++){n=e[i];let s;if(r=n,!uh(n)&&(r=wo[(s=String(n)).toLowerCase()],r===void 0))throw new J(`Unknown adapter '${s}'`);if(r)break;o[s||"#"+i]=r}if(!r){const i=Object.entries(o).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=t?i.length>1?`since :
`+i.map(Wi).join(`
`):" "+Wi(i[0]):"as no adapter specified";throw new J("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:wo};function Zr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new $t(null,e)}function Yi(e){return Zr(e),e.headers=ge.from(e.headers),e.data=Jr.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Va.getAdapter(e.adapter||fn.adapter)(e).then(function(r){return Zr(e),r.data=Jr.call(e,e.transformResponse,r),r.headers=ge.from(r.headers),r},function(r){return Da(r)||(Zr(e),r&&r.response&&(r.response.data=Jr.call(e,e.transformResponse,r.response),r.response.headers=ge.from(r.response.headers))),Promise.reject(r)})}const Ua="1.8.3",wr={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{wr[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const qi={};wr.transitional=function(t,n,r){function o(i,s){return"[Axios v"+Ua+"] Transitional option '"+i+"'"+s+(r?". "+r:"")}return(i,s,a)=>{if(t===!1)throw new J(o(s," has been removed"+(n?" in "+n:"")),J.ERR_DEPRECATED);return n&&!qi[s]&&(qi[s]=!0,console.warn(o(s," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,s,a):!0}};wr.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function fh(e,t,n){if(typeof e!="object")throw new J("options must be an object",J.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const i=r[o],s=t[i];if(s){const a=e[i],c=a===void 0||s(a,i,e);if(c!==!0)throw new J("option "+i+" must be "+c,J.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new J("Unknown option "+i,J.ERR_BAD_OPTION)}}const Dn={assertOptions:fh,validators:wr},Oe=Dn.validators;let st=class{constructor(t){this.defaults=t,this.interceptors={request:new Hi,response:new Hi}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const i=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=lt(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:i}=n;r!==void 0&&Dn.assertOptions(r,{silentJSONParsing:Oe.transitional(Oe.boolean),forcedJSONParsing:Oe.transitional(Oe.boolean),clarifyTimeoutError:Oe.transitional(Oe.boolean)},!1),o!=null&&(I.isFunction(o)?n.paramsSerializer={serialize:o}:Dn.assertOptions(o,{encode:Oe.function,serialize:Oe.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Dn.assertOptions(n,{baseUrl:Oe.spelling("baseURL"),withXsrfToken:Oe.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=i&&I.merge(i.common,i[n.method]);i&&I.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),n.headers=ge.concat(s,i);const a=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(c=c&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const l=[];this.interceptors.response.forEach(function(g){l.push(g.fulfilled,g.rejected)});let u,f=0,d;if(!c){const p=[Yi.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,l),d=p.length,u=Promise.resolve(n);f<d;)u=u.then(p[f++],p[f++]);return u}d=a.length;let h=n;for(f=0;f<d;){const p=a[f++],g=a[f++];try{h=p(h)}catch(w){g.call(this,w);break}}try{u=Yi.call(this,h)}catch(p){return Promise.reject(p)}for(f=0,d=l.length;f<d;)u=u.then(l[f++],l[f++]);return u}getUri(t){t=lt(this.defaults,t);const n=Fa(t.baseURL,t.url,t.allowAbsoluteUrls);return Ma(n,t.params,t.paramsSerializer)}};I.forEach(["delete","get","head","options"],function(t){st.prototype[t]=function(n,r){return this.request(lt(r||{},{method:t,url:n,data:(r||{}).data}))}});I.forEach(["post","put","patch"],function(t){function n(r){return function(i,s,a){return this.request(lt(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}st.prototype[t]=n(),st.prototype[t+"Form"]=n(!0)});let dh=class Wa{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(o=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](o);r._listeners=null}),this.promise.then=o=>{let i;const s=new Promise(a=>{r.subscribe(a),i=a}).then(o);return s.cancel=function(){r.unsubscribe(i)},s},t(function(i,s,a){r.reason||(r.reason=new $t(i,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Wa(function(o){t=o}),cancel:t}}};function hh(e){return function(n){return e.apply(null,n)}}function ph(e){return I.isObject(e)&&e.isAxiosError===!0}const xo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(xo).forEach(([e,t])=>{xo[t]=e});function Ya(e){const t=new st(e),n=Sa(st.prototype.request,t);return I.extend(n,st.prototype,t,{allOwnKeys:!0}),I.extend(n,t,null,{allOwnKeys:!0}),n.create=function(o){return Ya(lt(e,o))},n}const ce=Ya(fn);ce.Axios=st;ce.CanceledError=$t;ce.CancelToken=dh;ce.isCancel=Da;ce.VERSION=Ua;ce.toFormData=gr;ce.AxiosError=J;ce.Cancel=ce.CanceledError;ce.all=function(t){return Promise.all(t)};ce.spread=hh;ce.isAxiosError=ph;ce.mergeConfig=lt;ce.AxiosHeaders=ge;ce.formToJSON=e=>La(I.isHTMLForm(e)?new FormData(e):e);ce.getAdapter=Va.getAdapter;ce.HttpStatusCode=xo;ce.default=ce;const{Axios:fE,AxiosError:dE,CanceledError:hE,isCancel:pE,CancelToken:mE,VERSION:gE,all:yE,Cancel:wE,isAxiosError:xE,spread:vE,toFormData:bE,AxiosHeaders:EE,HttpStatusCode:SE,formToJSON:_E,getAdapter:CE,mergeConfig:RE}=ce;var qa={exports:{}},xr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mh=Symbol.for("react.transitional.element"),gh=Symbol.for("react.fragment");function Xa(e,t,n){var r=null;if(n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),"key"in t){n={};for(var o in t)o!=="key"&&(n[o]=t[o])}else n=t;return t=n.ref,{$$typeof:mh,type:e,key:r,ref:t!==void 0?t:null,props:n}}xr.Fragment=gh;xr.jsx=Xa;xr.jsxs=Xa;qa.exports=xr;var M=qa.exports;function vr(){return typeof window<"u"}function Mt(e){return Ga(e)?(e.nodeName||"").toLowerCase():"#document"}function ve(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function He(e){var t;return(t=(Ga(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Ga(e){return vr()?e instanceof Node||e instanceof ve(e).Node:!1}function de(e){return vr()?e instanceof Element||e instanceof ve(e).Element:!1}function Ie(e){return vr()?e instanceof HTMLElement||e instanceof ve(e).HTMLElement:!1}function Xi(e){return!vr()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ve(e).ShadowRoot}function dn(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Ee(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function yh(e){return["table","td","th"].includes(Mt(e))}function br(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Ko(e){const t=Jo(),n=de(e)?Ee(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function wh(e){let t=tt(e);for(;Ie(t)&&!St(t);){if(Ko(t))return t;if(br(t))return null;t=tt(t)}return null}function Jo(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function St(e){return["html","body","#document"].includes(Mt(e))}function Ee(e){return ve(e).getComputedStyle(e)}function Er(e){return de(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function tt(e){if(Mt(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Xi(e)&&e.host||He(e);return Xi(t)?t.host:t}function Ka(e){const t=tt(e);return St(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ie(t)&&dn(t)?t:Ka(t)}function Jt(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=Ka(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=ve(o);if(i){const a=vo(s);return t.concat(s,s.visualViewport||[],dn(o)?o:[],a&&n?Jt(a):[])}return t.concat(o,Jt(o,[],n))}function vo(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const xh=["top","right","bottom","left"],Gi=["start","end"],Ki=xh.reduce((e,t)=>e.concat(t,t+"-"+Gi[0],t+"-"+Gi[1]),[]),nt=Math.min,ye=Math.max,qn=Math.round,_n=Math.floor,$e=e=>({x:e,y:e}),vh={left:"right",right:"left",bottom:"top",top:"bottom"},bh={start:"end",end:"start"};function bo(e,t,n){return ye(e,nt(t,n))}function pt(e,t){return typeof e=="function"?e(t):e}function Le(e){return e.split("-")[0]}function Ae(e){return e.split("-")[1]}function Ja(e){return e==="x"?"y":"x"}function Zo(e){return e==="y"?"height":"width"}function ut(e){return["top","bottom"].includes(Le(e))?"y":"x"}function Qo(e){return Ja(ut(e))}function Za(e,t,n){n===void 0&&(n=!1);const r=Ae(e),o=Qo(e),i=Zo(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=Gn(s)),[s,Gn(s)]}function Eh(e){const t=Gn(e);return[Xn(e),t,Xn(t)]}function Xn(e){return e.replace(/start|end/g,t=>bh[t])}function Sh(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:s;default:return[]}}function _h(e,t,n,r){const o=Ae(e);let i=Sh(Le(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(Xn)))),i}function Gn(e){return e.replace(/left|right|bottom|top/g,t=>vh[t])}function Ch(e){return{top:0,right:0,bottom:0,left:0,...e}}function Qa(e){return typeof e!="number"?Ch(e):{top:e,right:e,bottom:e,left:e}}function Kn(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}var ec={exports:{}},pe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rh=v;function tc(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ge(){}var he={d:{f:Ge,r:function(){throw Error(tc(522))},D:Ge,C:Ge,L:Ge,m:Ge,X:Ge,S:Ge,M:Ge},p:0,findDOMNode:null},Nh=Symbol.for("react.portal");function Ah(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nh,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}var qt=Rh.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Sr(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}pe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he;pe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(tc(299));return Ah(e,t,null,n)};pe.flushSync=function(e){var t=qt.T,n=he.p;try{if(qt.T=null,he.p=2,e)return e()}finally{qt.T=t,he.p=n,he.d.f()}};pe.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,he.d.C(e,t))};pe.prefetchDNS=function(e){typeof e=="string"&&he.d.D(e)};pe.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,r=Sr(n,t.crossOrigin),o=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?he.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:r,integrity:o,fetchPriority:i}):n==="script"&&he.d.X(e,{crossOrigin:r,integrity:o,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};pe.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Sr(t.as,t.crossOrigin);he.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&he.d.M(e)};pe.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,r=Sr(n,t.crossOrigin);he.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};pe.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Sr(t.as,t.crossOrigin);he.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else he.d.m(e)};pe.requestFormReset=function(e){he.d.r(e)};pe.unstable_batchedUpdates=function(e,t){return e(t)};pe.useFormState=function(e,t,n){return qt.H.useFormState(e,t,n)};pe.useFormStatus=function(){return qt.H.useHostTransitionStatus()};pe.version="19.0.0";function nc(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nc)}catch(e){console.error(e)}}nc(),ec.exports=pe;var Ph=ec.exports;function Ji(e,t,n){let{reference:r,floating:o}=e;const i=ut(t),s=Qo(t),a=Zo(s),c=Le(t),l=i==="y",u=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,d=r[a]/2-o[a]/2;let h;switch(c){case"top":h={x:u,y:r.y-o.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-o.width,y:f};break;default:h={x:r.x,y:r.y}}switch(Ae(t)){case"start":h[s]-=d*(n&&l?-1:1);break;case"end":h[s]+=d*(n&&l?-1:1);break}return h}const Th=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,a=i.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let l=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:u,y:f}=Ji(l,r,c),d=r,h={},p=0;for(let g=0;g<a.length;g++){const{name:w,fn:y}=a[g],{x:b,y:m,data:x,reset:_}=await y({x:u,y:f,initialPlacement:r,placement:d,strategy:o,middlewareData:h,rects:l,platform:s,elements:{reference:e,floating:t}});u=b??u,f=m??f,h={...h,[w]:{...h[w],...x}},_&&p<=50&&(p++,typeof _=="object"&&(_.placement&&(d=_.placement),_.rects&&(l=_.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):_.rects),{x:u,y:f}=Ji(l,d,c)),g=-1)}return{x:u,y:f,placement:d,strategy:o,middlewareData:h}};async function _r(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:a,strategy:c}=e,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=pt(t,e),p=Qa(h),w=a[d?f==="floating"?"reference":"floating":f],y=Kn(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:l,rootBoundary:u,strategy:c})),b=f==="floating"?{x:r,y:o,width:s.floating.width,height:s.floating.height}:s.reference,m=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),x=await(i.isElement==null?void 0:i.isElement(m))?await(i.getScale==null?void 0:i.getScale(m))||{x:1,y:1}:{x:1,y:1},_=Kn(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:m,strategy:c}):b);return{top:(y.top-_.top+p.top)/x.y,bottom:(_.bottom-y.bottom+p.bottom)/x.y,left:(y.left-_.left+p.left)/x.x,right:(_.right-y.right+p.right)/x.x}}const kh=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:s,elements:a,middlewareData:c}=t,{element:l,padding:u=0}=pt(e,t)||{};if(l==null)return{};const f=Qa(u),d={x:n,y:r},h=Qo(o),p=Zo(h),g=await s.getDimensions(l),w=h==="y",y=w?"top":"left",b=w?"bottom":"right",m=w?"clientHeight":"clientWidth",x=i.reference[p]+i.reference[h]-d[h]-i.floating[p],_=d[h]-i.reference[h],P=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l));let C=P?P[m]:0;(!C||!await(s.isElement==null?void 0:s.isElement(P)))&&(C=a.floating[m]||i.floating[p]);const $=x/2-_/2,k=C/2-g[p]/2-1,O=nt(f[y],k),F=nt(f[b],k),D=O,H=C-g[p]-F,E=C/2-g[p]/2+$,A=bo(D,E,H),S=!c.arrow&&Ae(o)!=null&&E!==A&&i.reference[p]/2-(E<D?O:F)-g[p]/2<0,T=S?E<D?E-D:E-H:0;return{[h]:d[h]+T,data:{[h]:A,centerOffset:E-A-T,...S&&{alignmentOffset:T}},reset:S}}});function Oh(e,t,n){return(e?[...n.filter(o=>Ae(o)===e),...n.filter(o=>Ae(o)!==e)]:n.filter(o=>Le(o)===o)).filter(o=>e?Ae(o)===e||(t?Xn(o)!==o:!1):!0)}const $h=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,r,o;const{rects:i,middlewareData:s,placement:a,platform:c,elements:l}=t,{crossAxis:u=!1,alignment:f,allowedPlacements:d=Ki,autoAlignment:h=!0,...p}=pt(e,t),g=f!==void 0||d===Ki?Oh(f||null,h,d):d,w=await _r(t,p),y=((n=s.autoPlacement)==null?void 0:n.index)||0,b=g[y];if(b==null)return{};const m=Za(b,i,await(c.isRTL==null?void 0:c.isRTL(l.floating)));if(a!==b)return{reset:{placement:g[0]}};const x=[w[Le(b)],w[m[0]],w[m[1]]],_=[...((r=s.autoPlacement)==null?void 0:r.overflows)||[],{placement:b,overflows:x}],P=g[y+1];if(P)return{data:{index:y+1,overflows:_},reset:{placement:P}};const C=_.map(O=>{const F=Ae(O.placement);return[O.placement,F&&u?O.overflows.slice(0,2).reduce((D,H)=>D+H,0):O.overflows[0],O.overflows]}).sort((O,F)=>O[1]-F[1]),k=((o=C.filter(O=>O[2].slice(0,Ae(O[0])?2:3).every(F=>F<=0))[0])==null?void 0:o[0])||C[0][0];return k!==a?{data:{index:y+1,overflows:_},reset:{placement:k}}:{}}}},Mh=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:a,platform:c,elements:l}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...w}=pt(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=Le(o),b=ut(a),m=Le(a)===a,x=await(c.isRTL==null?void 0:c.isRTL(l.floating)),_=d||(m||!g?[Gn(a)]:Eh(a)),P=p!=="none";!d&&P&&_.push(..._h(a,g,p,x));const C=[a,..._],$=await _r(t,w),k=[];let O=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&k.push($[y]),f){const E=Za(o,s,x);k.push($[E[0]],$[E[1]])}if(O=[...O,{placement:o,overflows:k}],!k.every(E=>E<=0)){var F,D;const E=(((F=i.flip)==null?void 0:F.index)||0)+1,A=C[E];if(A)return{data:{index:E,overflows:O},reset:{placement:A}};let S=(D=O.filter(T=>T.overflows[0]<=0).sort((T,N)=>T.overflows[1]-N.overflows[1])[0])==null?void 0:D.placement;if(!S)switch(h){case"bestFit":{var H;const T=(H=O.filter(N=>{if(P){const R=ut(N.placement);return R===b||R==="y"}return!0}).map(N=>[N.placement,N.overflows.filter(R=>R>0).reduce((R,L)=>R+L,0)]).sort((N,R)=>N[1]-R[1])[0])==null?void 0:H[0];T&&(S=T);break}case"initialPlacement":S=a;break}if(o!==S)return{reset:{placement:S}}}return{}}}};async function Ih(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=Le(n),a=Ae(n),c=ut(n)==="y",l=["left","top"].includes(s)?-1:1,u=i&&c?-1:1,f=pt(t,e);let{mainAxis:d,crossAxis:h,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof p=="number"&&(h=a==="end"?p*-1:p),c?{x:h*u,y:d*l}:{x:d*l,y:h*u}}const Lh=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:s,middlewareData:a}=t,c=await Ih(t,e);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+c.x,y:i+c.y,data:{...c,placement:s}}}}},Dh=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:a={fn:w=>{let{x:y,y:b}=w;return{x:y,y:b}}},...c}=pt(e,t),l={x:n,y:r},u=await _r(t,c),f=ut(Le(o)),d=Ja(f);let h=l[d],p=l[f];if(i){const w=d==="y"?"top":"left",y=d==="y"?"bottom":"right",b=h+u[w],m=h-u[y];h=bo(b,h,m)}if(s){const w=f==="y"?"top":"left",y=f==="y"?"bottom":"right",b=p+u[w],m=p-u[y];p=bo(b,p,m)}const g=a.fn({...t,[d]:h,[f]:p});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[d]:i,[f]:s}}}}}},Hh=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:i,platform:s,elements:a}=t,{apply:c=()=>{},...l}=pt(e,t),u=await _r(t,l),f=Le(o),d=Ae(o),h=ut(o)==="y",{width:p,height:g}=i.floating;let w,y;f==="top"||f==="bottom"?(w=f,y=d===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(y=f,w=d==="end"?"top":"bottom");const b=g-u.top-u.bottom,m=p-u.left-u.right,x=nt(g-u[w],b),_=nt(p-u[y],m),P=!t.middlewareData.shift;let C=x,$=_;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&($=m),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=b),P&&!d){const O=ye(u.left,0),F=ye(u.right,0),D=ye(u.top,0),H=ye(u.bottom,0);h?$=p-2*(O!==0||F!==0?O+F:ye(u.left,u.right)):C=g-2*(D!==0||H!==0?D+H:ye(u.top,u.bottom))}await c({...t,availableWidth:$,availableHeight:C});const k=await s.getDimensions(a.floating);return p!==k.width||g!==k.height?{reset:{rects:!0}}:{}}}};function rc(e){const t=Ee(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Ie(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,a=qn(n)!==i||qn(r)!==s;return a&&(n=i,r=s),{width:n,height:r,$:a}}function ei(e){return de(e)?e:e.contextElement}function vt(e){const t=ei(e);if(!Ie(t))return $e(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=rc(t);let s=(i?qn(n.width):n.width)/r,a=(i?qn(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const Fh=$e(0);function oc(e){const t=ve(e);return!Jo()||!t.visualViewport?Fh:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Bh(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ve(e)?!1:t}function ft(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=ei(e);let s=$e(1);t&&(r?de(r)&&(s=vt(r)):s=vt(e));const a=Bh(i,n,r)?oc(i):$e(0);let c=(o.left+a.x)/s.x,l=(o.top+a.y)/s.y,u=o.width/s.x,f=o.height/s.y;if(i){const d=ve(i),h=r&&de(r)?ve(r):r;let p=d,g=vo(p);for(;g&&r&&h!==p;){const w=vt(g),y=g.getBoundingClientRect(),b=Ee(g),m=y.left+(g.clientLeft+parseFloat(b.paddingLeft))*w.x,x=y.top+(g.clientTop+parseFloat(b.paddingTop))*w.y;c*=w.x,l*=w.y,u*=w.x,f*=w.y,c+=m,l+=x,p=ve(g),g=vo(p)}}return Kn({width:u,height:f,x:c,y:l})}function ti(e,t){const n=Er(e).scrollLeft;return t?t.left+n:ft(He(e)).left+n}function ic(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-(n?0:ti(e,r)),i=r.top+t.scrollTop;return{x:o,y:i}}function zh(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",s=He(r),a=t?br(t.floating):!1;if(r===s||a&&i)return n;let c={scrollLeft:0,scrollTop:0},l=$e(1);const u=$e(0),f=Ie(r);if((f||!f&&!i)&&((Mt(r)!=="body"||dn(s))&&(c=Er(r)),Ie(r))){const h=ft(r);l=vt(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}const d=s&&!f&&!i?ic(s,c,!0):$e(0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+u.x+d.x,y:n.y*l.y-c.scrollTop*l.y+u.y+d.y}}function jh(e){return Array.from(e.getClientRects())}function Vh(e){const t=He(e),n=Er(e),r=e.ownerDocument.body,o=ye(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=ye(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+ti(e);const a=-n.scrollTop;return Ee(r).direction==="rtl"&&(s+=ye(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:a}}function Uh(e,t){const n=ve(e),r=He(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,a=0,c=0;if(o){i=o.width,s=o.height;const l=Jo();(!l||l&&t==="fixed")&&(a=o.offsetLeft,c=o.offsetTop)}return{width:i,height:s,x:a,y:c}}function Wh(e,t){const n=ft(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=Ie(e)?vt(e):$e(1),s=e.clientWidth*i.x,a=e.clientHeight*i.y,c=o*i.x,l=r*i.y;return{width:s,height:a,x:c,y:l}}function Zi(e,t,n){let r;if(t==="viewport")r=Uh(e,n);else if(t==="document")r=Vh(He(e));else if(de(t))r=Wh(t,n);else{const o=oc(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Kn(r)}function sc(e,t){const n=tt(e);return n===t||!de(n)||St(n)?!1:Ee(n).position==="fixed"||sc(n,t)}function Yh(e,t){const n=t.get(e);if(n)return n;let r=Jt(e,[],!1).filter(a=>de(a)&&Mt(a)!=="body"),o=null;const i=Ee(e).position==="fixed";let s=i?tt(e):e;for(;de(s)&&!St(s);){const a=Ee(s),c=Ko(s);!c&&a.position==="fixed"&&(o=null),(i?!c&&!o:!c&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||dn(s)&&!c&&sc(e,s))?r=r.filter(u=>u!==s):o=a,s=tt(s)}return t.set(e,r),r}function qh(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?br(t)?[]:Yh(t,this._c):[].concat(n),r],a=s[0],c=s.reduce((l,u)=>{const f=Zi(t,u,o);return l.top=ye(f.top,l.top),l.right=nt(f.right,l.right),l.bottom=nt(f.bottom,l.bottom),l.left=ye(f.left,l.left),l},Zi(t,a,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Xh(e){const{width:t,height:n}=rc(e);return{width:t,height:n}}function Gh(e,t,n){const r=Ie(t),o=He(t),i=n==="fixed",s=ft(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const c=$e(0);if(r||!r&&!i)if((Mt(t)!=="body"||dn(o))&&(a=Er(t)),r){const d=ft(t,!0,i,t);c.x=d.x+t.clientLeft,c.y=d.y+t.clientTop}else o&&(c.x=ti(o));const l=o&&!r&&!i?ic(o,a):$e(0),u=s.left+a.scrollLeft-c.x-l.x,f=s.top+a.scrollTop-c.y-l.y;return{x:u,y:f,width:s.width,height:s.height}}function Qr(e){return Ee(e).position==="static"}function Qi(e,t){if(!Ie(e)||Ee(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return He(e)===n&&(n=n.ownerDocument.body),n}function ac(e,t){const n=ve(e);if(br(e))return n;if(!Ie(e)){let o=tt(e);for(;o&&!St(o);){if(de(o)&&!Qr(o))return o;o=tt(o)}return n}let r=Qi(e,t);for(;r&&yh(r)&&Qr(r);)r=Qi(r,t);return r&&St(r)&&Qr(r)&&!Ko(r)?n:r||wh(e)||n}const Kh=async function(e){const t=this.getOffsetParent||ac,n=this.getDimensions,r=await n(e.floating);return{reference:Gh(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Jh(e){return Ee(e).direction==="rtl"}const Zh={convertOffsetParentRelativeRectToViewportRelativeRect:zh,getDocumentElement:He,getClippingRect:qh,getOffsetParent:ac,getElementRects:Kh,getClientRects:jh,getDimensions:Xh,getScale:vt,isElement:de,isRTL:Jh};function cc(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Qh(e,t){let n=null,r;const o=He(e);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const l=e.getBoundingClientRect(),{left:u,top:f,width:d,height:h}=l;if(a||t(),!d||!h)return;const p=_n(f),g=_n(o.clientWidth-(u+d)),w=_n(o.clientHeight-(f+h)),y=_n(u),m={rootMargin:-p+"px "+-g+"px "+-w+"px "+-y+"px",threshold:ye(0,nt(1,c))||1};let x=!0;function _(P){const C=P[0].intersectionRatio;if(C!==c){if(!x)return s();C?s(!1,C):r=setTimeout(()=>{s(!1,1e-7)},1e3)}C===1&&!cc(l,e.getBoundingClientRect())&&s(),x=!1}try{n=new IntersectionObserver(_,{...m,root:o.ownerDocument})}catch{n=new IntersectionObserver(_,m)}n.observe(e)}return s(!0),i}function NE(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,l=ei(e),u=o||i?[...l?Jt(l):[],...Jt(t)]:[];u.forEach(y=>{o&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const f=l&&a?Qh(l,n):null;let d=-1,h=null;s&&(h=new ResizeObserver(y=>{let[b]=y;b&&b.target===l&&h&&(h.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var m;(m=h)==null||m.observe(t)})),n()}),l&&!c&&h.observe(l),h.observe(t));let p,g=c?ft(e):null;c&&w();function w(){const y=ft(e);g&&!cc(g,y)&&n(),g=y,p=requestAnimationFrame(w)}return n(),()=>{var y;u.forEach(b=>{o&&b.removeEventListener("scroll",n),i&&b.removeEventListener("resize",n)}),f==null||f(),(y=h)==null||y.disconnect(),h=null,c&&cancelAnimationFrame(p)}}const ep=Lh,tp=$h,np=Dh,rp=Mh,op=Hh,es=kh,ip=(e,t,n)=>{const r=new Map,o={platform:Zh,...n},i={...o.platform,_c:r};return Th(e,t,{...o,platform:i})};var Hn=typeof document<"u"?v.useLayoutEffect:v.useEffect;function Jn(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Jn(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!Jn(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function lc(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ts(e,t){const n=lc(e);return Math.round(t*n)/n}function eo(e){const t=v.useRef(e);return Hn(()=>{t.current=e}),t}function sp(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:a=!0,whileElementsMounted:c,open:l}=e,[u,f]=v.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[d,h]=v.useState(r);Jn(d,r)||h(r);const[p,g]=v.useState(null),[w,y]=v.useState(null),b=v.useCallback(N=>{N!==P.current&&(P.current=N,g(N))},[]),m=v.useCallback(N=>{N!==C.current&&(C.current=N,y(N))},[]),x=i||p,_=s||w,P=v.useRef(null),C=v.useRef(null),$=v.useRef(u),k=c!=null,O=eo(c),F=eo(o),D=eo(l),H=v.useCallback(()=>{if(!P.current||!C.current)return;const N={placement:t,strategy:n,middleware:d};F.current&&(N.platform=F.current),ip(P.current,C.current,N).then(R=>{const L={...R,isPositioned:D.current!==!1};E.current&&!Jn($.current,L)&&($.current=L,Ph.flushSync(()=>{f(L)}))})},[d,t,n,F,D]);Hn(()=>{l===!1&&$.current.isPositioned&&($.current.isPositioned=!1,f(N=>({...N,isPositioned:!1})))},[l]);const E=v.useRef(!1);Hn(()=>(E.current=!0,()=>{E.current=!1}),[]),Hn(()=>{if(x&&(P.current=x),_&&(C.current=_),x&&_){if(O.current)return O.current(x,_,H);H()}},[x,_,H,O,k]);const A=v.useMemo(()=>({reference:P,floating:C,setReference:b,setFloating:m}),[b,m]),S=v.useMemo(()=>({reference:x,floating:_}),[x,_]),T=v.useMemo(()=>{const N={position:n,left:0,top:0};if(!S.floating)return N;const R=ts(S.floating,u.x),L=ts(S.floating,u.y);return a?{...N,transform:"translate("+R+"px, "+L+"px)",...lc(S.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:R,top:L}},[n,a,S.floating,u.x,u.y]);return v.useMemo(()=>({...u,update:H,refs:A,elements:S,floatingStyles:T}),[u,H,A,S,T])}const ap=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?es({element:r.current,padding:o}).fn(n):{}:r?es({element:r,padding:o}).fn(n):{}}}},AE=(e,t)=>({...ep(e),options:[e,t]}),PE=(e,t)=>({...np(e),options:[e,t]}),TE=(e,t)=>({...rp(e),options:[e,t]}),kE=(e,t)=>({...op(e),options:[e,t]}),OE=(e,t)=>({...tp(e),options:[e,t]}),$E=(e,t)=>({...ap(e),options:[e,t]}),uc={...Df},cp=uc.useInsertionEffect,lp=cp||(e=>e());function up(e){const t=v.useRef(()=>{});return lp(()=>{t.current=e}),v.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}var Zn=typeof document<"u"?v.useLayoutEffect:v.useEffect;function Eo(){return Eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Eo.apply(this,arguments)}let ns=!1,fp=0;const rs=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+fp++;function dp(){const[e,t]=v.useState(()=>ns?rs():void 0);return Zn(()=>{e==null&&t(rs())},[]),v.useEffect(()=>{ns=!0},[]),e}const hp=uc.useId,fc=hp||dp,ME=v.forwardRef(function(t,n){const{context:{placement:r,elements:{floating:o},middlewareData:{arrow:i,shift:s}},width:a=14,height:c=7,tipRadius:l=0,strokeWidth:u=0,staticOffset:f,stroke:d,d:h,style:{transform:p,...g}={},...w}=t,y=fc(),[b,m]=v.useState(!1);if(Zn(()=>{if(!o)return;Ee(o).direction==="rtl"&&m(!0)},[o]),!o)return null;const[x,_]=r.split("-"),P=x==="top"||x==="bottom";let C=f;(P&&s!=null&&s.x||!P&&s!=null&&s.y)&&(C=null);const $=u*2,k=$/2,O=a/2*(l/-8+1),F=c/2*l/4,D=!!h,H=C&&_==="end"?"bottom":"top";let E=C&&_==="end"?"right":"left";C&&b&&(E=_==="end"?"left":"right");const A=(i==null?void 0:i.x)!=null?C||i.x:"",S=(i==null?void 0:i.y)!=null?C||i.y:"",T=h||"M0,0"+(" H"+a)+(" L"+(a-O)+","+(c-F))+(" Q"+a/2+","+c+" "+O+","+(c-F))+" Z",N={top:D?"rotate(180deg)":"",left:D?"rotate(90deg)":"rotate(-90deg)",bottom:D?"":"rotate(180deg)",right:D?"rotate(-90deg)":"rotate(90deg)"}[x];return v.createElement("svg",Eo({},w,{"aria-hidden":!0,ref:n,width:D?a:a+$,height:a,viewBox:"0 0 "+a+" "+(c>a?c:a),style:{position:"absolute",pointerEvents:"none",[E]:A,[H]:S,[x]:P||D?"100%":"calc(100% - "+$/2+"px)",transform:[N,p].filter(R=>!!R).join(" "),...g}}),$>0&&v.createElement("path",{clipPath:"url(#"+y+")",fill:"none",stroke:d,strokeWidth:$+(h?0:1),d:T}),v.createElement("path",{stroke:$&&!h?w.fill:"none",d:T}),v.createElement("clipPath",{id:y},v.createElement("rect",{x:-k,y:k*(D?-1:1),width:a+$,height:a})))});function pp(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(o=>o!==n))||[])}}}const mp=v.createContext(null),gp=v.createContext(null),yp=()=>{var e;return((e=v.useContext(mp))==null?void 0:e.id)||null},wp=()=>v.useContext(gp);function xp(e){const{open:t=!1,onOpenChange:n,elements:r}=e,o=fc(),i=v.useRef({}),[s]=v.useState(()=>pp()),a=yp()!=null,[c,l]=v.useState(r.reference),u=up((h,p,g)=>{i.current.openEvent=h?p:void 0,s.emit("openchange",{open:h,event:p,reason:g,nested:a}),n==null||n(h,p,g)}),f=v.useMemo(()=>({setPositionReference:l}),[]),d=v.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return v.useMemo(()=>({dataRef:i,open:t,onOpenChange:u,elements:d,events:s,floatingId:o,refs:f}),[t,u,d,s,o,f])}function IE(e){e===void 0&&(e={});const{nodeId:t}=e,n=xp({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,o=r.elements,[i,s]=v.useState(null),[a,c]=v.useState(null),u=(o==null?void 0:o.domReference)||i,f=v.useRef(null),d=wp();Zn(()=>{u&&(f.current=u)},[u]);const h=sp({...e,elements:{...o,...a&&{reference:a}}}),p=v.useCallback(m=>{const x=de(m)?{getBoundingClientRect:()=>m.getBoundingClientRect(),contextElement:m}:m;c(x),h.refs.setReference(x)},[h.refs]),g=v.useCallback(m=>{(de(m)||m===null)&&(f.current=m,s(m)),(de(h.refs.reference.current)||h.refs.reference.current===null||m!==null&&!de(m))&&h.refs.setReference(m)},[h.refs]),w=v.useMemo(()=>({...h.refs,setReference:g,setPositionReference:p,domReference:f}),[h.refs,g,p]),y=v.useMemo(()=>({...h.elements,domReference:u}),[h.elements,u]),b=v.useMemo(()=>({...h,...r,refs:w,elements:y,nodeId:t}),[h,w,y,t,r]);return Zn(()=>{r.dataRef.current.floatingContext=b;const m=d==null?void 0:d.nodesRef.current.find(x=>x.id===t);m&&(m.context=b)}),v.useMemo(()=>({...h,context:b,refs:w,elements:y}),[h,w,y,b])}var dc={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},os=Ne.createContext&&Ne.createContext(dc),vp=["attr","size","title"];function bp(e,t){if(e==null)return{};var n=Ep(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ep(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Qn(){return Qn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qn.apply(this,arguments)}function is(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function er(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?is(Object(n),!0).forEach(function(r){Sp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):is(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sp(e,t,n){return t=_p(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _p(e){var t=Cp(e,"string");return typeof t=="symbol"?t:t+""}function Cp(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hc(e){return e&&e.map((t,n)=>Ne.createElement(t.tag,er({key:n},t.attr),hc(t.child)))}function LE(e){return t=>Ne.createElement(Rp,Qn({attr:er({},e.attr)},t),hc(e.child))}function Rp(e){var t=n=>{var{attr:r,size:o,title:i}=e,s=bp(e,vp),a=o||n.size||"1em",c;return n.className&&(c=n.className),e.className&&(c=(c?c+" ":"")+e.className),Ne.createElement("svg",Qn({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:c,style:er(er({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&Ne.createElement("title",null,i),e.children)};return os!==void 0?Ne.createElement(os.Consumer,null,n=>t(n)):t(dc)}var ni={};Object.defineProperty(ni,"__esModule",{value:!0});ni.parse=$p;ni.serialize=Mp;const Np=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,Ap=/^[\u0021-\u003A\u003C-\u007E]*$/,Pp=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,Tp=/^[\u0020-\u003A\u003D-\u007E]*$/,kp=Object.prototype.toString,Op=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function $p(e,t){const n=new Op,r=e.length;if(r<2)return n;const o=(t==null?void 0:t.decode)||Ip;let i=0;do{const s=e.indexOf("=",i);if(s===-1)break;const a=e.indexOf(";",i),c=a===-1?r:a;if(s>c){i=e.lastIndexOf(";",s-1)+1;continue}const l=ss(e,i,s),u=as(e,s,l),f=e.slice(l,u);if(n[f]===void 0){let d=ss(e,s+1,c),h=as(e,c,d);const p=o(e.slice(d,h));n[f]=p}i=c+1}while(i<r);return n}function ss(e,t,n){do{const r=e.charCodeAt(t);if(r!==32&&r!==9)return t}while(++t<n);return n}function as(e,t,n){for(;t>n;){const r=e.charCodeAt(--t);if(r!==32&&r!==9)return t+1}return n}function Mp(e,t,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!Np.test(e))throw new TypeError(`argument name is invalid: ${e}`);const o=r(t);if(!Ap.test(o))throw new TypeError(`argument val is invalid: ${t}`);let i=e+"="+o;if(!n)return i;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);i+="; Max-Age="+n.maxAge}if(n.domain){if(!Pp.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);i+="; Domain="+n.domain}if(n.path){if(!Tp.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);i+="; Path="+n.path}if(n.expires){if(!Lp(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);i+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(i+="; HttpOnly"),n.secure&&(i+="; Secure"),n.partitioned&&(i+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"none":i+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return i}function Ip(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function Lp(e){return kp.call(e)==="[object Date]"}/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var cs="popstate";function Dp(e={}){function t(o,i){let{pathname:s="/",search:a="",hash:c=""}=mt(o.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),So("",{pathname:s,search:a,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(o,i){let s=o.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let c=o.location.href,l=c.indexOf("#");a=l===-1?c:c.slice(0,l)}return a+"#"+(typeof i=="string"?i:Zt(i))}function r(o,i){Pe(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return Fp(t,n,r,e)}function se(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Pe(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Hp(){return Math.random().toString(36).substring(2,10)}function ls(e,t){return{usr:e.state,key:e.key,idx:t}}function So(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?mt(t):t,state:n,key:t&&t.key||r||Hp()}}function Zt({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function mt(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Fp(e,t,n,r={}){let{window:o=document.defaultView,v5Compat:i=!1}=r,s=o.history,a="POP",c=null,l=u();l==null&&(l=0,s.replaceState({...s.state,idx:l},""));function u(){return(s.state||{idx:null}).idx}function f(){a="POP";let w=u(),y=w==null?null:w-l;l=w,c&&c({action:a,location:g.location,delta:y})}function d(w,y){a="PUSH";let b=So(g.location,w,y);n&&n(b,w),l=u()+1;let m=ls(b,l),x=g.createHref(b);try{s.pushState(m,"",x)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;o.location.assign(x)}i&&c&&c({action:a,location:g.location,delta:1})}function h(w,y){a="REPLACE";let b=So(g.location,w,y);n&&n(b,w),l=u();let m=ls(b,l),x=g.createHref(b);s.replaceState(m,"",x),i&&c&&c({action:a,location:g.location,delta:0})}function p(w){let y=o.location.origin!=="null"?o.location.origin:o.location.href,b=typeof w=="string"?w:Zt(w);return b=b.replace(/ $/,"%20"),se(y,`No window.location.(origin|href) available to create URL for href: ${b}`),new URL(b,y)}let g={get action(){return a},get location(){return e(o,s)},listen(w){if(c)throw new Error("A history only accepts one active listener");return o.addEventListener(cs,f),c=w,()=>{o.removeEventListener(cs,f),c=null}},createHref(w){return t(o,w)},createURL:p,encodeLocation(w){let y=p(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:d,replace:h,go(w){return s.go(w)}};return g}function pc(e,t,n="/"){return Bp(e,t,n,!1)}function Bp(e,t,n,r){let o=typeof t=="string"?mt(t):t,i=Ye(o.pathname||"/",n);if(i==null)return null;let s=mc(e);zp(s);let a=null;for(let c=0;a==null&&c<s.length;++c){let l=Zp(i);a=Kp(s[c],l,r)}return a}function mc(e,t=[],n=[],r=""){let o=(i,s,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};c.relativePath.startsWith("/")&&(se(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let l=Ue([r,c.relativePath]),u=n.concat(c);i.children&&i.children.length>0&&(se(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),mc(i.children,t,u,l)),!(i.path==null&&!i.index)&&t.push({path:l,score:Xp(l,i.index),routesMeta:u})};return e.forEach((i,s)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))o(i,s);else for(let c of gc(i.path))o(i,s,c)}),t}function gc(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let s=gc(r.join("/")),a=[];return a.push(...s.map(c=>c===""?i:[i,c].join("/"))),o&&a.push(...s),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function zp(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Gp(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var jp=/^:[\w-]+$/,Vp=3,Up=2,Wp=1,Yp=10,qp=-2,us=e=>e==="*";function Xp(e,t){let n=e.split("/"),r=n.length;return n.some(us)&&(r+=qp),t&&(r+=Up),n.filter(o=>!us(o)).reduce((o,i)=>o+(jp.test(i)?Vp:i===""?Wp:Yp),r)}function Gp(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function Kp(e,t,n=!1){let{routesMeta:r}=e,o={},i="/",s=[];for(let a=0;a<r.length;++a){let c=r[a],l=a===r.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=tr({path:c.relativePath,caseSensitive:c.caseSensitive,end:l},u),d=c.route;if(!f&&l&&n&&!r[r.length-1].route.index&&(f=tr({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!f)return null;Object.assign(o,f.params),s.push({params:o,pathname:Ue([i,f.pathname]),pathnameBase:nm(Ue([i,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(i=Ue([i,f.pathnameBase]))}return s}function tr(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Jp(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:r.reduce((l,{paramName:u,isOptional:f},d)=>{if(u==="*"){let p=a[d]||"";s=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const h=a[d];return f&&!h?l[u]=void 0:l[u]=(h||"").replace(/%2F/g,"/"),l},{}),pathname:i,pathnameBase:s,pattern:e}}function Jp(e,t=!1,n=!0){Pe(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function Zp(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Pe(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ye(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Qp(e,t="/"){let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?mt(e):e;return{pathname:n?n.startsWith("/")?n:em(n,t):t,search:rm(r),hash:om(o)}}function em(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function to(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function tm(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function yc(e){let t=tm(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function wc(e,t,n,r=!1){let o;typeof e=="string"?o=mt(e):(o={...e},se(!o.pathname||!o.pathname.includes("?"),to("?","pathname","search",o)),se(!o.pathname||!o.pathname.includes("#"),to("#","pathname","hash",o)),se(!o.search||!o.search.includes("#"),to("#","search","hash",o)));let i=e===""||o.pathname==="",s=i?"/":o.pathname,a;if(s==null)a=n;else{let f=t.length-1;if(!r&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),f-=1;o.pathname=d.join("/")}a=f>=0?t[f]:"/"}let c=Qp(o,a),l=s&&s!=="/"&&s.endsWith("/"),u=(i||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(l||u)&&(c.pathname+="/"),c}var Ue=e=>e.join("/").replace(/\/\/+/g,"/"),nm=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),rm=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,om=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function im(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var xc=["POST","PUT","PATCH","DELETE"];new Set(xc);var sm=["GET",...xc];new Set(sm);var It=v.createContext(null);It.displayName="DataRouter";var Cr=v.createContext(null);Cr.displayName="DataRouterState";var vc=v.createContext({isTransitioning:!1});vc.displayName="ViewTransition";var am=v.createContext(new Map);am.displayName="Fetchers";var cm=v.createContext(null);cm.displayName="Await";var Fe=v.createContext(null);Fe.displayName="Navigation";var hn=v.createContext(null);hn.displayName="Location";var Be=v.createContext({outlet:null,matches:[],isDataRoute:!1});Be.displayName="Route";var ri=v.createContext(null);ri.displayName="RouteError";function lm(e,{relative:t}={}){se(pn(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=v.useContext(Fe),{hash:o,pathname:i,search:s}=mn(e,{relative:t}),a=i;return n!=="/"&&(a=i==="/"?n:Ue([n,i])),r.createHref({pathname:a,search:s,hash:o})}function pn(){return v.useContext(hn)!=null}function gt(){return se(pn(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(hn).location}var bc="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ec(e){v.useContext(Fe).static||v.useLayoutEffect(e)}function um(){let{isDataRoute:e}=v.useContext(Be);return e?Sm():fm()}function fm(){se(pn(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(It),{basename:t,navigator:n}=v.useContext(Fe),{matches:r}=v.useContext(Be),{pathname:o}=gt(),i=JSON.stringify(yc(r)),s=v.useRef(!1);return Ec(()=>{s.current=!0}),v.useCallback((c,l={})=>{if(Pe(s.current,bc),!s.current)return;if(typeof c=="number"){n.go(c);return}let u=wc(c,JSON.parse(i),o,l.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:Ue([t,u.pathname])),(l.replace?n.replace:n.push)(u,l.state,l)},[t,n,i,o,e])}v.createContext(null);function DE(){let{matches:e}=v.useContext(Be),t=e[e.length-1];return t?t.params:{}}function mn(e,{relative:t}={}){let{matches:n}=v.useContext(Be),{pathname:r}=gt(),o=JSON.stringify(yc(n));return v.useMemo(()=>wc(e,JSON.parse(o),r,t==="path"),[e,o,r,t])}function dm(e,t){return Sc(e,t)}function Sc(e,t,n,r){var b;se(pn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:i}=v.useContext(Fe),{matches:s}=v.useContext(Be),a=s[s.length-1],c=a?a.params:{},l=a?a.pathname:"/",u=a?a.pathnameBase:"/",f=a&&a.route;{let m=f&&f.path||"";_c(l,!f||m.endsWith("*")||m.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${m}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${m}"> to <Route path="${m==="/"?"*":`${m}/*`}">.`)}let d=gt(),h;if(t){let m=typeof t=="string"?mt(t):t;se(u==="/"||((b=m.pathname)==null?void 0:b.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${m.pathname}" was given in the \`location\` prop.`),h=m}else h=d;let p=h.pathname||"/",g=p;if(u!=="/"){let m=u.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(m.length).join("/")}let w=!i&&n&&n.matches&&n.matches.length>0?n.matches:pc(e,{pathname:g});Pe(f||w!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),Pe(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=ym(w&&w.map(m=>Object.assign({},m,{params:Object.assign({},c,m.params),pathname:Ue([u,o.encodeLocation?o.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?u:Ue([u,o.encodeLocation?o.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),s,n,r);return t&&y?v.createElement(hn.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},y):y}function hm(){let e=Em(),t=im(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:i},"ErrorBoundary")," or"," ",v.createElement("code",{style:i},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:o},n):null,s)}var pm=v.createElement(hm,null),mm=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?v.createElement(Be.Provider,{value:this.props.routeContext},v.createElement(ri.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function gm({routeContext:e,match:t,children:n}){let r=v.useContext(It);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(Be.Provider,{value:e},n)}function ym(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,i=n==null?void 0:n.errors;if(i!=null){let c=o.findIndex(l=>l.route.id&&(i==null?void 0:i[l.route.id])!==void 0);se(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),o=o.slice(0,Math.min(o.length,c+1))}let s=!1,a=-1;if(n)for(let c=0;c<o.length;c++){let l=o[c];if((l.route.HydrateFallback||l.route.hydrateFallbackElement)&&(a=c),l.route.id){let{loaderData:u,errors:f}=n,d=l.route.loader&&!u.hasOwnProperty(l.route.id)&&(!f||f[l.route.id]===void 0);if(l.route.lazy||d){s=!0,a>=0?o=o.slice(0,a+1):o=[o[0]];break}}}return o.reduceRight((c,l,u)=>{let f,d=!1,h=null,p=null;n&&(f=i&&l.route.id?i[l.route.id]:void 0,h=l.route.errorElement||pm,s&&(a<0&&u===0?(_c("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):a===u&&(d=!0,p=l.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,u+1)),w=()=>{let y;return f?y=h:d?y=p:l.route.Component?y=v.createElement(l.route.Component,null):l.route.element?y=l.route.element:y=c,v.createElement(gm,{match:l,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:y})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?v.createElement(mm,{location:n.location,revalidation:n.revalidation,component:h,error:f,children:w(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):w()},null)}function oi(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wm(e){let t=v.useContext(It);return se(t,oi(e)),t}function xm(e){let t=v.useContext(Cr);return se(t,oi(e)),t}function vm(e){let t=v.useContext(Be);return se(t,oi(e)),t}function ii(e){let t=vm(e),n=t.matches[t.matches.length-1];return se(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function bm(){return ii("useRouteId")}function Em(){var r;let e=v.useContext(ri),t=xm("useRouteError"),n=ii("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function Sm(){let{router:e}=wm("useNavigate"),t=ii("useNavigate"),n=v.useRef(!1);return Ec(()=>{n.current=!0}),v.useCallback(async(o,i={})=>{Pe(n.current,bc),n.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:t,...i}))},[e,t])}var fs={};function _c(e,t,n){!t&&!fs[e]&&(fs[e]=!0,Pe(!1,n))}v.memo(_m);function _m({routes:e,future:t,state:n}){return Sc(e,void 0,n,t)}function Cm(e){se(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Rm({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:o,static:i=!1}){se(!pn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),a=v.useMemo(()=>({basename:s,navigator:o,static:i,future:{}}),[s,o,i]);typeof n=="string"&&(n=mt(n));let{pathname:c="/",search:l="",hash:u="",state:f=null,key:d="default"}=n,h=v.useMemo(()=>{let p=Ye(c,s);return p==null?null:{location:{pathname:p,search:l,hash:u,state:f,key:d},navigationType:r}},[s,c,l,u,f,d,r]);return Pe(h!=null,`<Router basename="${s}"> is not able to match the URL "${c}${l}${u}" because it does not start with the basename, so the <Router> won't render anything.`),h==null?null:v.createElement(Fe.Provider,{value:a},v.createElement(hn.Provider,{children:t,value:h}))}function HE({children:e,location:t}){return dm(_o(e),t)}function _o(e,t=[]){let n=[];return v.Children.forEach(e,(r,o)=>{if(!v.isValidElement(r))return;let i=[...t,o];if(r.type===v.Fragment){n.push.apply(n,_o(r.props.children,i));return}se(r.type===Cm,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),se(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=_o(r.props.children,i)),n.push(s)}),n}var Fn="get",Bn="application/x-www-form-urlencoded";function Rr(e){return e!=null&&typeof e.tagName=="string"}function Nm(e){return Rr(e)&&e.tagName.toLowerCase()==="button"}function Am(e){return Rr(e)&&e.tagName.toLowerCase()==="form"}function Pm(e){return Rr(e)&&e.tagName.toLowerCase()==="input"}function Tm(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function km(e,t){return e.button===0&&(!t||t==="_self")&&!Tm(e)}var Cn=null;function Om(){if(Cn===null)try{new FormData(document.createElement("form"),0),Cn=!1}catch{Cn=!0}return Cn}var $m=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function no(e){return e!=null&&!$m.has(e)?(Pe(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bn}"`),null):e}function Mm(e,t){let n,r,o,i,s;if(Am(e)){let a=e.getAttribute("action");r=a?Ye(a,t):null,n=e.getAttribute("method")||Fn,o=no(e.getAttribute("enctype"))||Bn,i=new FormData(e)}else if(Nm(e)||Pm(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||a.getAttribute("action");if(r=c?Ye(c,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Fn,o=no(e.getAttribute("formenctype"))||no(a.getAttribute("enctype"))||Bn,i=new FormData(a,e),!Om()){let{name:l,type:u,value:f}=e;if(u==="image"){let d=l?`${l}.`:"";i.append(`${d}x`,"0"),i.append(`${d}y`,"0")}else l&&i.append(l,f)}}else{if(Rr(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Fn,r=null,o=Bn,s=e}return i&&o==="text/plain"&&(s=i,i=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:i,body:s}}function si(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function Im(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Lm(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Dm(e,t,n){let r=await Promise.all(e.map(async o=>{let i=t.routes[o.route.id];if(i){let s=await Im(i,n);return s.links?s.links():[]}return[]}));return zm(r.flat(1).filter(Lm).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function ds(e,t,n,r,o,i){let s=(c,l)=>n[l]?c.route.id!==n[l].route.id:!0,a=(c,l)=>{var u;return n[l].pathname!==c.pathname||((u=n[l].route.path)==null?void 0:u.endsWith("*"))&&n[l].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,l)=>s(c,l)||a(c,l)):i==="data"?t.filter((c,l)=>{var f;let u=r.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(s(c,l)||a(c,l))return!0;if(c.route.shouldRevalidate){let d=c.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function Hm(e,t,{includeHydrateFallback:n}={}){return Fm(e.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let i=[o.module];return o.clientActionModule&&(i=i.concat(o.clientActionModule)),o.clientLoaderModule&&(i=i.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(i=i.concat(o.hydrateFallbackModule)),o.imports&&(i=i.concat(o.imports)),i}).flat(1))}function Fm(e){return[...new Set(e)]}function Bm(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function zm(e,t){let n=new Set;return new Set(t),e.reduce((r,o)=>{let i=JSON.stringify(Bm(o));return n.has(i)||(n.add(i),r.push({key:i,link:o})),r},[])}function jm(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&Ye(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Cc(){let e=v.useContext(It);return si(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Vm(){let e=v.useContext(Cr);return si(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ai=v.createContext(void 0);ai.displayName="FrameworkContext";function Rc(){let e=v.useContext(ai);return si(e,"You must render this element inside a <HydratedRouter> element"),e}function Um(e,t){let n=v.useContext(ai),[r,o]=v.useState(!1),[i,s]=v.useState(!1),{onFocus:a,onBlur:c,onMouseEnter:l,onMouseLeave:u,onTouchStart:f}=t,d=v.useRef(null);v.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let g=y=>{y.forEach(b=>{s(b.isIntersecting)})},w=new IntersectionObserver(g,{threshold:.5});return d.current&&w.observe(d.current),()=>{w.disconnect()}}},[e]),v.useEffect(()=>{if(r){let g=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(g)}}},[r]);let h=()=>{o(!0)},p=()=>{o(!1),s(!1)};return n?e!=="intent"?[i,d,{}]:[i,d,{onFocus:jt(a,h),onBlur:jt(c,p),onMouseEnter:jt(l,h),onMouseLeave:jt(u,p),onTouchStart:jt(f,h)}]:[!1,d,{}]}function jt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Wm({page:e,...t}){let{router:n}=Cc(),r=v.useMemo(()=>pc(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?v.createElement(qm,{page:e,matches:r,...t}):null}function Ym(e){let{manifest:t,routeModules:n}=Rc(),[r,o]=v.useState([]);return v.useEffect(()=>{let i=!1;return Dm(e,t,n).then(s=>{i||o(s)}),()=>{i=!0}},[e,t,n]),r}function qm({page:e,matches:t,...n}){let r=gt(),{manifest:o,routeModules:i}=Rc(),{basename:s}=Cc(),{loaderData:a,matches:c}=Vm(),l=v.useMemo(()=>ds(e,t,c,o,r,"data"),[e,t,c,o,r]),u=v.useMemo(()=>ds(e,t,c,o,r,"assets"),[e,t,c,o,r]),f=v.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let p=new Set,g=!1;if(t.forEach(y=>{var m;let b=o.routes[y.route.id];!b||!b.hasLoader||(!l.some(x=>x.route.id===y.route.id)&&y.route.id in a&&((m=i[y.route.id])!=null&&m.shouldRevalidate)||b.hasClientLoader?g=!0:p.add(y.route.id))}),p.size===0)return[];let w=jm(e,s);return g&&p.size>0&&w.searchParams.set("_routes",t.filter(y=>p.has(y.route.id)).map(y=>y.route.id).join(",")),[w.pathname+w.search]},[s,a,r,o,l,t,e,i]),d=v.useMemo(()=>Hm(u,o),[u,o]),h=Ym(u);return v.createElement(v.Fragment,null,f.map(p=>v.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...n})),d.map(p=>v.createElement("link",{key:p,rel:"modulepreload",href:p,...n})),h.map(({key:p,link:g})=>v.createElement("link",{key:p,...g})))}function Xm(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Nc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Nc&&(window.__reactRouterVersion="7.4.0")}catch{}function FE({basename:e,children:t,window:n}){let r=v.useRef();r.current==null&&(r.current=Dp({window:n,v5Compat:!0}));let o=r.current,[i,s]=v.useState({action:o.action,location:o.location}),a=v.useCallback(c=>{v.startTransition(()=>s(c))},[s]);return v.useLayoutEffect(()=>o.listen(a),[o,a]),v.createElement(Rm,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:o})}var Ac=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pc=v.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:o,reloadDocument:i,replace:s,state:a,target:c,to:l,preventScrollReset:u,viewTransition:f,...d},h){let{basename:p}=v.useContext(Fe),g=typeof l=="string"&&Ac.test(l),w,y=!1;if(typeof l=="string"&&g&&(w=l,Nc))try{let k=new URL(window.location.href),O=l.startsWith("//")?new URL(k.protocol+l):new URL(l),F=Ye(O.pathname,p);O.origin===k.origin&&F!=null?l=F+O.search+O.hash:y=!0}catch{Pe(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=lm(l,{relative:o}),[m,x,_]=Um(r,d),P=Zm(l,{replace:s,state:a,target:c,preventScrollReset:u,relative:o,viewTransition:f});function C(k){t&&t(k),k.defaultPrevented||P(k)}let $=v.createElement("a",{...d,..._,href:w||b,onClick:y||i?t:C,ref:Xm(h,x),target:c,"data-discover":!g&&n==="render"?"true":void 0});return m&&!g?v.createElement(v.Fragment,null,$,v.createElement(Wm,{page:b})):$});Pc.displayName="Link";var Gm=v.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:o=!1,style:i,to:s,viewTransition:a,children:c,...l},u){let f=mn(s,{relative:l.relative}),d=gt(),h=v.useContext(Cr),{navigator:p,basename:g}=v.useContext(Fe),w=h!=null&&rg(f)&&a===!0,y=p.encodeLocation?p.encodeLocation(f).pathname:f.pathname,b=d.pathname,m=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;n||(b=b.toLowerCase(),m=m?m.toLowerCase():null,y=y.toLowerCase()),m&&g&&(m=Ye(m,g)||m);const x=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let _=b===y||!o&&b.startsWith(y)&&b.charAt(x)==="/",P=m!=null&&(m===y||!o&&m.startsWith(y)&&m.charAt(y.length)==="/"),C={isActive:_,isPending:P,isTransitioning:w},$=_?t:void 0,k;typeof r=="function"?k=r(C):k=[r,_?"active":null,P?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let O=typeof i=="function"?i(C):i;return v.createElement(Pc,{...l,"aria-current":$,className:k,ref:u,style:O,to:s,viewTransition:a},typeof c=="function"?c(C):c)});Gm.displayName="NavLink";var Km=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:o,state:i,method:s=Fn,action:a,onSubmit:c,relative:l,preventScrollReset:u,viewTransition:f,...d},h)=>{let p=tg(),g=ng(a,{relative:l}),w=s.toLowerCase()==="get"?"get":"post",y=typeof a=="string"&&Ac.test(a),b=m=>{if(c&&c(m),m.defaultPrevented)return;m.preventDefault();let x=m.nativeEvent.submitter,_=(x==null?void 0:x.getAttribute("formmethod"))||s;p(x||m.currentTarget,{fetcherKey:t,method:_,navigate:n,replace:o,state:i,relative:l,preventScrollReset:u,viewTransition:f})};return v.createElement("form",{ref:h,method:w,action:g,onSubmit:r?c:b,...d,"data-discover":!y&&e==="render"?"true":void 0})});Km.displayName="Form";function Jm(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tc(e){let t=v.useContext(It);return se(t,Jm(e)),t}function Zm(e,{target:t,replace:n,state:r,preventScrollReset:o,relative:i,viewTransition:s}={}){let a=um(),c=gt(),l=mn(e,{relative:i});return v.useCallback(u=>{if(km(u,t)){u.preventDefault();let f=n!==void 0?n:Zt(c)===Zt(l);a(e,{replace:f,state:r,preventScrollReset:o,relative:i,viewTransition:s})}},[c,a,l,n,r,t,e,o,i,s])}var Qm=0,eg=()=>`__${String(++Qm)}__`;function tg(){let{router:e}=Tc("useSubmit"),{basename:t}=v.useContext(Fe),n=bm();return v.useCallback(async(r,o={})=>{let{action:i,method:s,encType:a,formData:c,body:l}=Mm(r,t);if(o.navigate===!1){let u=o.fetcherKey||eg();await e.fetch(u,n,o.action||i,{preventScrollReset:o.preventScrollReset,formData:c,body:l,formMethod:o.method||s,formEncType:o.encType||a,flushSync:o.flushSync})}else await e.navigate(o.action||i,{preventScrollReset:o.preventScrollReset,formData:c,body:l,formMethod:o.method||s,formEncType:o.encType||a,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,n])}function ng(e,{relative:t}={}){let{basename:n}=v.useContext(Fe),r=v.useContext(Be);se(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),i={...mn(e||".",{relative:t})},s=gt();if(e==null){i.search=s.search;let a=new URLSearchParams(i.search),c=a.getAll("index");if(c.some(u=>u==="")){a.delete("index"),c.filter(f=>f).forEach(f=>a.append("index",f));let u=a.toString();i.search=u?`?${u}`:""}}return(!e||e===".")&&o.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Ue([n,i.pathname])),Zt(i)}function rg(e,t={}){let n=v.useContext(vc);se(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Tc("useViewTransitionState"),o=mn(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=Ye(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Ye(n.nextLocation.pathname,r)||n.nextLocation.pathname;return tr(o.pathname,s)!=null||tr(o.pathname,i)!=null}new TextEncoder;function le(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=le(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var og={value:()=>{}};function Nr(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new zn(n)}function zn(e){this._=e}function ig(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}zn.prototype=Nr.prototype={constructor:zn,on:function(e,t){var n=this._,r=ig(e+"",n),o,i=-1,s=r.length;if(arguments.length<2){for(;++i<s;)if((o=(e=r[i]).type)&&(o=sg(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<s;)if(o=(e=r[i]).type)n[o]=hs(n[o],e.name,t);else if(t==null)for(o in n)n[o]=hs(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new zn(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};function sg(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function hs(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=og,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Co="http://www.w3.org/1999/xhtml";const ps={svg:"http://www.w3.org/2000/svg",xhtml:Co,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ar(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),ps.hasOwnProperty(t)?{space:ps[t],local:e}:e}function ag(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Co&&t.documentElement.namespaceURI===Co?t.createElement(e):t.createElementNS(n,e)}}function cg(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function kc(e){var t=Ar(e);return(t.local?cg:ag)(t)}function lg(){}function ci(e){return e==null?lg:function(){return this.querySelector(e)}}function ug(e){typeof e!="function"&&(e=ci(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,a=r[o]=new Array(s),c,l,u=0;u<s;++u)(c=i[u])&&(l=e.call(c,c.__data__,u,i))&&("__data__"in c&&(l.__data__=c.__data__),a[u]=l);return new be(r,this._parents)}function fg(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function dg(){return[]}function Oc(e){return e==null?dg:function(){return this.querySelectorAll(e)}}function hg(e){return function(){return fg(e.apply(this,arguments))}}function pg(e){typeof e=="function"?e=hg(e):e=Oc(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var s=t[i],a=s.length,c,l=0;l<a;++l)(c=s[l])&&(r.push(e.call(c,c.__data__,l,s)),o.push(c));return new be(r,o)}function $c(e){return function(){return this.matches(e)}}function Mc(e){return function(t){return t.matches(e)}}var mg=Array.prototype.find;function gg(e){return function(){return mg.call(this.children,e)}}function yg(){return this.firstElementChild}function wg(e){return this.select(e==null?yg:gg(typeof e=="function"?e:Mc(e)))}var xg=Array.prototype.filter;function vg(){return Array.from(this.children)}function bg(e){return function(){return xg.call(this.children,e)}}function Eg(e){return this.selectAll(e==null?vg:bg(typeof e=="function"?e:Mc(e)))}function Sg(e){typeof e!="function"&&(e=$c(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,a=r[o]=[],c,l=0;l<s;++l)(c=i[l])&&e.call(c,c.__data__,l,i)&&a.push(c);return new be(r,this._parents)}function Ic(e){return new Array(e.length)}function _g(){return new be(this._enter||this._groups.map(Ic),this._parents)}function nr(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}nr.prototype={constructor:nr,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Cg(e){return function(){return e}}function Rg(e,t,n,r,o,i){for(var s=0,a,c=t.length,l=i.length;s<l;++s)(a=t[s])?(a.__data__=i[s],r[s]=a):n[s]=new nr(e,i[s]);for(;s<c;++s)(a=t[s])&&(o[s]=a)}function Ng(e,t,n,r,o,i,s){var a,c,l=new Map,u=t.length,f=i.length,d=new Array(u),h;for(a=0;a<u;++a)(c=t[a])&&(d[a]=h=s.call(c,c.__data__,a,t)+"",l.has(h)?o[a]=c:l.set(h,c));for(a=0;a<f;++a)h=s.call(e,i[a],a,i)+"",(c=l.get(h))?(r[a]=c,c.__data__=i[a],l.delete(h)):n[a]=new nr(e,i[a]);for(a=0;a<u;++a)(c=t[a])&&l.get(d[a])===c&&(o[a]=c)}function Ag(e){return e.__data__}function Pg(e,t){if(!arguments.length)return Array.from(this,Ag);var n=t?Ng:Rg,r=this._parents,o=this._groups;typeof e!="function"&&(e=Cg(e));for(var i=o.length,s=new Array(i),a=new Array(i),c=new Array(i),l=0;l<i;++l){var u=r[l],f=o[l],d=f.length,h=Tg(e.call(u,u&&u.__data__,l,r)),p=h.length,g=a[l]=new Array(p),w=s[l]=new Array(p),y=c[l]=new Array(d);n(u,f,g,w,y,h,t);for(var b=0,m=0,x,_;b<p;++b)if(x=g[b]){for(b>=m&&(m=b+1);!(_=w[m])&&++m<p;);x._next=_||null}}return s=new be(s,r),s._enter=a,s._exit=c,s}function Tg(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function kg(){return new be(this._exit||this._groups.map(Ic),this._parents)}function Og(e,t,n){var r=this.enter(),o=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function $g(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,s=Math.min(o,i),a=new Array(o),c=0;c<s;++c)for(var l=n[c],u=r[c],f=l.length,d=a[c]=new Array(f),h,p=0;p<f;++p)(h=l[p]||u[p])&&(d[p]=h);for(;c<o;++c)a[c]=n[c];return new be(a,this._parents)}function Mg(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,i=r[o],s;--o>=0;)(s=r[o])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function Ig(e){e||(e=Lg);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var s=n[i],a=s.length,c=o[i]=new Array(a),l,u=0;u<a;++u)(l=s[u])&&(c[u]=l);c.sort(t)}return new be(o,this._parents).order()}function Lg(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Dg(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Hg(){return Array.from(this)}function Fg(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var s=r[o];if(s)return s}return null}function Bg(){let e=0;for(const t of this)++e;return e}function zg(){return!this.node()}function jg(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,s=o.length,a;i<s;++i)(a=o[i])&&e.call(a,a.__data__,i,o);return this}function Vg(e){return function(){this.removeAttribute(e)}}function Ug(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Wg(e,t){return function(){this.setAttribute(e,t)}}function Yg(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function qg(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Xg(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Gg(e,t){var n=Ar(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Ug:Vg:typeof t=="function"?n.local?Xg:qg:n.local?Yg:Wg)(n,t))}function Lc(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Kg(e){return function(){this.style.removeProperty(e)}}function Jg(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Zg(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Qg(e,t,n){return arguments.length>1?this.each((t==null?Kg:typeof t=="function"?Zg:Jg)(e,t,n??"")):_t(this.node(),e)}function _t(e,t){return e.style.getPropertyValue(t)||Lc(e).getComputedStyle(e,null).getPropertyValue(t)}function ey(e){return function(){delete this[e]}}function ty(e,t){return function(){this[e]=t}}function ny(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function ry(e,t){return arguments.length>1?this.each((t==null?ey:typeof t=="function"?ny:ty)(e,t)):this.node()[e]}function Dc(e){return e.trim().split(/^|\s+/)}function li(e){return e.classList||new Hc(e)}function Hc(e){this._node=e,this._names=Dc(e.getAttribute("class")||"")}Hc.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Fc(e,t){for(var n=li(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function Bc(e,t){for(var n=li(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function oy(e){return function(){Fc(this,e)}}function iy(e){return function(){Bc(this,e)}}function sy(e,t){return function(){(t.apply(this,arguments)?Fc:Bc)(this,e)}}function ay(e,t){var n=Dc(e+"");if(arguments.length<2){for(var r=li(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?sy:t?oy:iy)(n,t))}function cy(){this.textContent=""}function ly(e){return function(){this.textContent=e}}function uy(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function fy(e){return arguments.length?this.each(e==null?cy:(typeof e=="function"?uy:ly)(e)):this.node().textContent}function dy(){this.innerHTML=""}function hy(e){return function(){this.innerHTML=e}}function py(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function my(e){return arguments.length?this.each(e==null?dy:(typeof e=="function"?py:hy)(e)):this.node().innerHTML}function gy(){this.nextSibling&&this.parentNode.appendChild(this)}function yy(){return this.each(gy)}function wy(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function xy(){return this.each(wy)}function vy(e){var t=typeof e=="function"?e:kc(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function by(){return null}function Ey(e,t){var n=typeof e=="function"?e:kc(e),r=t==null?by:typeof t=="function"?t:ci(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Sy(){var e=this.parentNode;e&&e.removeChild(this)}function _y(){return this.each(Sy)}function Cy(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ry(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ny(e){return this.select(e?Ry:Cy)}function Ay(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Py(e){return function(t){e.call(this,t,this.__data__)}}function Ty(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function ky(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,i;n<o;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function Oy(e,t,n){return function(){var r=this.__on,o,i=Py(t);if(r){for(var s=0,a=r.length;s<a;++s)if((o=r[s]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=t;return}}this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function $y(e,t,n){var r=Ty(e+""),o,i=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var c=0,l=a.length,u;c<l;++c)for(o=0,u=a[c];o<i;++o)if((s=r[o]).type===u.type&&s.name===u.name)return u.value}return}for(a=t?Oy:ky,o=0;o<i;++o)this.each(a(r[o],t,n));return this}function zc(e,t,n){var r=Lc(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function My(e,t){return function(){return zc(this,e,t)}}function Iy(e,t){return function(){return zc(this,e,t.apply(this,arguments))}}function Ly(e,t){return this.each((typeof t=="function"?Iy:My)(e,t))}function*Dy(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length,s;o<i;++o)(s=r[o])&&(yield s)}var jc=[null];function be(e,t){this._groups=e,this._parents=t}function gn(){return new be([[document.documentElement]],jc)}function Hy(){return this}be.prototype=gn.prototype={constructor:be,select:ug,selectAll:pg,selectChild:wg,selectChildren:Eg,filter:Sg,data:Pg,enter:_g,exit:kg,join:Og,merge:$g,selection:Hy,order:Mg,sort:Ig,call:Dg,nodes:Hg,node:Fg,size:Bg,empty:zg,each:jg,attr:Gg,style:Qg,property:ry,classed:ay,text:fy,html:my,raise:yy,lower:xy,append:vy,insert:Ey,remove:_y,clone:Ny,datum:Ay,on:$y,dispatch:Ly,[Symbol.iterator]:Dy};function we(e){return typeof e=="string"?new be([[document.querySelector(e)]],[document.documentElement]):new be([[e]],jc)}function Fy(e){let t;for(;t=e.sourceEvent;)e=t;return e}function _e(e,t){if(e=Fy(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const By={passive:!1},Qt={capture:!0,passive:!1};function ro(e){e.stopImmediatePropagation()}function bt(e){e.preventDefault(),e.stopImmediatePropagation()}function Vc(e){var t=e.document.documentElement,n=we(e).on("dragstart.drag",bt,Qt);"onselectstart"in t?n.on("selectstart.drag",bt,Qt):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Uc(e,t){var n=e.document.documentElement,r=we(e).on("dragstart.drag",null);t&&(r.on("click.drag",bt,Qt),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Rn=e=>()=>e;function Ro(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:s,y:a,dx:c,dy:l,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:u}})}Ro.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function zy(e){return!e.ctrlKey&&!e.button}function jy(){return this.parentNode}function Vy(e,t){return t??{x:e.x,y:e.y}}function Uy(){return navigator.maxTouchPoints||"ontouchstart"in this}function Wc(){var e=zy,t=jy,n=Vy,r=Uy,o={},i=Nr("start","drag","end"),s=0,a,c,l,u,f=0;function d(x){x.on("mousedown.drag",h).filter(r).on("touchstart.drag",w).on("touchmove.drag",y,By).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(x,_){if(!(u||!e.call(this,x,_))){var P=m(this,t.call(this,x,_),x,_,"mouse");P&&(we(x.view).on("mousemove.drag",p,Qt).on("mouseup.drag",g,Qt),Vc(x.view),ro(x),l=!1,a=x.clientX,c=x.clientY,P("start",x))}}function p(x){if(bt(x),!l){var _=x.clientX-a,P=x.clientY-c;l=_*_+P*P>f}o.mouse("drag",x)}function g(x){we(x.view).on("mousemove.drag mouseup.drag",null),Uc(x.view,l),bt(x),o.mouse("end",x)}function w(x,_){if(e.call(this,x,_)){var P=x.changedTouches,C=t.call(this,x,_),$=P.length,k,O;for(k=0;k<$;++k)(O=m(this,C,x,_,P[k].identifier,P[k]))&&(ro(x),O("start",x,P[k]))}}function y(x){var _=x.changedTouches,P=_.length,C,$;for(C=0;C<P;++C)($=o[_[C].identifier])&&(bt(x),$("drag",x,_[C]))}function b(x){var _=x.changedTouches,P=_.length,C,$;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),C=0;C<P;++C)($=o[_[C].identifier])&&(ro(x),$("end",x,_[C]))}function m(x,_,P,C,$,k){var O=i.copy(),F=_e(k||P,_),D,H,E;if((E=n.call(x,new Ro("beforestart",{sourceEvent:P,target:d,identifier:$,active:s,x:F[0],y:F[1],dx:0,dy:0,dispatch:O}),C))!=null)return D=E.x-F[0]||0,H=E.y-F[1]||0,function A(S,T,N){var R=F,L;switch(S){case"start":o[$]=A,L=s++;break;case"end":delete o[$],--s;case"drag":F=_e(N||T,_),L=s;break}O.call(S,x,new Ro(S,{sourceEvent:T,subject:E,target:d,identifier:$,active:L,x:F[0]+D,y:F[1]+H,dx:F[0]-R[0],dy:F[1]-R[1],dispatch:O}),C)}}return d.filter=function(x){return arguments.length?(e=typeof x=="function"?x:Rn(!!x),d):e},d.container=function(x){return arguments.length?(t=typeof x=="function"?x:Rn(x),d):t},d.subject=function(x){return arguments.length?(n=typeof x=="function"?x:Rn(x),d):n},d.touchable=function(x){return arguments.length?(r=typeof x=="function"?x:Rn(!!x),d):r},d.on=function(){var x=i.on.apply(i,arguments);return x===i?d:x},d.clickDistance=function(x){return arguments.length?(f=(x=+x)*x,d):Math.sqrt(f)},d}function ui(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Yc(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function yn(){}var en=.7,rr=1/en,Et="\\s*([+-]?\\d+)\\s*",tn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Me="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Wy=/^#([0-9a-f]{3,8})$/,Yy=new RegExp(`^rgb\\(${Et},${Et},${Et}\\)$`),qy=new RegExp(`^rgb\\(${Me},${Me},${Me}\\)$`),Xy=new RegExp(`^rgba\\(${Et},${Et},${Et},${tn}\\)$`),Gy=new RegExp(`^rgba\\(${Me},${Me},${Me},${tn}\\)$`),Ky=new RegExp(`^hsl\\(${tn},${Me},${Me}\\)$`),Jy=new RegExp(`^hsla\\(${tn},${Me},${Me},${tn}\\)$`),ms={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ui(yn,nn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:gs,formatHex:gs,formatHex8:Zy,formatHsl:Qy,formatRgb:ys,toString:ys});function gs(){return this.rgb().formatHex()}function Zy(){return this.rgb().formatHex8()}function Qy(){return qc(this).formatHsl()}function ys(){return this.rgb().formatRgb()}function nn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Wy.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?ws(t):n===3?new me(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Nn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Nn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Yy.exec(e))?new me(t[1],t[2],t[3],1):(t=qy.exec(e))?new me(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Xy.exec(e))?Nn(t[1],t[2],t[3],t[4]):(t=Gy.exec(e))?Nn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Ky.exec(e))?bs(t[1],t[2]/100,t[3]/100,1):(t=Jy.exec(e))?bs(t[1],t[2]/100,t[3]/100,t[4]):ms.hasOwnProperty(e)?ws(ms[e]):e==="transparent"?new me(NaN,NaN,NaN,0):null}function ws(e){return new me(e>>16&255,e>>8&255,e&255,1)}function Nn(e,t,n,r){return r<=0&&(e=t=n=NaN),new me(e,t,n,r)}function e0(e){return e instanceof yn||(e=nn(e)),e?(e=e.rgb(),new me(e.r,e.g,e.b,e.opacity)):new me}function No(e,t,n,r){return arguments.length===1?e0(e):new me(e,t,n,r??1)}function me(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ui(me,No,Yc(yn,{brighter(e){return e=e==null?rr:Math.pow(rr,e),new me(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?en:Math.pow(en,e),new me(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new me(at(this.r),at(this.g),at(this.b),or(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xs,formatHex:xs,formatHex8:t0,formatRgb:vs,toString:vs}));function xs(){return`#${it(this.r)}${it(this.g)}${it(this.b)}`}function t0(){return`#${it(this.r)}${it(this.g)}${it(this.b)}${it((isNaN(this.opacity)?1:this.opacity)*255)}`}function vs(){const e=or(this.opacity);return`${e===1?"rgb(":"rgba("}${at(this.r)}, ${at(this.g)}, ${at(this.b)}${e===1?")":`, ${e})`}`}function or(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function at(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function it(e){return e=at(e),(e<16?"0":"")+e.toString(16)}function bs(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ce(e,t,n,r)}function qc(e){if(e instanceof Ce)return new Ce(e.h,e.s,e.l,e.opacity);if(e instanceof yn||(e=nn(e)),!e)return new Ce;if(e instanceof Ce)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),s=NaN,a=i-o,c=(i+o)/2;return a?(t===i?s=(n-r)/a+(n<r)*6:n===i?s=(r-t)/a+2:s=(t-n)/a+4,a/=c<.5?i+o:2-i-o,s*=60):a=c>0&&c<1?0:s,new Ce(s,a,c,e.opacity)}function n0(e,t,n,r){return arguments.length===1?qc(e):new Ce(e,t,n,r??1)}function Ce(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ui(Ce,n0,Yc(yn,{brighter(e){return e=e==null?rr:Math.pow(rr,e),new Ce(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?en:Math.pow(en,e),new Ce(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new me(oo(e>=240?e-240:e+120,o,r),oo(e,o,r),oo(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new Ce(Es(this.h),An(this.s),An(this.l),or(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=or(this.opacity);return`${e===1?"hsl(":"hsla("}${Es(this.h)}, ${An(this.s)*100}%, ${An(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Es(e){return e=(e||0)%360,e<0?e+360:e}function An(e){return Math.max(0,Math.min(1,e||0))}function oo(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Xc=e=>()=>e;function r0(e,t){return function(n){return e+n*t}}function o0(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function i0(e){return(e=+e)==1?Gc:function(t,n){return n-t?o0(t,n,e):Xc(isNaN(t)?n:t)}}function Gc(e,t){var n=t-e;return n?r0(e,n):Xc(isNaN(e)?t:e)}const Ss=function e(t){var n=i0(t);function r(o,i){var s=n((o=No(o)).r,(i=No(i)).r),a=n(o.g,i.g),c=n(o.b,i.b),l=Gc(o.opacity,i.opacity);return function(u){return o.r=s(u),o.g=a(u),o.b=c(u),o.opacity=l(u),o+""}}return r.gamma=e,r}(1);function Ze(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Ao=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,io=new RegExp(Ao.source,"g");function s0(e){return function(){return e}}function a0(e){return function(t){return e(t)+""}}function c0(e,t){var n=Ao.lastIndex=io.lastIndex=0,r,o,i,s=-1,a=[],c=[];for(e=e+"",t=t+"";(r=Ao.exec(e))&&(o=io.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),a[s]?a[s]+=i:a[++s]=i),(r=r[0])===(o=o[0])?a[s]?a[s]+=o:a[++s]=o:(a[++s]=null,c.push({i:s,x:Ze(r,o)})),n=io.lastIndex;return n<t.length&&(i=t.slice(n),a[s]?a[s]+=i:a[++s]=i),a.length<2?c[0]?a0(c[0].x):s0(t):(t=c.length,function(l){for(var u=0,f;u<t;++u)a[(f=c[u]).i]=f.x(l);return a.join("")})}var _s=180/Math.PI,Po={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Kc(e,t,n,r,o,i){var s,a,c;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,c/=a),e*r<t*n&&(e=-e,t=-t,c=-c,s=-s),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*_s,skewX:Math.atan(c)*_s,scaleX:s,scaleY:a}}var Pn;function l0(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Po:Kc(t.a,t.b,t.c,t.d,t.e,t.f)}function u0(e){return e==null||(Pn||(Pn=document.createElementNS("http://www.w3.org/2000/svg","g")),Pn.setAttribute("transform",e),!(e=Pn.transform.baseVal.consolidate()))?Po:(e=e.matrix,Kc(e.a,e.b,e.c,e.d,e.e,e.f))}function Jc(e,t,n,r){function o(l){return l.length?l.pop()+" ":""}function i(l,u,f,d,h,p){if(l!==f||u!==d){var g=h.push("translate(",null,t,null,n);p.push({i:g-4,x:Ze(l,f)},{i:g-2,x:Ze(u,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function s(l,u,f,d){l!==u?(l-u>180?u+=360:u-l>180&&(l+=360),d.push({i:f.push(o(f)+"rotate(",null,r)-2,x:Ze(l,u)})):u&&f.push(o(f)+"rotate("+u+r)}function a(l,u,f,d){l!==u?d.push({i:f.push(o(f)+"skewX(",null,r)-2,x:Ze(l,u)}):u&&f.push(o(f)+"skewX("+u+r)}function c(l,u,f,d,h,p){if(l!==f||u!==d){var g=h.push(o(h)+"scale(",null,",",null,")");p.push({i:g-4,x:Ze(l,f)},{i:g-2,x:Ze(u,d)})}else(f!==1||d!==1)&&h.push(o(h)+"scale("+f+","+d+")")}return function(l,u){var f=[],d=[];return l=e(l),u=e(u),i(l.translateX,l.translateY,u.translateX,u.translateY,f,d),s(l.rotate,u.rotate,f,d),a(l.skewX,u.skewX,f,d),c(l.scaleX,l.scaleY,u.scaleX,u.scaleY,f,d),l=u=null,function(h){for(var p=-1,g=d.length,w;++p<g;)f[(w=d[p]).i]=w.x(h);return f.join("")}}}var f0=Jc(l0,"px, ","px)","deg)"),d0=Jc(u0,", ",")",")"),h0=1e-12;function Cs(e){return((e=Math.exp(e))+1/e)/2}function p0(e){return((e=Math.exp(e))-1/e)/2}function m0(e){return((e=Math.exp(2*e))-1)/(e+1)}const g0=function e(t,n,r){function o(i,s){var a=i[0],c=i[1],l=i[2],u=s[0],f=s[1],d=s[2],h=u-a,p=f-c,g=h*h+p*p,w,y;if(g<h0)y=Math.log(d/l)/t,w=function(C){return[a+C*h,c+C*p,l*Math.exp(t*C*y)]};else{var b=Math.sqrt(g),m=(d*d-l*l+r*g)/(2*l*n*b),x=(d*d-l*l-r*g)/(2*d*n*b),_=Math.log(Math.sqrt(m*m+1)-m),P=Math.log(Math.sqrt(x*x+1)-x);y=(P-_)/t,w=function(C){var $=C*y,k=Cs(_),O=l/(n*b)*(k*m0(t*$+_)-p0(_));return[a+O*h,c+O*p,l*k/Cs(t*$+_)]}}return w.duration=y*1e3*t/Math.SQRT2,w}return o.rho=function(i){var s=Math.max(.001,+i),a=s*s,c=a*a;return e(s,a,c)},o}(Math.SQRT2,2,4);var Ct=0,Wt=0,Vt=0,Zc=1e3,ir,Yt,sr=0,dt=0,Pr=0,rn=typeof performance=="object"&&performance.now?performance:Date,Qc=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function fi(){return dt||(Qc(y0),dt=rn.now()+Pr)}function y0(){dt=0}function ar(){this._call=this._time=this._next=null}ar.prototype=el.prototype={constructor:ar,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?fi():+n)+(t==null?0:+t),!this._next&&Yt!==this&&(Yt?Yt._next=this:ir=this,Yt=this),this._call=e,this._time=n,To()},stop:function(){this._call&&(this._call=null,this._time=1/0,To())}};function el(e,t,n){var r=new ar;return r.restart(e,t,n),r}function w0(){fi(),++Ct;for(var e=ir,t;e;)(t=dt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ct}function Rs(){dt=(sr=rn.now())+Pr,Ct=Wt=0;try{w0()}finally{Ct=0,v0(),dt=0}}function x0(){var e=rn.now(),t=e-sr;t>Zc&&(Pr-=t,sr=e)}function v0(){for(var e,t=ir,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:ir=n);Yt=e,To(r)}function To(e){if(!Ct){Wt&&(Wt=clearTimeout(Wt));var t=e-dt;t>24?(e<1/0&&(Wt=setTimeout(Rs,e-rn.now()-Pr)),Vt&&(Vt=clearInterval(Vt))):(Vt||(sr=rn.now(),Vt=setInterval(x0,Zc)),Ct=1,Qc(Rs))}}function Ns(e,t,n){var r=new ar;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var b0=Nr("start","end","cancel","interrupt"),E0=[],tl=0,As=1,ko=2,jn=3,Ps=4,Oo=5,Vn=6;function Tr(e,t,n,r,o,i){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;S0(e,n,{name:t,index:r,group:o,on:b0,tween:E0,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:tl})}function di(e,t){var n=ke(e,t);if(n.state>tl)throw new Error("too late; already scheduled");return n}function ze(e,t){var n=ke(e,t);if(n.state>jn)throw new Error("too late; already running");return n}function ke(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function S0(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=el(i,0,n.time);function i(l){n.state=As,n.timer.restart(s,n.delay,n.time),n.delay<=l&&s(l-n.delay)}function s(l){var u,f,d,h;if(n.state!==As)return c();for(u in r)if(h=r[u],h.name===n.name){if(h.state===jn)return Ns(s);h.state===Ps?(h.state=Vn,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[u]):+u<t&&(h.state=Vn,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[u])}if(Ns(function(){n.state===jn&&(n.state=Ps,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=ko,n.on.call("start",e,e.__data__,n.index,n.group),n.state===ko){for(n.state=jn,o=new Array(d=n.tween.length),u=0,f=-1;u<d;++u)(h=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(o[++f]=h);o.length=f+1}}function a(l){for(var u=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(c),n.state=Oo,1),f=-1,d=o.length;++f<d;)o[f].call(e,u);n.state===Oo&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=Vn,n.timer.stop(),delete r[t];for(var l in r)return;delete e.__transition}}function Un(e,t){var n=e.__transition,r,o,i=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){i=!1;continue}o=r.state>ko&&r.state<Oo,r.state=Vn,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}i&&delete e.__transition}}function _0(e){return this.each(function(){Un(this,e)})}function C0(e,t){var n,r;return function(){var o=ze(this,e),i=o.tween;if(i!==n){r=n=i;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}o.tween=r}}function R0(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=ze(this,e),s=i.tween;if(s!==r){o=(r=s).slice();for(var a={name:t,value:n},c=0,l=o.length;c<l;++c)if(o[c].name===t){o[c]=a;break}c===l&&o.push(a)}i.tween=o}}function N0(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=ke(this.node(),n).tween,o=0,i=r.length,s;o<i;++o)if((s=r[o]).name===e)return s.value;return null}return this.each((t==null?C0:R0)(n,e,t))}function hi(e,t,n){var r=e._id;return e.each(function(){var o=ze(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return ke(o,r).value[t]}}function nl(e,t){var n;return(typeof t=="number"?Ze:t instanceof nn?Ss:(n=nn(t))?(t=n,Ss):c0)(e,t)}function A0(e){return function(){this.removeAttribute(e)}}function P0(e){return function(){this.removeAttributeNS(e.space,e.local)}}function T0(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttribute(e);return s===o?null:s===r?i:i=t(r=s,n)}}function k0(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===r?i:i=t(r=s,n)}}function O0(e,t,n){var r,o,i;return function(){var s,a=n(this),c;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),c=a+"",s===c?null:s===r&&c===o?i:(o=c,i=t(r=s,a)))}}function $0(e,t,n){var r,o,i;return function(){var s,a=n(this),c;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),c=a+"",s===c?null:s===r&&c===o?i:(o=c,i=t(r=s,a)))}}function M0(e,t){var n=Ar(e),r=n==="transform"?d0:nl;return this.attrTween(e,typeof t=="function"?(n.local?$0:O0)(n,r,hi(this,"attr."+e,t)):t==null?(n.local?P0:A0)(n):(n.local?k0:T0)(n,r,t))}function I0(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function L0(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function D0(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&L0(e,i)),n}return o._value=t,o}function H0(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&I0(e,i)),n}return o._value=t,o}function F0(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Ar(e);return this.tween(n,(r.local?D0:H0)(r,t))}function B0(e,t){return function(){di(this,e).delay=+t.apply(this,arguments)}}function z0(e,t){return t=+t,function(){di(this,e).delay=t}}function j0(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?B0:z0)(t,e)):ke(this.node(),t).delay}function V0(e,t){return function(){ze(this,e).duration=+t.apply(this,arguments)}}function U0(e,t){return t=+t,function(){ze(this,e).duration=t}}function W0(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?V0:U0)(t,e)):ke(this.node(),t).duration}function Y0(e,t){if(typeof t!="function")throw new Error;return function(){ze(this,e).ease=t}}function q0(e){var t=this._id;return arguments.length?this.each(Y0(t,e)):ke(this.node(),t).ease}function X0(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;ze(this,e).ease=n}}function G0(e){if(typeof e!="function")throw new Error;return this.each(X0(this._id,e))}function K0(e){typeof e!="function"&&(e=$c(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,a=r[o]=[],c,l=0;l<s;++l)(c=i[l])&&e.call(c,c.__data__,l,i)&&a.push(c);return new qe(r,this._parents,this._name,this._id)}function J0(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),s=new Array(r),a=0;a<i;++a)for(var c=t[a],l=n[a],u=c.length,f=s[a]=new Array(u),d,h=0;h<u;++h)(d=c[h]||l[h])&&(f[h]=d);for(;a<r;++a)s[a]=t[a];return new qe(s,this._parents,this._name,this._id)}function Z0(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Q0(e,t,n){var r,o,i=Z0(t)?di:ze;return function(){var s=i(this,e),a=s.on;a!==r&&(o=(r=a).copy()).on(t,n),s.on=o}}function ew(e,t){var n=this._id;return arguments.length<2?ke(this.node(),n).on.on(e):this.each(Q0(n,e,t))}function tw(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function nw(){return this.on("end.remove",tw(this._id))}function rw(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ci(e));for(var r=this._groups,o=r.length,i=new Array(o),s=0;s<o;++s)for(var a=r[s],c=a.length,l=i[s]=new Array(c),u,f,d=0;d<c;++d)(u=a[d])&&(f=e.call(u,u.__data__,d,a))&&("__data__"in u&&(f.__data__=u.__data__),l[d]=f,Tr(l[d],t,n,d,l,ke(u,n)));return new qe(i,this._parents,t,n)}function ow(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Oc(e));for(var r=this._groups,o=r.length,i=[],s=[],a=0;a<o;++a)for(var c=r[a],l=c.length,u,f=0;f<l;++f)if(u=c[f]){for(var d=e.call(u,u.__data__,f,c),h,p=ke(u,n),g=0,w=d.length;g<w;++g)(h=d[g])&&Tr(h,t,n,g,d,p);i.push(d),s.push(u)}return new qe(i,s,t,n)}var iw=gn.prototype.constructor;function sw(){return new iw(this._groups,this._parents)}function aw(e,t){var n,r,o;return function(){var i=_t(this,e),s=(this.style.removeProperty(e),_t(this,e));return i===s?null:i===n&&s===r?o:o=t(n=i,r=s)}}function rl(e){return function(){this.style.removeProperty(e)}}function cw(e,t,n){var r,o=n+"",i;return function(){var s=_t(this,e);return s===o?null:s===r?i:i=t(r=s,n)}}function lw(e,t,n){var r,o,i;return function(){var s=_t(this,e),a=n(this),c=a+"";return a==null&&(c=a=(this.style.removeProperty(e),_t(this,e))),s===c?null:s===r&&c===o?i:(o=c,i=t(r=s,a))}}function uw(e,t){var n,r,o,i="style."+t,s="end."+i,a;return function(){var c=ze(this,e),l=c.on,u=c.value[i]==null?a||(a=rl(t)):void 0;(l!==n||o!==u)&&(r=(n=l).copy()).on(s,o=u),c.on=r}}function fw(e,t,n){var r=(e+="")=="transform"?f0:nl;return t==null?this.styleTween(e,aw(e,r)).on("end.style."+e,rl(e)):typeof t=="function"?this.styleTween(e,lw(e,r,hi(this,"style."+e,t))).each(uw(this._id,e)):this.styleTween(e,cw(e,r,t),n).on("end.style."+e,null)}function dw(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function hw(e,t,n){var r,o;function i(){var s=t.apply(this,arguments);return s!==o&&(r=(o=s)&&dw(e,s,n)),r}return i._value=t,i}function pw(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,hw(e,t,n??""))}function mw(e){return function(){this.textContent=e}}function gw(e){return function(){var t=e(this);this.textContent=t??""}}function yw(e){return this.tween("text",typeof e=="function"?gw(hi(this,"text",e)):mw(e==null?"":e+""))}function ww(e){return function(t){this.textContent=e.call(this,t)}}function xw(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&ww(o)),t}return r._value=e,r}function vw(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,xw(e))}function bw(){for(var e=this._name,t=this._id,n=ol(),r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],a=s.length,c,l=0;l<a;++l)if(c=s[l]){var u=ke(c,t);Tr(c,e,n,l,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new qe(r,this._parents,e,n)}function Ew(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,s){var a={value:s},c={value:function(){--o===0&&i()}};n.each(function(){var l=ze(this,r),u=l.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(c)),l.on=t}),o===0&&i()})}var Sw=0;function qe(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function ol(){return++Sw}var je=gn.prototype;qe.prototype={constructor:qe,select:rw,selectAll:ow,selectChild:je.selectChild,selectChildren:je.selectChildren,filter:K0,merge:J0,selection:sw,transition:bw,call:je.call,nodes:je.nodes,node:je.node,size:je.size,empty:je.empty,each:je.each,on:ew,attr:M0,attrTween:F0,style:fw,styleTween:pw,text:yw,textTween:vw,remove:nw,tween:N0,delay:j0,duration:W0,ease:q0,easeVarying:G0,end:Ew,[Symbol.iterator]:je[Symbol.iterator]};function _w(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Cw={time:null,delay:0,duration:250,ease:_w};function Rw(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Nw(e){var t,n;e instanceof qe?(t=e._id,e=e._name):(t=ol(),(n=Cw).time=fi(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],a=s.length,c,l=0;l<a;++l)(c=s[l])&&Tr(c,e,t,l,s,n||Rw(c,t));return new qe(r,this._parents,e,t)}gn.prototype.interrupt=_0;gn.prototype.transition=Nw;const Tn=e=>()=>e;function Aw(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function Ve(e,t,n){this.k=e,this.x=t,this.y=n}Ve.prototype={constructor:Ve,scale:function(e){return e===1?this:new Ve(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ve(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var kr=new Ve(1,0,0);il.prototype=Ve.prototype;function il(e){for(;!e.__zoom;)if(!(e=e.parentNode))return kr;return e.__zoom}function so(e){e.stopImmediatePropagation()}function Ut(e){e.preventDefault(),e.stopImmediatePropagation()}function Pw(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Tw(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Ts(){return this.__zoom||kr}function kw(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Ow(){return navigator.maxTouchPoints||"ontouchstart"in this}function $w(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function sl(){var e=Pw,t=Tw,n=$w,r=kw,o=Ow,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,c=g0,l=Nr("start","zoom","end"),u,f,d,h=500,p=150,g=0,w=10;function y(E){E.property("__zoom",Ts).on("wheel.zoom",$,{passive:!1}).on("mousedown.zoom",k).on("dblclick.zoom",O).filter(o).on("touchstart.zoom",F).on("touchmove.zoom",D).on("touchend.zoom touchcancel.zoom",H).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(E,A,S,T){var N=E.selection?E.selection():E;N.property("__zoom",Ts),E!==N?_(E,A,S,T):N.interrupt().each(function(){P(this,arguments).event(T).start().zoom(null,typeof A=="function"?A.apply(this,arguments):A).end()})},y.scaleBy=function(E,A,S,T){y.scaleTo(E,function(){var N=this.__zoom.k,R=typeof A=="function"?A.apply(this,arguments):A;return N*R},S,T)},y.scaleTo=function(E,A,S,T){y.transform(E,function(){var N=t.apply(this,arguments),R=this.__zoom,L=S==null?x(N):typeof S=="function"?S.apply(this,arguments):S,B=R.invert(L),z=typeof A=="function"?A.apply(this,arguments):A;return n(m(b(R,z),L,B),N,s)},S,T)},y.translateBy=function(E,A,S,T){y.transform(E,function(){return n(this.__zoom.translate(typeof A=="function"?A.apply(this,arguments):A,typeof S=="function"?S.apply(this,arguments):S),t.apply(this,arguments),s)},null,T)},y.translateTo=function(E,A,S,T,N){y.transform(E,function(){var R=t.apply(this,arguments),L=this.__zoom,B=T==null?x(R):typeof T=="function"?T.apply(this,arguments):T;return n(kr.translate(B[0],B[1]).scale(L.k).translate(typeof A=="function"?-A.apply(this,arguments):-A,typeof S=="function"?-S.apply(this,arguments):-S),R,s)},T,N)};function b(E,A){return A=Math.max(i[0],Math.min(i[1],A)),A===E.k?E:new Ve(A,E.x,E.y)}function m(E,A,S){var T=A[0]-S[0]*E.k,N=A[1]-S[1]*E.k;return T===E.x&&N===E.y?E:new Ve(E.k,T,N)}function x(E){return[(+E[0][0]+ +E[1][0])/2,(+E[0][1]+ +E[1][1])/2]}function _(E,A,S,T){E.on("start.zoom",function(){P(this,arguments).event(T).start()}).on("interrupt.zoom end.zoom",function(){P(this,arguments).event(T).end()}).tween("zoom",function(){var N=this,R=arguments,L=P(N,R).event(T),B=t.apply(N,R),z=S==null?x(B):typeof S=="function"?S.apply(N,R):S,Y=Math.max(B[1][0]-B[0][0],B[1][1]-B[0][1]),V=N.__zoom,U=typeof A=="function"?A.apply(N,R):A,q=c(V.invert(z).concat(Y/V.k),U.invert(z).concat(Y/U.k));return function(j){if(j===1)j=U;else{var X=q(j),Q=Y/X[2];j=new Ve(Q,z[0]-X[0]*Q,z[1]-X[1]*Q)}L.zoom(null,j)}})}function P(E,A,S){return!S&&E.__zooming||new C(E,A)}function C(E,A){this.that=E,this.args=A,this.active=0,this.sourceEvent=null,this.extent=t.apply(E,A),this.taps=0}C.prototype={event:function(E){return E&&(this.sourceEvent=E),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(E,A){return this.mouse&&E!=="mouse"&&(this.mouse[1]=A.invert(this.mouse[0])),this.touch0&&E!=="touch"&&(this.touch0[1]=A.invert(this.touch0[0])),this.touch1&&E!=="touch"&&(this.touch1[1]=A.invert(this.touch1[0])),this.that.__zoom=A,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(E){var A=we(this.that).datum();l.call(E,this.that,new Aw(E,{sourceEvent:this.sourceEvent,target:y,transform:this.that.__zoom,dispatch:l}),A)}};function $(E,...A){if(!e.apply(this,arguments))return;var S=P(this,A).event(E),T=this.__zoom,N=Math.max(i[0],Math.min(i[1],T.k*Math.pow(2,r.apply(this,arguments)))),R=_e(E);if(S.wheel)(S.mouse[0][0]!==R[0]||S.mouse[0][1]!==R[1])&&(S.mouse[1]=T.invert(S.mouse[0]=R)),clearTimeout(S.wheel);else{if(T.k===N)return;S.mouse=[R,T.invert(R)],Un(this),S.start()}Ut(E),S.wheel=setTimeout(L,p),S.zoom("mouse",n(m(b(T,N),S.mouse[0],S.mouse[1]),S.extent,s));function L(){S.wheel=null,S.end()}}function k(E,...A){if(d||!e.apply(this,arguments))return;var S=E.currentTarget,T=P(this,A,!0).event(E),N=we(E.view).on("mousemove.zoom",z,!0).on("mouseup.zoom",Y,!0),R=_e(E,S),L=E.clientX,B=E.clientY;Vc(E.view),so(E),T.mouse=[R,this.__zoom.invert(R)],Un(this),T.start();function z(V){if(Ut(V),!T.moved){var U=V.clientX-L,q=V.clientY-B;T.moved=U*U+q*q>g}T.event(V).zoom("mouse",n(m(T.that.__zoom,T.mouse[0]=_e(V,S),T.mouse[1]),T.extent,s))}function Y(V){N.on("mousemove.zoom mouseup.zoom",null),Uc(V.view,T.moved),Ut(V),T.event(V).end()}}function O(E,...A){if(e.apply(this,arguments)){var S=this.__zoom,T=_e(E.changedTouches?E.changedTouches[0]:E,this),N=S.invert(T),R=S.k*(E.shiftKey?.5:2),L=n(m(b(S,R),T,N),t.apply(this,A),s);Ut(E),a>0?we(this).transition().duration(a).call(_,L,T,E):we(this).call(y.transform,L,T,E)}}function F(E,...A){if(e.apply(this,arguments)){var S=E.touches,T=S.length,N=P(this,A,E.changedTouches.length===T).event(E),R,L,B,z;for(so(E),L=0;L<T;++L)B=S[L],z=_e(B,this),z=[z,this.__zoom.invert(z),B.identifier],N.touch0?!N.touch1&&N.touch0[2]!==z[2]&&(N.touch1=z,N.taps=0):(N.touch0=z,R=!0,N.taps=1+!!u);u&&(u=clearTimeout(u)),R&&(N.taps<2&&(f=z[0],u=setTimeout(function(){u=null},h)),Un(this),N.start())}}function D(E,...A){if(this.__zooming){var S=P(this,A).event(E),T=E.changedTouches,N=T.length,R,L,B,z;for(Ut(E),R=0;R<N;++R)L=T[R],B=_e(L,this),S.touch0&&S.touch0[2]===L.identifier?S.touch0[0]=B:S.touch1&&S.touch1[2]===L.identifier&&(S.touch1[0]=B);if(L=S.that.__zoom,S.touch1){var Y=S.touch0[0],V=S.touch0[1],U=S.touch1[0],q=S.touch1[1],j=(j=U[0]-Y[0])*j+(j=U[1]-Y[1])*j,X=(X=q[0]-V[0])*X+(X=q[1]-V[1])*X;L=b(L,Math.sqrt(j/X)),B=[(Y[0]+U[0])/2,(Y[1]+U[1])/2],z=[(V[0]+q[0])/2,(V[1]+q[1])/2]}else if(S.touch0)B=S.touch0[0],z=S.touch0[1];else return;S.zoom("touch",n(m(L,B,z),S.extent,s))}}function H(E,...A){if(this.__zooming){var S=P(this,A).event(E),T=E.changedTouches,N=T.length,R,L;for(so(E),d&&clearTimeout(d),d=setTimeout(function(){d=null},h),R=0;R<N;++R)L=T[R],S.touch0&&S.touch0[2]===L.identifier?delete S.touch0:S.touch1&&S.touch1[2]===L.identifier&&delete S.touch1;if(S.touch1&&!S.touch0&&(S.touch0=S.touch1,delete S.touch1),S.touch0)S.touch0[1]=this.__zoom.invert(S.touch0[0]);else if(S.end(),S.taps===2&&(L=_e(L,this),Math.hypot(f[0]-L[0],f[1]-L[1])<w)){var B=we(this).on("dblclick.zoom");B&&B.apply(this,arguments)}}}return y.wheelDelta=function(E){return arguments.length?(r=typeof E=="function"?E:Tn(+E),y):r},y.filter=function(E){return arguments.length?(e=typeof E=="function"?E:Tn(!!E),y):e},y.touchable=function(E){return arguments.length?(o=typeof E=="function"?E:Tn(!!E),y):o},y.extent=function(E){return arguments.length?(t=typeof E=="function"?E:Tn([[+E[0][0],+E[0][1]],[+E[1][0],+E[1][1]]]),y):t},y.scaleExtent=function(E){return arguments.length?(i[0]=+E[0],i[1]=+E[1],y):[i[0],i[1]]},y.translateExtent=function(E){return arguments.length?(s[0][0]=+E[0][0],s[1][0]=+E[1][0],s[0][1]=+E[0][1],s[1][1]=+E[1][1],y):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},y.constrain=function(E){return arguments.length?(n=E,y):n},y.duration=function(E){return arguments.length?(a=+E,y):a},y.interpolate=function(E){return arguments.length?(c=E,y):c},y.on=function(){var E=l.on.apply(l,arguments);return E===l?y:E},y.clickDistance=function(E){return arguments.length?(g=(E=+E)*E,y):Math.sqrt(g)},y.tapDistance=function(E){return arguments.length?(w=+E,y):w},y}const De={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},on=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],al=["Enter"," ","Escape"];var Rt;(function(e){e.Strict="strict",e.Loose="loose"})(Rt||(Rt={}));var ct;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(ct||(ct={}));var sn;(function(e){e.Partial="partial",e.Full="full"})(sn||(sn={}));const cl={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Qe;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Qe||(Qe={}));var cr;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(cr||(cr={}));var W;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(W||(W={}));const ks={[W.Left]:W.Right,[W.Right]:W.Left,[W.Top]:W.Bottom,[W.Bottom]:W.Top};function ll(e){return e===null?null:e?"valid":"invalid"}const ul=e=>"id"in e&&"source"in e&&"target"in e,Mw=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),pi=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),wn=(e,t=[0,0])=>{const{width:n,height:r}=Xe(e),o=e.origin??t,i=n*o[0],s=r*o[1];return{x:e.position.x-i,y:e.position.y-s}},Iw=(e,t={nodeOrigin:[0,0],nodeLookup:void 0})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const i=typeof o=="string";let s=!t.nodeLookup&&!i?o:void 0;t.nodeLookup&&(s=i?t.nodeLookup.get(o):pi(o)?o:t.nodeLookup.get(o.id));const a=s?lr(s,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Or(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return $r(n)},xn=(e,t={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(r=>{if(t.filter===void 0||t.filter(r)){const o=lr(r);n=Or(n,o)}}),$r(n)},fl=(e,t,[n,r,o]=[0,0,1],i=!1,s=!1)=>{const a={...vn(t,[n,r,o]),width:t.width/o,height:t.height/o},c=[];for(const l of e.values()){const{measured:u,selectable:f=!0,hidden:d=!1}=l;if(s&&!f||d)continue;const h=u.width??l.width??l.initialWidth??null,p=u.height??l.height??l.initialHeight??null,g=an(a,At(l)),w=(h??0)*(p??0),y=i&&g>0;(!l.internals.handleBounds||y||g>=w||l.dragging)&&c.push(l)}return c},Lw=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function $o(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(o=>o.id)):null;return e.forEach(o=>{o.measured.width&&o.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!o.hidden)&&(!r||r.has(o.id))&&n.set(o.id,o)}),n}async function Mo({nodes:e,width:t,height:n,panZoom:r,minZoom:o,maxZoom:i},s){if(e.size===0)return Promise.resolve(!1);const a=xn(e),c=mi(a,t,n,(s==null?void 0:s.minZoom)??o,(s==null?void 0:s.maxZoom)??i,(s==null?void 0:s.padding)??.1);return await r.setViewport(c,{duration:s==null?void 0:s.duration}),Promise.resolve(!0)}function dl({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:o,onError:i}){const s=n.get(e),a=s.parentId?n.get(s.parentId):void 0,{x:c,y:l}=a?a.internals.positionAbsolute:{x:0,y:0},u=s.origin??r;let f=o;if(s.extent==="parent"&&!s.expandParent)if(!a)i==null||i("005",De.error005());else{const h=a.measured.width,p=a.measured.height;h&&p&&(f=[[c,l],[c+h,l+p]])}else a&&Pt(s.extent)&&(f=[[s.extent[0][0]+c,s.extent[0][1]+l],[s.extent[1][0]+c,s.extent[1][1]+l]]);const d=Pt(f)?ht(t,f,s.measured):t;return(s.measured.width===void 0||s.measured.height===void 0)&&(i==null||i("015",De.error015())),{position:{x:d.x-c+(s.measured.width??0)*u[0],y:d.y-l+(s.measured.height??0)*u[1]},positionAbsolute:d}}async function Dw({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:o}){const i=new Set(e.map(d=>d.id)),s=[];for(const d of n){if(d.deletable===!1)continue;const h=i.has(d.id),p=!h&&d.parentId&&s.find(g=>g.id===d.parentId);(h||p)&&s.push(d)}const a=new Set(t.map(d=>d.id)),c=r.filter(d=>d.deletable!==!1),u=Lw(s,c);for(const d of c)a.has(d.id)&&!u.find(p=>p.id===d.id)&&u.push(d);if(!o)return{edges:u,nodes:s};const f=await o({nodes:s,edges:u});return typeof f=="boolean"?f?{edges:u,nodes:s}:{edges:[],nodes:[]}:f}const Nt=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),ht=(e={x:0,y:0},t,n)=>({x:Nt(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:Nt(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function hl(e,t,n){const{width:r,height:o}=Xe(n),{x:i,y:s}=n.internals.positionAbsolute;return ht(e,[[i,s],[i+r,s+o]],t)}const Os=(e,t,n)=>e<t?Nt(Math.abs(e-t),1,t)/t:e>n?-Nt(Math.abs(e-n),1,t)/t:0,pl=(e,t,n=15,r=40)=>{const o=Os(e.x,r,t.width-r)*n,i=Os(e.y,r,t.height-r)*n;return[o,i]},Or=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Io=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),$r=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),At=(e,t=[0,0])=>{var o,i;const{x:n,y:r}=pi(e)?e.internals.positionAbsolute:wn(e,t);return{x:n,y:r,width:((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0,height:((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0}},lr=(e,t=[0,0])=>{var o,i;const{x:n,y:r}=pi(e)?e.internals.positionAbsolute:wn(e,t);return{x:n,y:r,x2:n+(((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0),y2:r+(((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0)}},ml=(e,t)=>$r(Or(Io(e),Io(t))),an=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},$s=e=>Re(e.width)&&Re(e.height)&&Re(e.x)&&Re(e.y),Re=e=>!isNaN(e)&&isFinite(e),Hw=(e,t)=>{},Mr=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),vn=({x:e,y:t},[n,r,o],i=!1,s=[1,1])=>{const a={x:(e-n)/o,y:(t-r)/o};return i?Mr(a,s):a},gl=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r}),mi=(e,t,n,r,o,i)=>{const s=t/(e.width*(1+i)),a=n/(e.height*(1+i)),c=Math.min(s,a),l=Nt(c,r,o),u=e.x+e.width/2,f=e.y+e.height/2,d=t/2-u*l,h=n/2-f*l;return{x:d,y:h,zoom:l}},ur=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Pt(e){return e!==void 0&&e!=="parent"}function Xe(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function yl(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function wl(e,t={width:0,height:0},n,r,o){const i={...e},s=r.get(n);if(s){const a=s.origin||o;i.x+=s.internals.positionAbsolute.x-(t.width??0)*a[0],i.y+=s.internals.positionAbsolute.y-(t.height??0)*a[1]}return i}function Ms(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function Xt(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:o}){const{x:i,y:s}=We(e),a=vn({x:i-((o==null?void 0:o.left)??0),y:s-((o==null?void 0:o.top)??0)},r),{x:c,y:l}=n?Mr(a,t):a;return{xSnapped:c,ySnapped:l,...a}}const Ir=e=>({width:e.offsetWidth,height:e.offsetHeight}),xl=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Fw=["INPUT","SELECT","TEXTAREA"];function Lo(e){var r,o;const t=((o=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:o[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:Fw.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const vl=e=>"clientX"in e,We=(e,t)=>{var i,s;const n=vl(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,o=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},Is=(e,t,n,r,o)=>{const i=t.querySelectorAll(`.${e}`);return!i||!i.length?null:Array.from(i).map(s=>{const a=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:e,nodeId:o,position:s.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...Ir(s)}})};function bl({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:s,targetControlY:a}){const c=e*.125+o*.375+s*.375+n*.125,l=t*.125+i*.375+a*.375+r*.125,u=Math.abs(c-e),f=Math.abs(l-t);return[c,l,u,f]}function kn(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Ls({pos:e,x1:t,y1:n,x2:r,y2:o,c:i}){switch(e){case W.Left:return[t-kn(t-r,i),n];case W.Right:return[t+kn(r-t,i),n];case W.Top:return[t,n-kn(n-o,i)];case W.Bottom:return[t,n+kn(o-n,i)]}}function El({sourceX:e,sourceY:t,sourcePosition:n=W.Bottom,targetX:r,targetY:o,targetPosition:i=W.Top,curvature:s=.25}){const[a,c]=Ls({pos:n,x1:e,y1:t,x2:r,y2:o,c:s}),[l,u]=Ls({pos:i,x1:r,y1:o,x2:e,y2:t,c:s}),[f,d,h,p]=bl({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:a,sourceControlY:c,targetControlX:l,targetControlY:u});return[`M${e},${t} C${a},${c} ${l},${u} ${r},${o}`,f,d,h,p]}function Sl({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,i=n<e?n+o:n-o,s=Math.abs(r-t)/2,a=r<t?r+s:r-s;return[i,a,o,s]}function Bw({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:o=!1}){if(!o)return r;const i=n||t.selected||e.selected,s=Math.max(e.internals.z||0,t.internals.z||0,1e3);return r+(i?s:0)}function zw({sourceNode:e,targetNode:t,width:n,height:r,transform:o}){const i=Or(lr(e),lr(t));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const s={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:r/o[2]};return an(s,$r(i))>0}const jw=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,Vw=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Uw=(e,t)=>{if(!e.source||!e.target)return t;let n;return ul(e)?n={...e}:n={...e,id:jw(e)},Vw(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function _l({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,i,s,a]=Sl({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,i,s,a]}const Ds={[W.Left]:{x:-1,y:0},[W.Right]:{x:1,y:0},[W.Top]:{x:0,y:-1},[W.Bottom]:{x:0,y:1}},Ww=({source:e,sourcePosition:t=W.Bottom,target:n})=>t===W.Left||t===W.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Hs=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Yw({source:e,sourcePosition:t=W.Bottom,target:n,targetPosition:r=W.Top,center:o,offset:i}){const s=Ds[t],a=Ds[r],c={x:e.x+s.x*i,y:e.y+s.y*i},l={x:n.x+a.x*i,y:n.y+a.y*i},u=Ww({source:c,sourcePosition:t,target:l}),f=u.x!==0?"x":"y",d=u[f];let h=[],p,g;const w={x:0,y:0},y={x:0,y:0},[b,m,x,_]=Sl({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[f]*a[f]===-1){p=o.x??b,g=o.y??m;const C=[{x:p,y:c.y},{x:p,y:l.y}],$=[{x:c.x,y:g},{x:l.x,y:g}];s[f]===d?h=f==="x"?C:$:h=f==="x"?$:C}else{const C=[{x:c.x,y:l.y}],$=[{x:l.x,y:c.y}];if(f==="x"?h=s.x===d?$:C:h=s.y===d?C:$,t===r){const H=Math.abs(e[f]-n[f]);if(H<=i){const E=Math.min(i-1,i-H);s[f]===d?w[f]=(c[f]>e[f]?-1:1)*E:y[f]=(l[f]>n[f]?-1:1)*E}}if(t!==r){const H=f==="x"?"y":"x",E=s[f]===a[H],A=c[H]>l[H],S=c[H]<l[H];(s[f]===1&&(!E&&A||E&&S)||s[f]!==1&&(!E&&S||E&&A))&&(h=f==="x"?C:$)}const k={x:c.x+w.x,y:c.y+w.y},O={x:l.x+y.x,y:l.y+y.y},F=Math.max(Math.abs(k.x-h[0].x),Math.abs(O.x-h[0].x)),D=Math.max(Math.abs(k.y-h[0].y),Math.abs(O.y-h[0].y));F>=D?(p=(k.x+O.x)/2,g=h[0].y):(p=h[0].x,g=(k.y+O.y)/2)}return[[e,{x:c.x+w.x,y:c.y+w.y},...h,{x:l.x+y.x,y:l.y+y.y},n],p,g,x,_]}function qw(e,t,n,r){const o=Math.min(Hs(e,t)/2,Hs(t,n)/2,r),{x:i,y:s}=t;if(e.x===i&&i===n.x||e.y===s&&s===n.y)return`L${i} ${s}`;if(e.y===s){const l=e.x<n.x?-1:1,u=e.y<n.y?1:-1;return`L ${i+o*l},${s}Q ${i},${s} ${i},${s+o*u}`}const a=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${i},${s+o*c}Q ${i},${s} ${i+o*a},${s}`}function Do({sourceX:e,sourceY:t,sourcePosition:n=W.Bottom,targetX:r,targetY:o,targetPosition:i=W.Top,borderRadius:s=5,centerX:a,centerY:c,offset:l=20}){const[u,f,d,h,p]=Yw({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:i,center:{x:a,y:c},offset:l});return[u.reduce((w,y,b)=>{let m="";return b>0&&b<u.length-1?m=qw(u[b-1],y,u[b+1],s):m=`${b===0?"M":"L"}${y.x} ${y.y}`,w+=m,w},""),f,d,h,p]}function Fs(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function Xw(e){var f;const{sourceNode:t,targetNode:n}=e;if(!Fs(t)||!Fs(n))return null;const r=t.internals.handleBounds||Bs(t.handles),o=n.internals.handleBounds||Bs(n.handles),i=zs((r==null?void 0:r.source)??[],e.sourceHandle),s=zs(e.connectionMode===Rt.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),e.targetHandle);if(!i||!s)return(f=e.onError)==null||f.call(e,"008",De.error008(i?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const a=(i==null?void 0:i.position)||W.Bottom,c=(s==null?void 0:s.position)||W.Top,l=cn(t,i,a),u=cn(n,s,c);return{sourceX:l.x,sourceY:l.y,targetX:u.x,targetY:u.y,sourcePosition:a,targetPosition:c}}function Bs(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function cn(e,t,n=W.Left,r=!1){const o=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,i=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:s,height:a}=t??Xe(e);if(r)return{x:o+s/2,y:i+a/2};switch((t==null?void 0:t.position)??n){case W.Top:return{x:o+s/2,y:i};case W.Right:return{x:o+s,y:i+a/2};case W.Bottom:return{x:o+s/2,y:i+a};case W.Left:return{x:o,y:i+a/2}}}function zs(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Ho(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function Gw(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:o}){const i=new Set;return e.reduce((s,a)=>([a.markerStart||r,a.markerEnd||o].forEach(c=>{if(c&&typeof c=="object"){const l=Ho(c,t);i.has(l)||(s.push({id:l,color:c.color||n,...c}),i.add(l))}}),s),[]).sort((s,a)=>s.id.localeCompare(a.id))}const gi={nodeOrigin:[0,0],nodeExtent:on,elevateNodesOnSelect:!0,defaults:{}},Kw={...gi,checkEquality:!0};function yi(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function Jw(e,t,n){const r=yi(gi,n);for(const o of e.values())if(o.parentId)wi(o,e,t,r);else{const i=wn(o,r.nodeOrigin),s=Pt(o.extent)?o.extent:r.nodeExtent,a=ht(i,s,Xe(o));o.internals.positionAbsolute=a}}function Fo(e,t,n,r){var a,c;const o=yi(Kw,r),i=new Map(t),s=o!=null&&o.elevateNodesOnSelect?1e3:0;t.clear(),n.clear();for(const l of e){let u=i.get(l.id);if(o.checkEquality&&l===(u==null?void 0:u.internals.userNode))t.set(l.id,u);else{const f=wn(l,o.nodeOrigin),d=Pt(l.extent)?l.extent:o.nodeExtent,h=ht(f,d,Xe(l));u={...o.defaults,...l,measured:{width:(a=l.measured)==null?void 0:a.width,height:(c=l.measured)==null?void 0:c.height},internals:{positionAbsolute:h,handleBounds:l.measured?u==null?void 0:u.internals.handleBounds:void 0,z:Cl(l,s),userNode:l}},t.set(l.id,u)}l.parentId&&wi(u,t,n,r)}}function Zw(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function wi(e,t,n,r){const{elevateNodesOnSelect:o,nodeOrigin:i,nodeExtent:s}=yi(gi,r),a=e.parentId,c=t.get(a);if(!c){console.warn(`Parent node ${a} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}Zw(e,n);const l=o?1e3:0,{x:u,y:f,z:d}=Qw(e,c,i,s,l),{positionAbsolute:h}=e.internals,p=u!==h.x||f!==h.y;(p||d!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:p?{x:u,y:f}:h,z:d}})}function Cl(e,t){return(Re(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function Qw(e,t,n,r,o){const{x:i,y:s}=t.internals.positionAbsolute,a=Xe(e),c=wn(e,n),l=Pt(e.extent)?ht(c,e.extent,a):c;let u=ht({x:i+l.x,y:s+l.y},r,a);e.extent==="parent"&&(u=hl(u,a,t));const f=Cl(e,o),d=t.internals.z??0;return{x:u.x,y:u.y,z:d>f?d:f}}function xi(e,t,n,r=[0,0]){var s;const o=[],i=new Map;for(const a of e){const c=t.get(a.parentId);if(!c)continue;const l=((s=i.get(a.parentId))==null?void 0:s.expandedRect)??At(c),u=ml(l,a.rect);i.set(a.parentId,{expandedRect:u,parent:c})}return i.size>0&&i.forEach(({expandedRect:a,parent:c},l)=>{var m;const u=c.internals.positionAbsolute,f=Xe(c),d=c.origin??r,h=a.x<u.x?Math.round(Math.abs(u.x-a.x)):0,p=a.y<u.y?Math.round(Math.abs(u.y-a.y)):0,g=Math.max(f.width,Math.round(a.width)),w=Math.max(f.height,Math.round(a.height)),y=(g-f.width)*d[0],b=(w-f.height)*d[1];(h>0||p>0||y||b)&&(o.push({id:l,type:"position",position:{x:c.position.x-h+y,y:c.position.y-p+b}}),(m=n.get(l))==null||m.forEach(x=>{e.some(_=>_.id===x.id)||o.push({id:x.id,type:"position",position:{x:x.position.x+h,y:x.position.y+p}})})),(f.width<a.width||f.height<a.height||h||p)&&o.push({id:l,type:"dimensions",setAttributes:!0,dimensions:{width:g+(h?d[0]*h-y:0),height:w+(p?d[1]*p-b:0)}})}),o}function ex(e,t,n,r,o,i){const s=r==null?void 0:r.querySelector(".xyflow__viewport");let a=!1;if(!s)return{changes:[],updatedInternals:a};const c=[],l=window.getComputedStyle(s),{m22:u}=new window.DOMMatrixReadOnly(l.transform),f=[];for(const d of e.values()){const h=t.get(d.id);if(!h)continue;if(h.hidden){t.set(h.id,{...h,internals:{...h.internals,handleBounds:void 0}}),a=!0;continue}const p=Ir(d.nodeElement),g=h.measured.width!==p.width||h.measured.height!==p.height;if(!!(p.width&&p.height&&(g||!h.internals.handleBounds||d.force))){const y=d.nodeElement.getBoundingClientRect(),b=Pt(h.extent)?h.extent:i;let{positionAbsolute:m}=h.internals;h.parentId&&h.extent==="parent"?m=hl(m,p,t.get(h.parentId)):b&&(m=ht(m,b,p));const x={...h,measured:p,internals:{...h.internals,positionAbsolute:m,handleBounds:{source:Is("source",d.nodeElement,y,u,h.id),target:Is("target",d.nodeElement,y,u,h.id)}}};t.set(h.id,x),h.parentId&&wi(x,t,n,{nodeOrigin:o}),a=!0,g&&(c.push({id:h.id,type:"dimensions",dimensions:p}),h.expandParent&&h.parentId&&f.push({id:h.id,parentId:h.parentId,rect:At(x,o)}))}}if(f.length>0){const d=xi(f,t,n,o);c.push(...d)}return{changes:c,updatedInternals:a}}async function tx({delta:e,panZoom:t,transform:n,translateExtent:r,width:o,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const s=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[o,i]],r),a=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(a)}function js(e,t,n,r,o,i){let s=o;const a=r.get(s)||new Map;r.set(s,a.set(n,t)),s=`${o}-${e}`;const c=r.get(s)||new Map;if(r.set(s,c.set(n,t)),i){s=`${o}-${e}-${i}`;const l=r.get(s)||new Map;r.set(s,l.set(n,t))}}function Rl(e,t,n){e.clear(),t.clear();for(const r of n){const{source:o,target:i,sourceHandle:s=null,targetHandle:a=null}=r,c={edgeId:r.id,source:o,target:i,sourceHandle:s,targetHandle:a},l=`${o}-${s}--${i}-${a}`,u=`${i}-${a}--${o}-${s}`;js("source",c,u,e,o,s),js("target",c,l,e,i,a),t.set(r.id,r)}}function Nl(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:Nl(n,t):!1}function Vs(e,t,n){var o;let r=e;do{if((o=r==null?void 0:r.matches)!=null&&o.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function nx(e,t,n,r){const o=new Map;for(const[i,s]of e)if((s.selected||s.id===r)&&(!s.parentId||!Nl(s,e))&&(s.draggable||t&&typeof s.draggable>"u")){const a=e.get(i);a&&o.set(i,{id:i,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return o}function ao({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var s,a,c;const o=[];for(const[l,u]of t){const f=(s=n.get(l))==null?void 0:s.internals.userNode;f&&o.push({...f,position:u.position,dragging:r})}if(!e)return[o[0],o];const i=(a=n.get(e))==null?void 0:a.internals.userNode;return[i?{...i,position:((c=t.get(e))==null?void 0:c.position)||i.position,dragging:r}:o[0],o]}function rx({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:o}){let i={x:null,y:null},s=0,a=new Map,c=!1,l={x:0,y:0},u=null,f=!1,d=null,h=!1;function p({noDragClassName:w,handleSelector:y,domNode:b,isSelectable:m,nodeId:x,nodeClickDistance:_=0}){d=we(b);function P({x:O,y:F},D){const{nodeLookup:H,nodeExtent:E,snapGrid:A,snapToGrid:S,nodeOrigin:T,onNodeDrag:N,onSelectionDrag:R,onError:L,updateNodePositions:B}=t();i={x:O,y:F};let z=!1,Y={x:0,y:0,x2:0,y2:0};if(a.size>1&&E){const V=xn(a);Y=Io(V)}for(const[V,U]of a){if(!H.has(V))continue;let q={x:O-U.distance.x,y:F-U.distance.y};S&&(q=Mr(q,A));let j=[[E[0][0],E[0][1]],[E[1][0],E[1][1]]];if(a.size>1&&E&&!U.extent){const{positionAbsolute:ne}=U.internals,K=ne.x-Y.x+E[0][0],G=ne.x+U.measured.width-Y.x2+E[1][0],te=ne.y-Y.y+E[0][1],re=ne.y+U.measured.height-Y.y2+E[1][1];j=[[K,te],[G,re]]}const{position:X,positionAbsolute:Q}=dl({nodeId:V,nextPosition:q,nodeLookup:H,nodeExtent:j,nodeOrigin:T,onError:L});z=z||U.position.x!==X.x||U.position.y!==X.y,U.position=X,U.internals.positionAbsolute=Q}if(z&&(B(a,!0),D&&(r||N||!x&&R))){const[V,U]=ao({nodeId:x,dragItems:a,nodeLookup:H});r==null||r(D,a,V,U),N==null||N(D,V,U),x||R==null||R(D,U)}}async function C(){if(!u)return;const{transform:O,panBy:F,autoPanSpeed:D,autoPanOnNodeDrag:H}=t();if(!H){c=!1,cancelAnimationFrame(s);return}const[E,A]=pl(l,u,D);(E!==0||A!==0)&&(i.x=(i.x??0)-E/O[2],i.y=(i.y??0)-A/O[2],await F({x:E,y:A})&&P(i,null)),s=requestAnimationFrame(C)}function $(O){var z;const{nodeLookup:F,multiSelectionActive:D,nodesDraggable:H,transform:E,snapGrid:A,snapToGrid:S,selectNodesOnDrag:T,onNodeDragStart:N,onSelectionDragStart:R,unselectNodesAndEdges:L}=t();f=!0,(!T||!m)&&!D&&x&&((z=F.get(x))!=null&&z.selected||L()),m&&T&&x&&(e==null||e(x));const B=Xt(O.sourceEvent,{transform:E,snapGrid:A,snapToGrid:S,containerBounds:u});if(i=B,a=nx(F,H,B,x),a.size>0&&(n||N||!x&&R)){const[Y,V]=ao({nodeId:x,dragItems:a,nodeLookup:F});n==null||n(O.sourceEvent,a,Y,V),N==null||N(O.sourceEvent,Y,V),x||R==null||R(O.sourceEvent,V)}}const k=Wc().clickDistance(_).on("start",O=>{const{domNode:F,nodeDragThreshold:D,transform:H,snapGrid:E,snapToGrid:A}=t();u=(F==null?void 0:F.getBoundingClientRect())||null,h=!1,D===0&&$(O),i=Xt(O.sourceEvent,{transform:H,snapGrid:E,snapToGrid:A,containerBounds:u}),l=We(O.sourceEvent,u)}).on("drag",O=>{const{autoPanOnNodeDrag:F,transform:D,snapGrid:H,snapToGrid:E,nodeDragThreshold:A,nodeLookup:S}=t(),T=Xt(O.sourceEvent,{transform:D,snapGrid:H,snapToGrid:E,containerBounds:u});if((O.sourceEvent.type==="touchmove"&&O.sourceEvent.touches.length>1||x&&!S.has(x))&&(h=!0),!h){if(!c&&F&&f&&(c=!0,C()),!f){const N=T.xSnapped-(i.x??0),R=T.ySnapped-(i.y??0);Math.sqrt(N*N+R*R)>A&&$(O)}(i.x!==T.xSnapped||i.y!==T.ySnapped)&&a&&f&&(l=We(O.sourceEvent,u),P(T,O.sourceEvent))}}).on("end",O=>{if(!(!f||h)&&(c=!1,f=!1,cancelAnimationFrame(s),a.size>0)){const{nodeLookup:F,updateNodePositions:D,onNodeDragStop:H,onSelectionDragStop:E}=t();if(D(a,!1),o||H||!x&&E){const[A,S]=ao({nodeId:x,dragItems:a,nodeLookup:F,dragging:!1});o==null||o(O.sourceEvent,a,A,S),H==null||H(O.sourceEvent,A,S),x||E==null||E(O.sourceEvent,S)}}}).filter(O=>{const F=O.target;return!O.button&&(!w||!Vs(F,`.${w}`,b))&&(!y||Vs(F,y,b))});d.call(k)}function g(){d==null||d.on(".drag",null)}return{update:p,destroy:g}}function ox(e,t,n){const r=[],o={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const i of t.values())an(o,At(i))>0&&r.push(i);return r}const ix=250;function sx(e,t,n,r){var a,c;let o=[],i=1/0;const s=ox(e,n,t+ix);for(const l of s){const u=[...((a=l.internals.handleBounds)==null?void 0:a.source)??[],...((c=l.internals.handleBounds)==null?void 0:c.target)??[]];for(const f of u){if(r.nodeId===f.nodeId&&r.type===f.type&&r.id===f.id)continue;const{x:d,y:h}=cn(l,f,f.position,!0),p=Math.sqrt(Math.pow(d-e.x,2)+Math.pow(h-e.y,2));p>t||(p<i?(o=[{...f,x:d,y:h}],i=p):p===i&&o.push({...f,x:d,y:h}))}}if(!o.length)return null;if(o.length>1){const l=r.type==="source"?"target":"source";return o.find(u=>u.type===l)??o[0]}return o[0]}function Al(e,t,n,r,o,i=!1){var l,u,f;const s=r.get(e);if(!s)return null;const a=o==="strict"?(l=s.internals.handleBounds)==null?void 0:l[t]:[...((u=s.internals.handleBounds)==null?void 0:u.source)??[],...((f=s.internals.handleBounds)==null?void 0:f.target)??[]],c=(n?a==null?void 0:a.find(d=>d.id===n):a==null?void 0:a[0])??null;return c&&i?{...c,...cn(s,c,c.position,!0)}:c}function Pl(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function ax(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const Tl=()=>!0;function cx(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:o,edgeUpdaterType:i,isTarget:s,domNode:a,nodeLookup:c,lib:l,autoPanOnConnect:u,flowId:f,panBy:d,cancelConnection:h,onConnectStart:p,onConnect:g,onConnectEnd:w,isValidConnection:y=Tl,onReconnectEnd:b,updateConnection:m,getTransform:x,getFromHandle:_,autoPanSpeed:P}){const C=xl(e.target);let $=0,k;const{x:O,y:F}=We(e),D=C==null?void 0:C.elementFromPoint(O,F),H=Pl(i,D),E=a==null?void 0:a.getBoundingClientRect();if(!E||!H)return;const A=Al(o,H,r,c,t);if(!A)return;let S=We(e,E),T=!1,N=null,R=!1,L=null;function B(){if(!u||!E)return;const[Q,ne]=pl(S,E,P);d({x:Q,y:ne}),$=requestAnimationFrame(B)}const z={...A,nodeId:o,type:H,position:A.position},Y=c.get(o),U={inProgress:!0,isValid:null,from:cn(Y,z,W.Left,!0),fromHandle:z,fromPosition:z.position,fromNode:Y,to:S,toHandle:null,toPosition:ks[z.position],toNode:null};m(U);let q=U;p==null||p(e,{nodeId:o,handleId:r,handleType:H});function j(Q){if(!_()||!z){X(Q);return}const ne=x();S=We(Q,E),k=sx(vn(S,ne,!1,[1,1]),n,c,z),T||(B(),T=!0);const K=kl(Q,{handle:k,connectionMode:t,fromNodeId:o,fromHandleId:r,fromType:s?"target":"source",isValidConnection:y,doc:C,lib:l,flowId:f,nodeLookup:c});L=K.handleDomNode,N=K.connection,R=ax(!!k,K.isValid);const G={...q,isValid:R,to:k&&R?gl({x:k.x,y:k.y},ne):S,toHandle:K.toHandle,toPosition:R&&K.toHandle?K.toHandle.position:ks[z.position],toNode:K.toHandle?c.get(K.toHandle.nodeId):null};R&&k&&q.toHandle&&G.toHandle&&q.toHandle.type===G.toHandle.type&&q.toHandle.nodeId===G.toHandle.nodeId&&q.toHandle.id===G.toHandle.id&&q.to.x===G.to.x&&q.to.y===G.to.y||(m(G),q=G)}function X(Q){(k||L)&&N&&R&&(g==null||g(N));const{inProgress:ne,...K}=q,G={...K,toPosition:q.toHandle?q.toPosition:null};w==null||w(Q,G),i&&(b==null||b(Q,G)),h(),cancelAnimationFrame($),T=!1,R=!1,N=null,L=null,C.removeEventListener("mousemove",j),C.removeEventListener("mouseup",X),C.removeEventListener("touchmove",j),C.removeEventListener("touchend",X)}C.addEventListener("mousemove",j),C.addEventListener("mouseup",X),C.addEventListener("touchmove",j),C.addEventListener("touchend",X)}function kl(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:o,fromType:i,doc:s,lib:a,flowId:c,isValidConnection:l=Tl,nodeLookup:u}){const f=i==="target",d=t?s.querySelector(`.${a}-flow__handle[data-id="${c}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:h,y:p}=We(e),g=s.elementFromPoint(h,p),w=g!=null&&g.classList.contains(`${a}-flow__handle`)?g:d,y={handleDomNode:w,isValid:!1,connection:null,toHandle:null};if(w){const b=Pl(void 0,w),m=w.getAttribute("data-nodeid"),x=w.getAttribute("data-handleid"),_=w.classList.contains("connectable"),P=w.classList.contains("connectableend");if(!m||!b)return y;const C={source:f?m:r,sourceHandle:f?x:o,target:f?r:m,targetHandle:f?o:x};y.connection=C;const k=_&&P&&(n===Rt.Strict?f&&b==="source"||!f&&b==="target":m!==r||x!==o);y.isValid=k&&l(C),y.toHandle=Al(m,b,x,u,n,!1)}return y}const Bo={onPointerDown:cx,isValid:kl};function lx({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const o=we(e);function i({translateExtent:a,width:c,height:l,zoomStep:u=10,pannable:f=!0,zoomable:d=!0,inversePan:h=!1}){const p=m=>{const x=n();if(m.sourceEvent.type!=="wheel"||!t)return;const _=-m.sourceEvent.deltaY*(m.sourceEvent.deltaMode===1?.05:m.sourceEvent.deltaMode?1:.002)*u,P=x[2]*Math.pow(2,_);t.scaleTo(P)};let g=[0,0];const w=m=>{(m.sourceEvent.type==="mousedown"||m.sourceEvent.type==="touchstart")&&(g=[m.sourceEvent.clientX??m.sourceEvent.touches[0].clientX,m.sourceEvent.clientY??m.sourceEvent.touches[0].clientY])},y=m=>{const x=n();if(m.sourceEvent.type!=="mousemove"&&m.sourceEvent.type!=="touchmove"||!t)return;const _=[m.sourceEvent.clientX??m.sourceEvent.touches[0].clientX,m.sourceEvent.clientY??m.sourceEvent.touches[0].clientY],P=[_[0]-g[0],_[1]-g[1]];g=_;const C=r()*Math.max(x[2],Math.log(x[2]))*(h?-1:1),$={x:x[0]-P[0]*C,y:x[1]-P[1]*C},k=[[0,0],[c,l]];t.setViewportConstrained({x:$.x,y:$.y,zoom:x[2]},k,a)},b=sl().on("start",w).on("zoom",f?y:null).on("zoom.wheel",d?p:null);o.call(b,{})}function s(){o.on("zoom",null)}return{update:i,destroy:s,pointer:_e}}const ux=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Lr=e=>({x:e.x,y:e.y,zoom:e.k}),co=({x:e,y:t,zoom:n})=>kr.translate(e,t).scale(n),wt=(e,t)=>e.target.closest(`.${t}`),Ol=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),lo=(e,t=0,n=()=>{})=>{const r=typeof t=="number"&&t>0;return r||n(),r?e.transition().duration(t).on("end",n):e},$l=e=>{const t=e.ctrlKey&&ur()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function fx({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:o,panOnScrollSpeed:i,zoomOnPinch:s,onPanZoomStart:a,onPanZoom:c,onPanZoomEnd:l}){return u=>{if(wt(u,t))return!1;u.preventDefault(),u.stopImmediatePropagation();const f=n.property("__zoom").k||1;if(u.ctrlKey&&s){const w=_e(u),y=$l(u),b=f*Math.pow(2,y);r.scaleTo(n,b,w,u);return}const d=u.deltaMode===1?20:1;let h=o===ct.Vertical?0:u.deltaX*d,p=o===ct.Horizontal?0:u.deltaY*d;!ur()&&u.shiftKey&&o!==ct.Vertical&&(h=u.deltaY*d,p=0),r.translateBy(n,-(h/f)*i,-(p/f)*i,{internal:!0});const g=Lr(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,a==null||a(u,g)),e.isPanScrolling&&(c==null||c(u,g),e.panScrollTimeout=setTimeout(()=>{l==null||l(u,g),e.isPanScrolling=!1},150))}}function dx({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,o){if(!t&&r.type==="wheel"&&!r.ctrlKey||wt(r,e))return null;r.preventDefault(),n.call(this,r,o)}}function hx({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var i,s,a;if((i=r.sourceEvent)!=null&&i.internal)return;const o=Lr(r.transform);e.mouseButton=((s=r.sourceEvent)==null?void 0:s.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=o,((a=r.sourceEvent)==null?void 0:a.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,o))}}function px({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:o}){return i=>{var s,a;e.usedRightMouseButton=!!(n&&Ol(t,e.mouseButton??0)),(s=i.sourceEvent)!=null&&s.sync||r([i.transform.x,i.transform.y,i.transform.k]),o&&!((a=i.sourceEvent)!=null&&a.internal)&&(o==null||o(i.sourceEvent,Lr(i.transform)))}}function mx({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:o,onPaneContextMenu:i}){return s=>{var a;if(!((a=s.sourceEvent)!=null&&a.internal)&&(e.isZoomingOrPanning=!1,i&&Ol(t,e.mouseButton??0)&&!e.usedRightMouseButton&&s.sourceEvent&&i(s.sourceEvent),e.usedRightMouseButton=!1,r(!1),o&&ux(e.prevViewport,s.transform))){const c=Lr(s.transform);e.prevViewport=c,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{o==null||o(s.sourceEvent,c)},n?150:0)}}}function gx({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:o,zoomOnDoubleClick:i,userSelectionActive:s,noWheelClassName:a,noPanClassName:c,lib:l}){return u=>{var p;const f=e||t,d=n&&u.ctrlKey;if(u.button===1&&u.type==="mousedown"&&(wt(u,`${l}-flow__node`)||wt(u,`${l}-flow__edge`)))return!0;if(!r&&!f&&!o&&!i&&!n||s||wt(u,a)&&u.type==="wheel"||wt(u,c)&&(u.type!=="wheel"||o&&u.type==="wheel"&&!e)||!n&&u.ctrlKey&&u.type==="wheel")return!1;if(!n&&u.type==="touchstart"&&((p=u.touches)==null?void 0:p.length)>1)return u.preventDefault(),!1;if(!f&&!o&&!d&&u.type==="wheel"||!r&&(u.type==="mousedown"||u.type==="touchstart")||Array.isArray(r)&&!r.includes(u.button)&&u.type==="mousedown")return!1;const h=Array.isArray(r)&&r.includes(u.button)||!u.button||u.button<=1;return(!u.ctrlKey||u.type==="wheel")&&h}}function yx({domNode:e,minZoom:t,maxZoom:n,paneClickDistance:r,translateExtent:o,viewport:i,onPanZoom:s,onPanZoomStart:a,onPanZoomEnd:c,onDraggingChange:l}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},f=e.getBoundingClientRect(),d=sl().clickDistance(!Re(r)||r<0?0:r).scaleExtent([t,n]).translateExtent(o),h=we(e).call(d);m({x:i.x,y:i.y,zoom:Nt(i.zoom,t,n)},[[0,0],[f.width,f.height]],o);const p=h.on("wheel.zoom"),g=h.on("dblclick.zoom");d.wheelDelta($l);function w(D,H){return h?new Promise(E=>{d==null||d.transform(lo(h,H==null?void 0:H.duration,()=>E(!0)),D)}):Promise.resolve(!1)}function y({noWheelClassName:D,noPanClassName:H,onPaneContextMenu:E,userSelectionActive:A,panOnScroll:S,panOnDrag:T,panOnScrollMode:N,panOnScrollSpeed:R,preventScrolling:L,zoomOnPinch:B,zoomOnScroll:z,zoomOnDoubleClick:Y,zoomActivationKeyPressed:V,lib:U,onTransformChange:q}){A&&!u.isZoomingOrPanning&&b();const X=S&&!V&&!A?fx({zoomPanValues:u,noWheelClassName:D,d3Selection:h,d3Zoom:d,panOnScrollMode:N,panOnScrollSpeed:R,zoomOnPinch:B,onPanZoomStart:a,onPanZoom:s,onPanZoomEnd:c}):dx({noWheelClassName:D,preventScrolling:L,d3ZoomHandler:p});if(h.on("wheel.zoom",X,{passive:!1}),!A){const ne=hx({zoomPanValues:u,onDraggingChange:l,onPanZoomStart:a});d.on("start",ne);const K=px({zoomPanValues:u,panOnDrag:T,onPaneContextMenu:!!E,onPanZoom:s,onTransformChange:q});d.on("zoom",K);const G=mx({zoomPanValues:u,panOnDrag:T,panOnScroll:S,onPaneContextMenu:E,onPanZoomEnd:c,onDraggingChange:l});d.on("end",G)}const Q=gx({zoomActivationKeyPressed:V,panOnDrag:T,zoomOnScroll:z,panOnScroll:S,zoomOnDoubleClick:Y,zoomOnPinch:B,userSelectionActive:A,noPanClassName:H,noWheelClassName:D,lib:U});d.filter(Q),Y?h.on("dblclick.zoom",g):h.on("dblclick.zoom",null)}function b(){d.on("zoom",null)}async function m(D,H,E){const A=co(D),S=d==null?void 0:d.constrain()(A,H,E);return S&&await w(S),new Promise(T=>T(S))}async function x(D,H){const E=co(D);return await w(E,H),new Promise(A=>A(E))}function _(D){if(h){const H=co(D),E=h.property("__zoom");(E.k!==D.zoom||E.x!==D.x||E.y!==D.y)&&(d==null||d.transform(h,H,null,{sync:!0}))}}function P(){const D=h?il(h.node()):{x:0,y:0,k:1};return{x:D.x,y:D.y,zoom:D.k}}function C(D,H){return h?new Promise(E=>{d==null||d.scaleTo(lo(h,H==null?void 0:H.duration,()=>E(!0)),D)}):Promise.resolve(!1)}function $(D,H){return h?new Promise(E=>{d==null||d.scaleBy(lo(h,H==null?void 0:H.duration,()=>E(!0)),D)}):Promise.resolve(!1)}function k(D){d==null||d.scaleExtent(D)}function O(D){d==null||d.translateExtent(D)}function F(D){const H=!Re(D)||D<0?0:D;d==null||d.clickDistance(H)}return{update:y,destroy:b,setViewport:x,setViewportConstrained:m,getViewport:P,scaleTo:C,scaleBy:$,setScaleExtent:k,setTranslateExtent:O,syncViewport:_,setClickDistance:F}}var Gt;(function(e){e.Line="line",e.Handle="handle"})(Gt||(Gt={}));function wx({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:o,affectsY:i}){const s=e-t,a=n-r,c=[s>0?1:s<0?-1:0,a>0?1:a<0?-1:0];return s&&o&&(c[0]=c[0]*-1),a&&i&&(c[1]=c[1]*-1),c}function xx(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),o=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:o}}function Ke(e,t){return Math.max(0,t-e)}function Je(e,t){return Math.max(0,e-t)}function On(e,t,n){return Math.max(0,t-e,e-n)}function Us(e,t){return e?!t:t}function vx(e,t,n,r,o,i,s,a){let{affectsX:c,affectsY:l}=t;const{isHorizontal:u,isVertical:f}=t,d=u&&f,{xSnapped:h,ySnapped:p}=n,{minWidth:g,maxWidth:w,minHeight:y,maxHeight:b}=r,{x:m,y:x,width:_,height:P,aspectRatio:C}=e;let $=Math.floor(u?h-e.pointerX:0),k=Math.floor(f?p-e.pointerY:0);const O=_+(c?-$:$),F=P+(l?-k:k),D=-i[0]*_,H=-i[1]*P;let E=On(O,g,w),A=On(F,y,b);if(s){let N=0,R=0;c&&$<0?N=Ke(m+$+D,s[0][0]):!c&&$>0&&(N=Je(m+O+D,s[1][0])),l&&k<0?R=Ke(x+k+H,s[0][1]):!l&&k>0&&(R=Je(x+F+H,s[1][1])),E=Math.max(E,N),A=Math.max(A,R)}if(a){let N=0,R=0;c&&$>0?N=Je(m+$,a[0][0]):!c&&$<0&&(N=Ke(m+O,a[1][0])),l&&k>0?R=Je(x+k,a[0][1]):!l&&k<0&&(R=Ke(x+F,a[1][1])),E=Math.max(E,N),A=Math.max(A,R)}if(o){if(u){const N=On(O/C,y,b)*C;if(E=Math.max(E,N),s){let R=0;!c&&!l||c&&!l&&d?R=Je(x+H+O/C,s[1][1])*C:R=Ke(x+H+(c?$:-$)/C,s[0][1])*C,E=Math.max(E,R)}if(a){let R=0;!c&&!l||c&&!l&&d?R=Ke(x+O/C,a[1][1])*C:R=Je(x+(c?$:-$)/C,a[0][1])*C,E=Math.max(E,R)}}if(f){const N=On(F*C,g,w)/C;if(A=Math.max(A,N),s){let R=0;!c&&!l||l&&!c&&d?R=Je(m+F*C+D,s[1][0])/C:R=Ke(m+(l?k:-k)*C+D,s[0][0])/C,A=Math.max(A,R)}if(a){let R=0;!c&&!l||l&&!c&&d?R=Ke(m+F*C,a[1][0])/C:R=Je(m+(l?k:-k)*C,a[0][0])/C,A=Math.max(A,R)}}}k=k+(k<0?A:-A),$=$+($<0?E:-E),o&&(d?O>F*C?k=(Us(c,l)?-$:$)/C:$=(Us(c,l)?-k:k)*C:u?(k=$/C,l=c):($=k*C,c=l));const S=c?m+$:m,T=l?x+k:x;return{width:_+(c?-$:$),height:P+(l?-k:k),x:i[0]*$*(c?-1:1)+S,y:i[1]*k*(l?-1:1)+T}}const Ml={width:0,height:0,x:0,y:0},bx={...Ml,pointerX:0,pointerY:0,aspectRatio:1};function Ex(e){return[[0,0],[e.measured.width,e.measured.height]]}function Sx(e,t,n){const r=t.position.x+e.position.x,o=t.position.y+e.position.y,i=e.measured.width??0,s=e.measured.height??0,a=n[0]*i,c=n[1]*s;return[[r-a,o-c],[r+i-a,o+s-c]]}function _x({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:o}){const i=we(e);function s({controlPosition:c,boundaries:l,keepAspectRatio:u,onResizeStart:f,onResize:d,onResizeEnd:h,shouldResize:p}){let g={...Ml},w={...bx};const y=xx(c);let b,m=null,x=[],_,P,C;const $=Wc().on("start",k=>{const{nodeLookup:O,transform:F,snapGrid:D,snapToGrid:H,nodeOrigin:E,paneDomNode:A}=n();if(b=O.get(t),!b)return;m=(A==null?void 0:A.getBoundingClientRect())??null;const{xSnapped:S,ySnapped:T}=Xt(k.sourceEvent,{transform:F,snapGrid:D,snapToGrid:H,containerBounds:m});g={width:b.measured.width??0,height:b.measured.height??0,x:b.position.x??0,y:b.position.y??0},w={...g,pointerX:S,pointerY:T,aspectRatio:g.width/g.height},_=void 0,b.parentId&&(b.extent==="parent"||b.expandParent)&&(_=O.get(b.parentId),P=_&&b.extent==="parent"?Ex(_):void 0),x=[],C=void 0;for(const[N,R]of O)if(R.parentId===t&&(x.push({id:N,position:{...R.position},extent:R.extent}),R.extent==="parent"||R.expandParent)){const L=Sx(R,b,R.origin??E);C?C=[[Math.min(L[0][0],C[0][0]),Math.min(L[0][1],C[0][1])],[Math.max(L[1][0],C[1][0]),Math.max(L[1][1],C[1][1])]]:C=L}f==null||f(k,{...g})}).on("drag",k=>{const{transform:O,snapGrid:F,snapToGrid:D,nodeOrigin:H}=n(),E=Xt(k.sourceEvent,{transform:O,snapGrid:F,snapToGrid:D,containerBounds:m}),A=[];if(!b)return;const{x:S,y:T,width:N,height:R}=g,L={},B=b.origin??H,{width:z,height:Y,x:V,y:U}=vx(w,y,E,l,u,B,P,C),q=z!==N,j=Y!==R,X=V!==S&&q,Q=U!==T&&j;if(!X&&!Q&&!q&&!j)return;if((X||Q||B[0]===1||B[1]===1)&&(L.x=X?V:g.x,L.y=Q?U:g.y,g.x=L.x,g.y=L.y,x.length>0)){const te=V-S,re=U-T;for(const ue of x)ue.position={x:ue.position.x-te+B[0]*(z-N),y:ue.position.y-re+B[1]*(Y-R)},A.push(ue)}if((q||j)&&(L.width=q?z:g.width,L.height=j?Y:g.height,g.width=L.width,g.height=L.height),_&&b.expandParent){const te=B[0]*(L.width??0);L.x&&L.x<te&&(g.x=te,w.x=w.x-(L.x-te));const re=B[1]*(L.height??0);L.y&&L.y<re&&(g.y=re,w.y=w.y-(L.y-re))}const ne=wx({width:g.width,prevWidth:N,height:g.height,prevHeight:R,affectsX:y.affectsX,affectsY:y.affectsY}),K={...g,direction:ne};(p==null?void 0:p(k,K))!==!1&&(d==null||d(k,K),r(L,A))}).on("end",k=>{h==null||h(k,{...g}),o==null||o()});i.call($)}function a(){i.on(".drag",null)}return{update:s,destroy:a}}var Il={exports:{}},Ll={},Dl={exports:{}},Hl={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tt=v;function Cx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rx=typeof Object.is=="function"?Object.is:Cx,Nx=Tt.useState,Ax=Tt.useEffect,Px=Tt.useLayoutEffect,Tx=Tt.useDebugValue;function kx(e,t){var n=t(),r=Nx({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return Px(function(){o.value=n,o.getSnapshot=t,uo(o)&&i({inst:o})},[e,n,t]),Ax(function(){return uo(o)&&i({inst:o}),e(function(){uo(o)&&i({inst:o})})},[e]),Tx(n),n}function uo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Rx(e,n)}catch{return!0}}function Ox(e,t){return t()}var $x=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ox:kx;Hl.useSyncExternalStore=Tt.useSyncExternalStore!==void 0?Tt.useSyncExternalStore:$x;Dl.exports=Hl;var Mx=Dl.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dr=v,Ix=Mx;function Lx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dx=typeof Object.is=="function"?Object.is:Lx,Hx=Ix.useSyncExternalStore,Fx=Dr.useRef,Bx=Dr.useEffect,zx=Dr.useMemo,jx=Dr.useDebugValue;Ll.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var i=Fx(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=zx(function(){function c(h){if(!l){if(l=!0,u=h,h=r(h),o!==void 0&&s.hasValue){var p=s.value;if(o(p,h))return f=p}return f=h}if(p=f,Dx(u,h))return p;var g=r(h);return o!==void 0&&o(p,g)?(u=h,p):(u=h,f=g)}var l=!1,u,f,d=n===void 0?null:n;return[function(){return c(t())},d===null?void 0:function(){return c(d())}]},[t,n,r,o]);var a=Hx(e,i[0],i[1]);return Bx(function(){s.hasValue=!0,s.value=a},[a]),jx(a),a};Il.exports=Ll;var Vx=Il.exports;const Ux=ma(Vx),Wx={},Ws=e=>{let t;const n=new Set,r=(u,f)=>{const d=typeof u=="function"?u(t):u;if(!Object.is(d,t)){const h=t;t=f??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(p=>p(t,h))}},o=()=>t,c={setState:r,getState:o,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(Wx?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},l=t=e(r,o,c);return c},Yx=e=>e?Ws(e):Ws,{useDebugValue:qx}=Ne,{useSyncExternalStoreWithSelector:Xx}=Ux,Gx=e=>e;function Fl(e,t=Gx,n){const r=Xx(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return qx(r),r}const Ys=(e,t)=>{const n=Yx(e),r=(o,i=t)=>Fl(n,o,i);return Object.assign(r,n),r},Kx=(e,t)=>e?Ys(e,t):Ys;function ae(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const Hr=v.createContext(null),Jx=Hr.Provider,Bl=De.error001();function ee(e,t){const n=v.useContext(Hr);if(n===null)throw new Error(Bl);return Fl(n,e,t)}function oe(){const e=v.useContext(Hr);if(e===null)throw new Error(Bl);return v.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const qs={display:"none"},Zx={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},zl="react-flow__node-desc",jl="react-flow__edge-desc",Qx="react-flow__aria-live",ev=e=>e.ariaLiveMessage;function tv({rfId:e}){const t=ee(ev);return M.jsx("div",{id:`${Qx}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Zx,children:t})}function nv({rfId:e,disableKeyboardA11y:t}){return M.jsxs(M.Fragment,{children:[M.jsxs("div",{id:`${zl}-${e}`,style:qs,children:["Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),M.jsx("div",{id:`${jl}-${e}`,style:qs,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!t&&M.jsx(tv,{rfId:e})]})}const rv=e=>e.userSelectionActive?"none":"all",Fr=v.forwardRef(({position:e="top-left",children:t,className:n,style:r,...o},i)=>{const s=ee(rv),a=`${e}`.split("-");return M.jsx("div",{className:le(["react-flow__panel",n,...a]),style:{...r,pointerEvents:s},ref:i,...o,children:t})});Fr.displayName="Panel";function ov({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:M.jsx(Fr,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:M.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const iv=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},$n=e=>e.id;function sv(e,t){return ae(e.selectedNodes.map($n),t.selectedNodes.map($n))&&ae(e.selectedEdges.map($n),t.selectedEdges.map($n))}function av({onSelectionChange:e}){const t=oe(),{selectedNodes:n,selectedEdges:r}=ee(iv,sv);return v.useEffect(()=>{const o={nodes:n,edges:r};e==null||e(o),t.getState().onSelectionChangeHandlers.forEach(i=>i(o))},[n,r,e]),null}const cv=e=>!!e.onSelectionChangeHandlers;function lv({onSelectionChange:e}){const t=ee(cv);return e||t?M.jsx(av,{onSelectionChange:e}):null}const Vl=[0,0],uv={x:0,y:0,zoom:1},fv=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance"],Xs=[...fv,"rfId"],dv=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),Gs={translateExtent:on,nodeOrigin:Vl,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function hv(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:o,setTranslateExtent:i,setNodeExtent:s,reset:a,setDefaultNodesAndEdges:c,setPaneClickDistance:l}=ee(dv,ae),u=oe();v.useEffect(()=>(c(e.defaultNodes,e.defaultEdges),()=>{f.current=Gs,a()}),[]);const f=v.useRef(Gs);return v.useEffect(()=>{for(const d of Xs){const h=e[d],p=f.current[d];h!==p&&(typeof e[d]>"u"||(d==="nodes"?t(h):d==="edges"?n(h):d==="minZoom"?r(h):d==="maxZoom"?o(h):d==="translateExtent"?i(h):d==="nodeExtent"?s(h):d==="paneClickDistance"?l(h):d==="fitView"?u.setState({fitViewOnInit:h}):d==="fitViewOptions"?u.setState({fitViewOnInitOptions:h}):u.setState({[d]:h})))}f.current=e},Xs.map(d=>e[d])),null}function Ks(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function pv(e){var r;const[t,n]=v.useState(e==="system"?null:e);return v.useEffect(()=>{if(e!=="system"){n(e);return}const o=Ks(),i=()=>n(o!=null&&o.matches?"dark":"light");return i(),o==null||o.addEventListener("change",i),()=>{o==null||o.removeEventListener("change",i)}},[e]),t!==null?t:(r=Ks())!=null&&r.matches?"dark":"light"}const Js=typeof document<"u"?document:null;function ln(e=null,t={target:Js,actInsideInputWithModifier:!0}){const[n,r]=v.useState(!1),o=v.useRef(!1),i=v.useRef(new Set([])),[s,a]=v.useMemo(()=>{if(e!==null){const l=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.replace("+",`
`).replace(`

`,`
+`).split(`
`)),u=l.reduce((f,d)=>f.concat(...d),[]);return[l,u]}return[[],[]]},[e]);return v.useEffect(()=>{const c=(t==null?void 0:t.target)||Js;if(e!==null){const l=d=>{if(o.current=d.ctrlKey||d.metaKey||d.shiftKey,(!o.current||o.current&&!t.actInsideInputWithModifier)&&Lo(d))return!1;const p=Qs(d.code,a);i.current.add(d[p]),Zs(s,i.current,!1)&&(d.preventDefault(),r(!0))},u=d=>{if((!o.current||o.current&&!t.actInsideInputWithModifier)&&Lo(d))return!1;const p=Qs(d.code,a);Zs(s,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(d[p]),d.key==="Meta"&&i.current.clear(),o.current=!1},f=()=>{i.current.clear(),r(!1)};return c==null||c.addEventListener("keydown",l),c==null||c.addEventListener("keyup",u),window.addEventListener("blur",f),window.addEventListener("contextmenu",f),()=>{c==null||c.removeEventListener("keydown",l),c==null||c.removeEventListener("keyup",u),window.removeEventListener("blur",f),window.removeEventListener("contextmenu",f)}}},[e,r]),n}function Zs(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function Qs(e,t){return t.includes(e)?"code":"key"}const mv=()=>{const e=oe();return v.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,o,i],panZoom:s}=e.getState();return s?(await s.setViewport({x:t.x??r,y:t.y??o,zoom:t.zoom??i},{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},fitView:t=>{const{nodeLookup:n,minZoom:r,maxZoom:o,panZoom:i,domNode:s}=e.getState();if(!i||!s)return Promise.resolve(!1);const a=$o(n,t),{width:c,height:l}=Ir(s);return Mo({nodes:a,width:c,height:l,minZoom:r,maxZoom:o,panZoom:i},t)},setCenter:async(t,n,r)=>{const{width:o,height:i,maxZoom:s,panZoom:a}=e.getState(),c=typeof(r==null?void 0:r.zoom)<"u"?r.zoom:s,l=o/2-t*c,u=i/2-n*c;return a?(await a.setViewport({x:l,y:u,zoom:c},{duration:r==null?void 0:r.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(t,n)=>{const{width:r,height:o,minZoom:i,maxZoom:s,panZoom:a}=e.getState(),c=mi(t,r,o,i,s,(n==null?void 0:n.padding)??.1);return a?(await a.setViewport(c,{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:o,snapToGrid:i,domNode:s}=e.getState();if(!s)return t;const{x:a,y:c}=s.getBoundingClientRect(),l={x:t.x-a,y:t.y-c},u=n.snapGrid??o,f=n.snapToGrid??i;return vn(l,r,f,u)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:o,y:i}=r.getBoundingClientRect(),s=gl(t,n);return{x:s.x+o,y:s.y+i}}}),[])};function Ul(e,t){const n=[],r=new Map,o=[];for(const i of e)if(i.type==="add"){o.push(i);continue}else if(i.type==="remove"||i.type==="replace")r.set(i.id,[i]);else{const s=r.get(i.id);s?s.push(i):r.set(i.id,[i])}for(const i of t){const s=r.get(i.id);if(!s){n.push(i);continue}if(s[0].type==="remove")continue;if(s[0].type==="replace"){n.push({...s[0].item});continue}const a={...i};for(const c of s)gv(c,a);n.push(a)}return o.length&&o.forEach(i=>{i.index!==void 0?n.splice(i.index,0,{...i.item}):n.push({...i.item})}),n}function gv(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&(t.width=e.dimensions.width,t.height=e.dimensions.height)),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function yv(e,t){return Ul(e,t)}function wv(e,t){return Ul(e,t)}function rt(e,t){return{id:e,type:"select",selected:t}}function xt(e,t=new Set,n=!1){const r=[];for(const[o,i]of e){const s=t.has(o);!(i.selected===void 0&&!s)&&i.selected!==s&&(n&&(i.selected=s),r.push(rt(i.id,s)))}return r}function ea({items:e=[],lookup:t}){var o;const n=[],r=new Map(e.map(i=>[i.id,i]));for(const[i,s]of e.entries()){const a=t.get(s.id),c=((o=a==null?void 0:a.internals)==null?void 0:o.userNode)??a;c!==void 0&&c!==s&&n.push({id:s.id,item:s,type:"replace"}),c===void 0&&n.push({item:s,type:"add",index:i})}for(const[i]of t)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function ta(e){return{id:e.id,type:"remove"}}const na=e=>Mw(e),xv=e=>ul(e);function Wl(e){return v.forwardRef(e)}const vv=typeof window<"u"?v.useLayoutEffect:v.useEffect;function ra(e){const[t,n]=v.useState(BigInt(0)),[r]=v.useState(()=>bv(()=>n(o=>o+BigInt(1))));return vv(()=>{const o=r.get();o.length&&(e(o),r.reset())},[t]),r}function bv(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const Yl=v.createContext(null);function Ev({children:e}){const t=oe(),n=v.useCallback(a=>{const{nodes:c=[],setNodes:l,hasDefaultNodes:u,onNodesChange:f,nodeLookup:d}=t.getState();let h=c;for(const p of a)h=typeof p=="function"?p(h):p;u?l(h):f&&f(ea({items:h,lookup:d}))},[]),r=ra(n),o=v.useCallback(a=>{const{edges:c=[],setEdges:l,hasDefaultEdges:u,onEdgesChange:f,edgeLookup:d}=t.getState();let h=c;for(const p of a)h=typeof p=="function"?p(h):p;u?l(h):f&&f(ea({items:h,lookup:d}))},[]),i=ra(o),s=v.useMemo(()=>({nodeQueue:r,edgeQueue:i}),[]);return M.jsx(Yl.Provider,{value:s,children:e})}function Sv(){const e=v.useContext(Yl);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const _v=e=>!!e.panZoom;function vi(){const e=mv(),t=oe(),n=Sv(),r=ee(_v),o=v.useMemo(()=>{const i=f=>t.getState().nodeLookup.get(f),s=f=>{n.nodeQueue.push(f)},a=f=>{n.edgeQueue.push(f)},c=f=>{var y,b;const{nodeLookup:d,nodeOrigin:h}=t.getState(),p=na(f)?f:d.get(f.id),g=p.parentId?wl(p.position,p.measured,p.parentId,d,h):p.position,w={...p,position:g,width:((y=p.measured)==null?void 0:y.width)??p.width,height:((b=p.measured)==null?void 0:b.height)??p.height};return At(w)},l=(f,d,h={replace:!1})=>{s(p=>p.map(g=>{if(g.id===f){const w=typeof d=="function"?d(g):d;return h.replace&&na(w)?w:{...g,...w}}return g}))},u=(f,d,h={replace:!1})=>{a(p=>p.map(g=>{if(g.id===f){const w=typeof d=="function"?d(g):d;return h.replace&&xv(w)?w:{...g,...w}}return g}))};return{getNodes:()=>t.getState().nodes.map(f=>({...f})),getNode:f=>{var d;return(d=i(f))==null?void 0:d.internals.userNode},getInternalNode:i,getEdges:()=>{const{edges:f=[]}=t.getState();return f.map(d=>({...d}))},getEdge:f=>t.getState().edgeLookup.get(f),setNodes:s,setEdges:a,addNodes:f=>{const d=Array.isArray(f)?f:[f];n.nodeQueue.push(h=>[...h,...d])},addEdges:f=>{const d=Array.isArray(f)?f:[f];n.edgeQueue.push(h=>[...h,...d])},toObject:()=>{const{nodes:f=[],edges:d=[],transform:h}=t.getState(),[p,g,w]=h;return{nodes:f.map(y=>({...y})),edges:d.map(y=>({...y})),viewport:{x:p,y:g,zoom:w}}},deleteElements:async({nodes:f=[],edges:d=[]})=>{const{nodes:h,edges:p,onNodesDelete:g,onEdgesDelete:w,triggerNodeChanges:y,triggerEdgeChanges:b,onDelete:m,onBeforeDelete:x}=t.getState(),{nodes:_,edges:P}=await Dw({nodesToRemove:f,edgesToRemove:d,nodes:h,edges:p,onBeforeDelete:x}),C=P.length>0,$=_.length>0;if(C){const k=P.map(ta);w==null||w(P),b(k)}if($){const k=_.map(ta);g==null||g(_),y(k)}return($||C)&&(m==null||m({nodes:_,edges:P})),{deletedNodes:_,deletedEdges:P}},getIntersectingNodes:(f,d=!0,h)=>{const p=$s(f),g=p?f:c(f),w=h!==void 0;return g?(h||t.getState().nodes).filter(y=>{const b=t.getState().nodeLookup.get(y.id);if(b&&!p&&(y.id===f.id||!b.internals.positionAbsolute))return!1;const m=At(w?y:b),x=an(m,g);return d&&x>0||x>=g.width*g.height}):[]},isNodeIntersecting:(f,d,h=!0)=>{const g=$s(f)?f:c(f);if(!g)return!1;const w=an(g,d);return h&&w>0||w>=g.width*g.height},updateNode:l,updateNodeData:(f,d,h={replace:!1})=>{l(f,p=>{const g=typeof d=="function"?d(p):d;return h.replace?{...p,data:g}:{...p,data:{...p.data,...g}}},h)},updateEdge:u,updateEdgeData:(f,d,h={replace:!1})=>{u(f,p=>{const g=typeof d=="function"?d(p):d;return h.replace?{...p,data:g}:{...p,data:{...p.data,...g}}},h)},getNodesBounds:f=>{const{nodeLookup:d,nodeOrigin:h}=t.getState();return Iw(f,{nodeLookup:d,nodeOrigin:h})},getHandleConnections:({type:f,id:d,nodeId:h})=>{var p;return Array.from(((p=t.getState().connectionLookup.get(`${h}-${f}${d?`-${d}`:""}`))==null?void 0:p.values())??[])},getNodeConnections:({type:f,handleId:d,nodeId:h})=>{var p;return Array.from(((p=t.getState().connectionLookup.get(`${h}${f?d?`-${f}-${d}`:`-${f}`:""}`))==null?void 0:p.values())??[])}}},[]);return v.useMemo(()=>({...o,...e,viewportInitialized:r}),[r])}const oa=e=>e.selected,Cv={actInsideInputWithModifier:!1},Rv=typeof window<"u"?window:void 0;function Nv({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=oe(),{deleteElements:r}=vi(),o=ln(e,Cv),i=ln(t,{target:Rv});v.useEffect(()=>{if(o){const{edges:s,nodes:a}=n.getState();r({nodes:a.filter(oa),edges:s.filter(oa)}),n.setState({nodesSelectionActive:!1})}},[o]),v.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])}function Av(e){const t=oe();v.useEffect(()=>{const n=()=>{var o,i;if(!e.current)return!1;const r=Ir(e.current);(r.height===0||r.width===0)&&((i=(o=t.getState()).onError)==null||i.call(o,"004",De.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const Br={position:"absolute",width:"100%",height:"100%",top:0,left:0},Pv=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function Tv({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:o=.5,panOnScrollMode:i=ct.Free,zoomOnDoubleClick:s=!0,panOnDrag:a=!0,defaultViewport:c,translateExtent:l,minZoom:u,maxZoom:f,zoomActivationKeyCode:d,preventScrolling:h=!0,children:p,noWheelClassName:g,noPanClassName:w,onViewportChange:y,isControlledViewport:b,paneClickDistance:m}){const x=oe(),_=v.useRef(null),{userSelectionActive:P,lib:C}=ee(Pv,ae),$=ln(d),k=v.useRef();Av(_);const O=v.useCallback(F=>{y==null||y({x:F[0],y:F[1],zoom:F[2]}),b||x.setState({transform:F})},[y,b]);return v.useEffect(()=>{if(_.current){k.current=yx({domNode:_.current,minZoom:u,maxZoom:f,translateExtent:l,viewport:c,paneClickDistance:m,onDraggingChange:E=>x.setState({paneDragging:E}),onPanZoomStart:(E,A)=>{const{onViewportChangeStart:S,onMoveStart:T}=x.getState();T==null||T(E,A),S==null||S(A)},onPanZoom:(E,A)=>{const{onViewportChange:S,onMove:T}=x.getState();T==null||T(E,A),S==null||S(A)},onPanZoomEnd:(E,A)=>{const{onViewportChangeEnd:S,onMoveEnd:T}=x.getState();T==null||T(E,A),S==null||S(A)}});const{x:F,y:D,zoom:H}=k.current.getViewport();return x.setState({panZoom:k.current,transform:[F,D,H],domNode:_.current.closest(".react-flow")}),()=>{var E;(E=k.current)==null||E.destroy()}}},[]),v.useEffect(()=>{var F;(F=k.current)==null||F.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:o,panOnScrollMode:i,zoomOnDoubleClick:s,panOnDrag:a,zoomActivationKeyPressed:$,preventScrolling:h,noPanClassName:w,userSelectionActive:P,noWheelClassName:g,lib:C,onTransformChange:O})},[e,t,n,r,o,i,s,a,$,h,w,P,g,C,O]),M.jsx("div",{className:"react-flow__renderer",ref:_,style:Br,children:p})}const kv=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Ov(){const{userSelectionActive:e,userSelectionRect:t}=ee(kv,ae);return e&&t?M.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const fo=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},$v=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging});function Mv({isSelecting:e,selectionKeyPressed:t,selectionMode:n=sn.Full,panOnDrag:r,selectionOnDrag:o,onSelectionStart:i,onSelectionEnd:s,onPaneClick:a,onPaneContextMenu:c,onPaneScroll:l,onPaneMouseEnter:u,onPaneMouseMove:f,onPaneMouseLeave:d,children:h}){const p=oe(),{userSelectionActive:g,elementsSelectable:w,dragging:y}=ee($v,ae),b=w&&(e||g),m=v.useRef(null),x=v.useRef(),_=v.useRef(new Set),P=v.useRef(new Set),C=v.useRef(!1),$=v.useRef(!1),k=S=>{if(C.current){C.current=!1;return}a==null||a(S),p.getState().resetSelectedElements(),p.setState({nodesSelectionActive:!1})},O=S=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){S.preventDefault();return}c==null||c(S)},F=l?S=>l(S):void 0,D=S=>{var B,z;const{resetSelectedElements:T,domNode:N}=p.getState();if(x.current=N==null?void 0:N.getBoundingClientRect(),!w||!e||S.button!==0||S.target!==m.current||!x.current)return;(z=(B=S.target)==null?void 0:B.setPointerCapture)==null||z.call(B,S.pointerId),$.current=!0,C.current=!1;const{x:R,y:L}=We(S.nativeEvent,x.current);T(),p.setState({userSelectionRect:{width:0,height:0,startX:R,startY:L,x:R,y:L}}),i==null||i(S)},H=S=>{const{userSelectionRect:T,transform:N,nodeLookup:R,edgeLookup:L,connectionLookup:B,triggerNodeChanges:z,triggerEdgeChanges:Y,defaultEdgeOptions:V}=p.getState();if(!x.current||!T)return;C.current=!0;const{x:U,y:q}=We(S.nativeEvent,x.current),{startX:j,startY:X}=T,Q={startX:j,startY:X,x:U<j?U:j,y:q<X?q:X,width:Math.abs(U-j),height:Math.abs(q-X)},ne=_.current,K=P.current;_.current=new Set(fl(R,Q,N,n===sn.Partial,!0).map(te=>te.id)),P.current=new Set;const G=(V==null?void 0:V.selectable)??!0;for(const te of _.current){const re=B.get(te);if(re)for(const{edgeId:ue}of re.values()){const Se=L.get(ue);Se&&(Se.selectable??G)&&P.current.add(ue)}}if(!Ms(ne,_.current)){const te=xt(R,_.current,!0);z(te)}if(!Ms(K,P.current)){const te=xt(L,P.current);Y(te)}p.setState({userSelectionRect:Q,userSelectionActive:!0,nodesSelectionActive:!1})},E=S=>{var N,R;if(S.button!==0||!$.current)return;(R=(N=S.target)==null?void 0:N.releasePointerCapture)==null||R.call(N,S.pointerId);const{userSelectionRect:T}=p.getState();!g&&T&&S.target===m.current&&(k==null||k(S)),p.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:_.current.size>0}),s==null||s(S),(t||o)&&(C.current=!1),$.current=!1},A=r===!0||Array.isArray(r)&&r.includes(0);return M.jsxs("div",{className:le(["react-flow__pane",{draggable:A,dragging:y,selection:e}]),onClick:b?void 0:fo(k,m),onContextMenu:fo(O,m),onWheel:fo(F,m),onPointerEnter:b?void 0:u,onPointerDown:b?D:f,onPointerMove:b?H:f,onPointerUp:b?E:void 0,onPointerLeave:d,ref:m,style:Br,children:[h,M.jsx(Ov,{})]})}function zo({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:i,multiSelectionActive:s,nodeLookup:a,onError:c}=t.getState(),l=a.get(e);if(!l){c==null||c("012",De.error012(e));return}t.setState({nodesSelectionActive:!1}),l.selected?(n||l.selected&&s)&&(i({nodes:[l],edges:[]}),requestAnimationFrame(()=>{var u;return(u=r==null?void 0:r.current)==null?void 0:u.blur()})):o([e])}function ql({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:i,nodeClickDistance:s}){const a=oe(),[c,l]=v.useState(!1),u=v.useRef();return v.useEffect(()=>{u.current=rx({getStoreItems:()=>a.getState(),onNodeMouseDown:f=>{zo({id:f,store:a,nodeRef:e})},onDragStart:()=>{l(!0)},onDragStop:()=>{l(!1)}})},[]),v.useEffect(()=>{var f,d;if(t)(f=u.current)==null||f.destroy();else if(e.current)return(d=u.current)==null||d.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:i,nodeId:o,nodeClickDistance:s}),()=>{var h;(h=u.current)==null||h.destroy()}},[n,r,t,i,e,o]),c}const Iv=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function Xl(){const e=oe();return v.useCallback(n=>{const{nodeExtent:r,snapToGrid:o,snapGrid:i,nodesDraggable:s,onError:a,updateNodePositions:c,nodeLookup:l,nodeOrigin:u}=e.getState(),f=new Map,d=Iv(s),h=o?i[0]:5,p=o?i[1]:5,g=n.direction.x*h*n.factor,w=n.direction.y*p*n.factor;for(const[,y]of l){if(!d(y))continue;let b={x:y.internals.positionAbsolute.x+g,y:y.internals.positionAbsolute.y+w};o&&(b=Mr(b,i));const{position:m,positionAbsolute:x}=dl({nodeId:y.id,nextPosition:b,nodeLookup:l,nodeExtent:r,nodeOrigin:u,onError:a});y.position=m,y.internals.positionAbsolute=x,f.set(y.id,y)}c(f)},[])}const bi=v.createContext(null),Lv=bi.Provider;bi.Consumer;const Gl=()=>v.useContext(bi),Dv=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),Hv=(e,t,n)=>r=>{const{connectionClickStartHandle:o,connectionMode:i,connection:s}=r,{fromHandle:a,toHandle:c,isValid:l}=s,u=(c==null?void 0:c.nodeId)===e&&(c==null?void 0:c.id)===t&&(c==null?void 0:c.type)===n;return{connectingFrom:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===n,connectingTo:u,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.id)===t&&(o==null?void 0:o.type)===n,isPossibleEndHandle:i===Rt.Strict?(a==null?void 0:a.type)!==n:e!==(a==null?void 0:a.nodeId)||t!==(a==null?void 0:a.id),connectionInProcess:!!a,clickConnectionInProcess:!!o,valid:u&&l}};function Fv({type:e="source",position:t=W.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:i=!0,id:s,onConnect:a,children:c,className:l,onMouseDown:u,onTouchStart:f,...d},h){var A,S;const p=s||null,g=e==="target",w=oe(),y=Gl(),{connectOnClick:b,noPanClassName:m,rfId:x}=ee(Dv,ae),{connectingFrom:_,connectingTo:P,clickConnecting:C,isPossibleEndHandle:$,connectionInProcess:k,clickConnectionInProcess:O,valid:F}=ee(Hv(y,p,e),ae);y||(S=(A=w.getState()).onError)==null||S.call(A,"010",De.error010());const D=T=>{const{defaultEdgeOptions:N,onConnect:R,hasDefaultEdges:L}=w.getState(),B={...N,...T};if(L){const{edges:z,setEdges:Y}=w.getState();Y(Uw(B,z))}R==null||R(B),a==null||a(B)},H=T=>{if(!y)return;const N=vl(T.nativeEvent);if(o&&(N&&T.button===0||!N)){const R=w.getState();Bo.onPointerDown(T.nativeEvent,{autoPanOnConnect:R.autoPanOnConnect,connectionMode:R.connectionMode,connectionRadius:R.connectionRadius,domNode:R.domNode,nodeLookup:R.nodeLookup,lib:R.lib,isTarget:g,handleId:p,nodeId:y,flowId:R.rfId,panBy:R.panBy,cancelConnection:R.cancelConnection,onConnectStart:R.onConnectStart,onConnectEnd:R.onConnectEnd,updateConnection:R.updateConnection,onConnect:D,isValidConnection:n||R.isValidConnection,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle,autoPanSpeed:R.autoPanSpeed})}N?u==null||u(T):f==null||f(T)},E=T=>{const{onClickConnectStart:N,onClickConnectEnd:R,connectionClickStartHandle:L,connectionMode:B,isValidConnection:z,lib:Y,rfId:V,nodeLookup:U,connection:q}=w.getState();if(!y||!L&&!o)return;if(!L){N==null||N(T.nativeEvent,{nodeId:y,handleId:p,handleType:e}),w.setState({connectionClickStartHandle:{nodeId:y,type:e,id:p}});return}const j=xl(T.target),X=n||z,{connection:Q,isValid:ne}=Bo.isValid(T.nativeEvent,{handle:{nodeId:y,id:p,type:e},connectionMode:B,fromNodeId:L.nodeId,fromHandleId:L.id||null,fromType:L.type,isValidConnection:X,flowId:V,doc:j,lib:Y,nodeLookup:U});ne&&Q&&D(Q);const K=structuredClone(q);delete K.inProgress,K.toPosition=K.toHandle?K.toHandle.position:null,R==null||R(T,K),w.setState({connectionClickStartHandle:null})};return M.jsx("div",{"data-handleid":p,"data-nodeid":y,"data-handlepos":t,"data-id":`${x}-${y}-${p}-${e}`,className:le(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",m,l,{source:!g,target:g,connectable:r,connectablestart:o,connectableend:i,clickconnecting:C,connectingfrom:_,connectingto:P,valid:F,connectionindicator:r&&(!k||$)&&(k||O?i:o)}]),onMouseDown:H,onTouchStart:H,onClick:b?E:void 0,ref:h,...d,children:c})}const fr=v.memo(Wl(Fv));function Bv({data:e,isConnectable:t,sourcePosition:n=W.Bottom}){return M.jsxs(M.Fragment,{children:[e==null?void 0:e.label,M.jsx(fr,{type:"source",position:n,isConnectable:t})]})}function zv({data:e,isConnectable:t,targetPosition:n=W.Top,sourcePosition:r=W.Bottom}){return M.jsxs(M.Fragment,{children:[M.jsx(fr,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,M.jsx(fr,{type:"source",position:r,isConnectable:t})]})}function jv(){return null}function Vv({data:e,isConnectable:t,targetPosition:n=W.Top}){return M.jsxs(M.Fragment,{children:[M.jsx(fr,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const dr={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},ia={input:Bv,default:zv,output:Vv,group:jv};function Uv(e){var t,n,r,o;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((o=e.style)==null?void 0:o.height)}}const Wv=e=>{const{width:t,height:n,x:r,y:o}=xn(e.nodeLookup,{filter:i=>!!i.selected});return{width:Re(t)?t:null,height:Re(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${o}px)`}};function Yv({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=oe(),{width:o,height:i,transformString:s,userSelectionActive:a}=ee(Wv,ae),c=Xl(),l=v.useRef(null);if(v.useEffect(()=>{var d;n||(d=l.current)==null||d.focus({preventScroll:!0})},[n]),ql({nodeRef:l}),a||!o||!i)return null;const u=e?d=>{const h=r.getState().nodes.filter(p=>p.selected);e(d,h)}:void 0,f=d=>{Object.prototype.hasOwnProperty.call(dr,d.key)&&(d.preventDefault(),c({direction:dr[d.key],factor:d.shiftKey?4:1}))};return M.jsx("div",{className:le(["react-flow__nodesselection","react-flow__container",t]),style:{transform:s},children:M.jsx("div",{ref:l,className:"react-flow__nodesselection-rect",onContextMenu:u,tabIndex:n?void 0:-1,onKeyDown:n?void 0:f,style:{width:o,height:i}})})}const sa=typeof window<"u"?window:void 0,qv=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function Kl({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,paneClickDistance:a,deleteKeyCode:c,selectionKeyCode:l,selectionOnDrag:u,selectionMode:f,onSelectionStart:d,onSelectionEnd:h,multiSelectionKeyCode:p,panActivationKeyCode:g,zoomActivationKeyCode:w,elementsSelectable:y,zoomOnScroll:b,zoomOnPinch:m,panOnScroll:x,panOnScrollSpeed:_,panOnScrollMode:P,zoomOnDoubleClick:C,panOnDrag:$,defaultViewport:k,translateExtent:O,minZoom:F,maxZoom:D,preventScrolling:H,onSelectionContextMenu:E,noWheelClassName:A,noPanClassName:S,disableKeyboardA11y:T,onViewportChange:N,isControlledViewport:R}){const{nodesSelectionActive:L,userSelectionActive:B}=ee(qv),z=ln(l,{target:sa}),Y=ln(g,{target:sa}),V=Y||$,U=Y||x,q=u&&V!==!0,j=z||B||q;return Nv({deleteKeyCode:c,multiSelectionKeyCode:p}),M.jsx(Tv,{onPaneContextMenu:i,elementsSelectable:y,zoomOnScroll:b,zoomOnPinch:m,panOnScroll:U,panOnScrollSpeed:_,panOnScrollMode:P,zoomOnDoubleClick:C,panOnDrag:!z&&V,defaultViewport:k,translateExtent:O,minZoom:F,maxZoom:D,zoomActivationKeyCode:w,preventScrolling:H,noWheelClassName:A,noPanClassName:S,onViewportChange:N,isControlledViewport:R,paneClickDistance:a,children:M.jsxs(Mv,{onSelectionStart:d,onSelectionEnd:h,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,panOnDrag:V,isSelecting:!!j,selectionMode:f,selectionKeyPressed:z,selectionOnDrag:q,children:[e,L&&M.jsx(Yv,{onSelectionContextMenu:E,noPanClassName:S,disableKeyboardA11y:T})]})})}Kl.displayName="FlowRenderer";const Xv=v.memo(Kl),Gv=e=>t=>e?fl(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function Kv(e){return ee(v.useCallback(Gv(e),[e]),ae)}const Jv=e=>e.updateNodeInternals;function Zv(){const e=ee(Jv),[t]=v.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(o=>{const i=o.target.getAttribute("data-id");r.set(i,{id:i,nodeElement:o.target,force:!0})}),e(r)}));return v.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function Qv({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const o=oe(),i=v.useRef(null),s=v.useRef(null),a=v.useRef(e.sourcePosition),c=v.useRef(e.targetPosition),l=v.useRef(t),u=n&&!!e.internals.handleBounds;return v.useEffect(()=>{i.current&&!e.hidden&&(!u||s.current!==i.current)&&(s.current&&(r==null||r.unobserve(s.current)),r==null||r.observe(i.current),s.current=i.current)},[u,e.hidden]),v.useEffect(()=>()=>{s.current&&(r==null||r.unobserve(s.current),s.current=null)},[]),v.useEffect(()=>{if(i.current){const f=l.current!==t,d=a.current!==e.sourcePosition,h=c.current!==e.targetPosition;(f||d||h)&&(l.current=t,a.current=e.sourcePosition,c.current=e.targetPosition,o.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),i}function eb({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:o,onContextMenu:i,onDoubleClick:s,nodesDraggable:a,elementsSelectable:c,nodesConnectable:l,nodesFocusable:u,resizeObserver:f,noDragClassName:d,noPanClassName:h,disableKeyboardA11y:p,rfId:g,nodeTypes:w,nodeClickDistance:y,onError:b}){const{node:m,internals:x,isParent:_}=ee(j=>{const X=j.nodeLookup.get(e),Q=j.parentLookup.has(e);return{node:X,internals:X.internals,isParent:Q}},ae);let P=m.type||"default",C=(w==null?void 0:w[P])||ia[P];C===void 0&&(b==null||b("003",De.error003(P)),P="default",C=ia.default);const $=!!(m.draggable||a&&typeof m.draggable>"u"),k=!!(m.selectable||c&&typeof m.selectable>"u"),O=!!(m.connectable||l&&typeof m.connectable>"u"),F=!!(m.focusable||u&&typeof m.focusable>"u"),D=oe(),H=yl(m),E=Qv({node:m,nodeType:P,hasDimensions:H,resizeObserver:f}),A=ql({nodeRef:E,disabled:m.hidden||!$,noDragClassName:d,handleSelector:m.dragHandle,nodeId:e,isSelectable:k,nodeClickDistance:y}),S=Xl();if(m.hidden)return null;const T=Xe(m),N=Uv(m),R=k||$||t||n||r||o,L=n?j=>n(j,{...x.userNode}):void 0,B=r?j=>r(j,{...x.userNode}):void 0,z=o?j=>o(j,{...x.userNode}):void 0,Y=i?j=>i(j,{...x.userNode}):void 0,V=s?j=>s(j,{...x.userNode}):void 0,U=j=>{const{selectNodesOnDrag:X,nodeDragThreshold:Q}=D.getState();k&&(!X||!$||Q>0)&&zo({id:e,store:D,nodeRef:E}),t&&t(j,{...x.userNode})},q=j=>{if(!(Lo(j.nativeEvent)||p))if(al.includes(j.key)&&k){const X=j.key==="Escape";zo({id:e,store:D,unselect:X,nodeRef:E})}else $&&m.selected&&Object.prototype.hasOwnProperty.call(dr,j.key)&&(j.preventDefault(),D.setState({ariaLiveMessage:`Moved selected node ${j.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~x.positionAbsolute.x}, y: ${~~x.positionAbsolute.y}`}),S({direction:dr[j.key],factor:j.shiftKey?4:1}))};return M.jsx("div",{className:le(["react-flow__node",`react-flow__node-${P}`,{[h]:$},m.className,{selected:m.selected,selectable:k,parent:_,draggable:$,dragging:A}]),ref:E,style:{zIndex:x.z,transform:`translate(${x.positionAbsolute.x}px,${x.positionAbsolute.y}px)`,pointerEvents:R?"all":"none",visibility:H?"visible":"hidden",...m.style,...N},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:L,onMouseMove:B,onMouseLeave:z,onContextMenu:Y,onClick:U,onDoubleClick:V,onKeyDown:F?q:void 0,tabIndex:F?0:void 0,role:F?"button":void 0,"aria-describedby":p?void 0:`${zl}-${g}`,"aria-label":m.ariaLabel,children:M.jsx(Lv,{value:e,children:M.jsx(C,{id:e,data:m.data,type:P,positionAbsoluteX:x.positionAbsolute.x,positionAbsoluteY:x.positionAbsolute.y,selected:m.selected??!1,selectable:k,draggable:$,deletable:m.deletable??!0,isConnectable:O,sourcePosition:m.sourcePosition,targetPosition:m.targetPosition,dragging:A,dragHandle:m.dragHandle,zIndex:x.z,parentId:m.parentId,...T})})})}const tb=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function Jl(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,onError:i}=ee(tb,ae),s=Kv(e.onlyRenderVisibleElements),a=Zv();return M.jsx("div",{className:"react-flow__nodes",style:Br,children:s.map(c=>M.jsx(eb,{id:c,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:a,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,nodeClickDistance:e.nodeClickDistance,onError:i},c))})}Jl.displayName="NodeRenderer";const nb=v.memo(Jl);function rb(e){return ee(v.useCallback(n=>{if(!e)return n.edges.map(o=>o.id);const r=[];if(n.width&&n.height)for(const o of n.edges){const i=n.nodeLookup.get(o.source),s=n.nodeLookup.get(o.target);i&&s&&zw({sourceNode:i,targetNode:s,width:n.width,height:n.height,transform:n.transform})&&r.push(o.id)}return r},[e]),ae)}const ob=({color:e="none",strokeWidth:t=1})=>M.jsx("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),ib=({color:e="none",strokeWidth:t=1})=>M.jsx("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),aa={[cr.Arrow]:ob,[cr.ArrowClosed]:ib};function sb(e){const t=oe();return v.useMemo(()=>{var o,i;return Object.prototype.hasOwnProperty.call(aa,e)?aa[e]:((i=(o=t.getState()).onError)==null||i.call(o,"009",De.error009(e)),null)},[e])}const ab=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:i="strokeWidth",strokeWidth:s,orient:a="auto-start-reverse"})=>{const c=sb(t);return c?M.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:a,refX:"0",refY:"0",children:M.jsx(c,{color:n,strokeWidth:s})}):null},Zl=({defaultColor:e,rfId:t})=>{const n=ee(i=>i.edges),r=ee(i=>i.defaultEdgeOptions),o=v.useMemo(()=>Gw(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return o.length?M.jsx("svg",{className:"react-flow__marker",children:M.jsx("defs",{children:o.map(i=>M.jsx(ab,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id))})}):null};Zl.displayName="MarkerDefinitions";var cb=v.memo(Zl);function Ql({x:e,y:t,label:n,labelStyle:r={},labelShowBg:o=!0,labelBgStyle:i={},labelBgPadding:s=[2,4],labelBgBorderRadius:a=2,children:c,className:l,...u}){const[f,d]=v.useState({x:1,y:0,width:0,height:0}),h=le(["react-flow__edge-textwrapper",l]),p=v.useRef(null);return v.useEffect(()=>{if(p.current){const g=p.current.getBBox();d({x:g.x,y:g.y,width:g.width,height:g.height})}},[n]),typeof n>"u"||!n?null:M.jsxs("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:h,visibility:f.width?"visible":"hidden",...u,children:[o&&M.jsx("rect",{width:f.width+2*s[0],x:-s[0],y:-s[1],height:f.height+2*s[1],className:"react-flow__edge-textbg",style:i,rx:a,ry:a}),M.jsx("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:p,style:r,children:n}),c]})}Ql.displayName="EdgeText";const lb=v.memo(Ql);function zr({path:e,labelX:t,labelY:n,label:r,labelStyle:o,labelShowBg:i,labelBgStyle:s,labelBgPadding:a,labelBgBorderRadius:c,interactionWidth:l=20,...u}){return M.jsxs(M.Fragment,{children:[M.jsx("path",{...u,d:e,fill:"none",className:le(["react-flow__edge-path",u.className])}),l&&M.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:l,className:"react-flow__edge-interaction"}),r&&Re(t)&&Re(n)?M.jsx(lb,{x:t,y:n,label:r,labelStyle:o,labelShowBg:i,labelBgStyle:s,labelBgPadding:a,labelBgBorderRadius:c}):null]})}function ca({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===W.Left||e===W.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function eu({sourceX:e,sourceY:t,sourcePosition:n=W.Bottom,targetX:r,targetY:o,targetPosition:i=W.Top}){const[s,a]=ca({pos:n,x1:e,y1:t,x2:r,y2:o}),[c,l]=ca({pos:i,x1:r,y1:o,x2:e,y2:t}),[u,f,d,h]=bl({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:s,sourceControlY:a,targetControlX:c,targetControlY:l});return[`M${e},${t} C${s},${a} ${c},${l} ${r},${o}`,u,f,d,h]}function tu(e){return v.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:s=W.Bottom,targetPosition:a=W.Top,label:c,labelStyle:l,labelShowBg:u,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:w,interactionWidth:y})=>{const[b,m,x]=eu({sourceX:n,sourceY:r,sourcePosition:s,targetX:o,targetY:i,targetPosition:a}),_=e.isInternal?void 0:t;return M.jsx(zr,{id:_,path:b,labelX:m,labelY:x,label:c,labelStyle:l,labelShowBg:u,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:w,interactionWidth:y})})}const ub=tu({isInternal:!1}),nu=tu({isInternal:!0});ub.displayName="SimpleBezierEdge";nu.displayName="SimpleBezierEdgeInternal";function ru(e){return v.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:s,labelStyle:a,labelShowBg:c,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:f,style:d,sourcePosition:h=W.Bottom,targetPosition:p=W.Top,markerEnd:g,markerStart:w,pathOptions:y,interactionWidth:b})=>{const[m,x,_]=Do({sourceX:n,sourceY:r,sourcePosition:h,targetX:o,targetY:i,targetPosition:p,borderRadius:y==null?void 0:y.borderRadius,offset:y==null?void 0:y.offset}),P=e.isInternal?void 0:t;return M.jsx(zr,{id:P,path:m,labelX:x,labelY:_,label:s,labelStyle:a,labelShowBg:c,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:f,style:d,markerEnd:g,markerStart:w,interactionWidth:b})})}const ou=ru({isInternal:!1}),iu=ru({isInternal:!0});ou.displayName="SmoothStepEdge";iu.displayName="SmoothStepEdgeInternal";function su(e){return v.memo(({id:t,...n})=>{var o;const r=e.isInternal?void 0:t;return M.jsx(ou,{...n,id:r,pathOptions:v.useMemo(()=>{var i;return{borderRadius:0,offset:(i=n.pathOptions)==null?void 0:i.offset}},[(o=n.pathOptions)==null?void 0:o.offset])})})}const fb=su({isInternal:!1}),au=su({isInternal:!0});fb.displayName="StepEdge";au.displayName="StepEdgeInternal";function cu(e){return v.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:s,labelStyle:a,labelShowBg:c,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:p,interactionWidth:g})=>{const[w,y,b]=_l({sourceX:n,sourceY:r,targetX:o,targetY:i}),m=e.isInternal?void 0:t;return M.jsx(zr,{id:m,path:w,labelX:y,labelY:b,label:s,labelStyle:a,labelShowBg:c,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:p,interactionWidth:g})})}const db=cu({isInternal:!1}),lu=cu({isInternal:!0});db.displayName="StraightEdge";lu.displayName="StraightEdgeInternal";function uu(e){return v.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:s=W.Bottom,targetPosition:a=W.Top,label:c,labelStyle:l,labelShowBg:u,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:w,pathOptions:y,interactionWidth:b})=>{const[m,x,_]=El({sourceX:n,sourceY:r,sourcePosition:s,targetX:o,targetY:i,targetPosition:a,curvature:y==null?void 0:y.curvature}),P=e.isInternal?void 0:t;return M.jsx(zr,{id:P,path:m,labelX:x,labelY:_,label:c,labelStyle:l,labelShowBg:u,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:w,interactionWidth:b})})}const hb=uu({isInternal:!1}),fu=uu({isInternal:!0});hb.displayName="BezierEdge";fu.displayName="BezierEdgeInternal";const la={default:fu,straight:lu,step:au,smoothstep:iu,simplebezier:nu},ua={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},pb=(e,t,n)=>n===W.Left?e-t:n===W.Right?e+t:e,mb=(e,t,n)=>n===W.Top?e-t:n===W.Bottom?e+t:e,fa="react-flow__edgeupdater";function da({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:i,onMouseOut:s,type:a}){return M.jsx("circle",{onMouseDown:o,onMouseEnter:i,onMouseOut:s,className:le([fa,`${fa}-${a}`]),cx:pb(t,r,e),cy:mb(n,r,e),r,stroke:"transparent",fill:"transparent"})}function gb({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:o,targetX:i,targetY:s,sourcePosition:a,targetPosition:c,onReconnect:l,onReconnectStart:u,onReconnectEnd:f,setReconnecting:d,setUpdateHover:h}){const p=oe(),g=(x,_)=>{if(x.button!==0)return;const{autoPanOnConnect:P,domNode:C,isValidConnection:$,connectionMode:k,connectionRadius:O,lib:F,onConnectStart:D,onConnectEnd:H,cancelConnection:E,nodeLookup:A,rfId:S,panBy:T,updateConnection:N}=p.getState(),R=_.type==="target";d(!0),u==null||u(x,n,_.type);const L=(z,Y)=>{d(!1),f==null||f(z,n,_.type,Y)},B=z=>l==null?void 0:l(n,z);Bo.onPointerDown(x.nativeEvent,{autoPanOnConnect:P,connectionMode:k,connectionRadius:O,domNode:C,handleId:_.id,nodeId:_.nodeId,nodeLookup:A,isTarget:R,edgeUpdaterType:_.type,lib:F,flowId:S,cancelConnection:E,panBy:T,isValidConnection:$,onConnect:B,onConnectStart:D,onConnectEnd:H,onReconnectEnd:L,updateConnection:N,getTransform:()=>p.getState().transform,getFromHandle:()=>p.getState().connection.fromHandle})},w=x=>g(x,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),y=x=>g(x,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),b=()=>h(!0),m=()=>h(!1);return M.jsxs(M.Fragment,{children:[(e===!0||e==="source")&&M.jsx(da,{position:a,centerX:r,centerY:o,radius:t,onMouseDown:w,onMouseEnter:b,onMouseOut:m,type:"source"}),(e===!0||e==="target")&&M.jsx(da,{position:c,centerX:i,centerY:s,radius:t,onMouseDown:y,onMouseEnter:b,onMouseOut:m,type:"target"})]})}function yb({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:o,onDoubleClick:i,onContextMenu:s,onMouseEnter:a,onMouseMove:c,onMouseLeave:l,reconnectRadius:u,onReconnect:f,onReconnectStart:d,onReconnectEnd:h,rfId:p,edgeTypes:g,noPanClassName:w,onError:y,disableKeyboardA11y:b}){let m=ee(G=>G.edgeLookup.get(e));const x=ee(G=>G.defaultEdgeOptions);m=x?{...x,...m}:m;let _=m.type||"default",P=(g==null?void 0:g[_])||la[_];P===void 0&&(y==null||y("011",De.error011(_)),_="default",P=la.default);const C=!!(m.focusable||t&&typeof m.focusable>"u"),$=typeof f<"u"&&(m.reconnectable||n&&typeof m.reconnectable>"u"),k=!!(m.selectable||r&&typeof m.selectable>"u"),O=v.useRef(null),[F,D]=v.useState(!1),[H,E]=v.useState(!1),A=oe(),{zIndex:S,sourceX:T,sourceY:N,targetX:R,targetY:L,sourcePosition:B,targetPosition:z}=ee(v.useCallback(G=>{const te=G.nodeLookup.get(m.source),re=G.nodeLookup.get(m.target);if(!te||!re)return{zIndex:m.zIndex,...ua};const ue=Xw({id:e,sourceNode:te,targetNode:re,sourceHandle:m.sourceHandle||null,targetHandle:m.targetHandle||null,connectionMode:G.connectionMode,onError:y});return{zIndex:Bw({selected:m.selected,zIndex:m.zIndex,sourceNode:te,targetNode:re,elevateOnSelect:G.elevateEdgesOnSelect}),...ue||ua}},[m.source,m.target,m.sourceHandle,m.targetHandle,m.selected,m.zIndex]),ae),Y=v.useMemo(()=>m.markerStart?`url('#${Ho(m.markerStart,p)}')`:void 0,[m.markerStart,p]),V=v.useMemo(()=>m.markerEnd?`url('#${Ho(m.markerEnd,p)}')`:void 0,[m.markerEnd,p]);if(m.hidden||T===null||N===null||R===null||L===null)return null;const U=G=>{var Se;const{addSelectedEdges:te,unselectNodesAndEdges:re,multiSelectionActive:ue}=A.getState();k&&(A.setState({nodesSelectionActive:!1}),m.selected&&ue?(re({nodes:[],edges:[m]}),(Se=O.current)==null||Se.blur()):te([e])),o&&o(G,m)},q=i?G=>{i(G,{...m})}:void 0,j=s?G=>{s(G,{...m})}:void 0,X=a?G=>{a(G,{...m})}:void 0,Q=c?G=>{c(G,{...m})}:void 0,ne=l?G=>{l(G,{...m})}:void 0,K=G=>{var te;if(!b&&al.includes(G.key)&&k){const{unselectNodesAndEdges:re,addSelectedEdges:ue}=A.getState();G.key==="Escape"?((te=O.current)==null||te.blur(),re({edges:[m]})):ue([e])}};return M.jsx("svg",{style:{zIndex:S},children:M.jsxs("g",{className:le(["react-flow__edge",`react-flow__edge-${_}`,m.className,w,{selected:m.selected,animated:m.animated,inactive:!k&&!o,updating:F,selectable:k}]),onClick:U,onDoubleClick:q,onContextMenu:j,onMouseEnter:X,onMouseMove:Q,onMouseLeave:ne,onKeyDown:C?K:void 0,tabIndex:C?0:void 0,role:C?"button":"img","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":m.ariaLabel===null?void 0:m.ariaLabel||`Edge from ${m.source} to ${m.target}`,"aria-describedby":C?`${jl}-${p}`:void 0,ref:O,children:[!H&&M.jsx(P,{id:e,source:m.source,target:m.target,type:m.type,selected:m.selected,animated:m.animated,selectable:k,deletable:m.deletable??!0,label:m.label,labelStyle:m.labelStyle,labelShowBg:m.labelShowBg,labelBgStyle:m.labelBgStyle,labelBgPadding:m.labelBgPadding,labelBgBorderRadius:m.labelBgBorderRadius,sourceX:T,sourceY:N,targetX:R,targetY:L,sourcePosition:B,targetPosition:z,data:m.data,style:m.style,sourceHandleId:m.sourceHandle,targetHandleId:m.targetHandle,markerStart:Y,markerEnd:V,pathOptions:"pathOptions"in m?m.pathOptions:void 0,interactionWidth:m.interactionWidth}),$&&M.jsx(gb,{edge:m,isReconnectable:$,reconnectRadius:u,onReconnect:f,onReconnectStart:d,onReconnectEnd:h,sourceX:T,sourceY:N,targetX:R,targetY:L,sourcePosition:B,targetPosition:z,setUpdateHover:D,setReconnecting:E})]})})}const wb=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function du({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:o,onReconnect:i,onEdgeContextMenu:s,onEdgeMouseEnter:a,onEdgeMouseMove:c,onEdgeMouseLeave:l,onEdgeClick:u,reconnectRadius:f,onEdgeDoubleClick:d,onReconnectStart:h,onReconnectEnd:p,disableKeyboardA11y:g}){const{edgesFocusable:w,edgesReconnectable:y,elementsSelectable:b,onError:m}=ee(wb,ae),x=rb(t);return M.jsxs("div",{className:"react-flow__edges",children:[M.jsx(cb,{defaultColor:e,rfId:n}),x.map(_=>M.jsx(yb,{id:_,edgesFocusable:w,edgesReconnectable:y,elementsSelectable:b,noPanClassName:o,onReconnect:i,onContextMenu:s,onMouseEnter:a,onMouseMove:c,onMouseLeave:l,onClick:u,reconnectRadius:f,onDoubleClick:d,onReconnectStart:h,onReconnectEnd:p,rfId:n,onError:m,edgeTypes:r,disableKeyboardA11y:g},_))]})}du.displayName="EdgeRenderer";const xb=v.memo(du),vb=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function bb({children:e}){const t=ee(vb);return M.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function Eb(e){const t=vi(),n=v.useRef(!1);v.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const Sb=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function _b(e){const t=ee(Sb),n=oe();return v.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function Cb(e){return e.connection.inProgress?{...e.connection,to:vn(e.connection.to,e.transform)}:{...e.connection}}function Rb(e){return Cb}function Nb(e){const t=Rb();return ee(t,ae)}const Ab=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function Pb({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:o,width:i,height:s,isValid:a,inProgress:c}=ee(Ab,ae);return!(i&&o&&c)?null:M.jsx("svg",{style:e,width:i,height:s,className:"react-flow__connectionline react-flow__container",children:M.jsx("g",{className:le(["react-flow__connection",ll(a)]),children:M.jsx(hu,{style:t,type:n,CustomComponent:r,isValid:a})})})}const hu=({style:e,type:t=Qe.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:o,from:i,fromNode:s,fromHandle:a,fromPosition:c,to:l,toNode:u,toHandle:f,toPosition:d}=Nb();if(!o)return;if(n)return M.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:s,fromHandle:a,fromX:i.x,fromY:i.y,toX:l.x,toY:l.y,fromPosition:c,toPosition:d,connectionStatus:ll(r),toNode:u,toHandle:f});let h="";const p={sourceX:i.x,sourceY:i.y,sourcePosition:c,targetX:l.x,targetY:l.y,targetPosition:d};switch(t){case Qe.Bezier:[h]=El(p);break;case Qe.SimpleBezier:[h]=eu(p);break;case Qe.Step:[h]=Do({...p,borderRadius:0});break;case Qe.SmoothStep:[h]=Do(p);break;default:[h]=_l(p)}return M.jsx("path",{d:h,fill:"none",className:"react-flow__connection-path",style:e})};hu.displayName="ConnectionLine";const Tb={};function ha(e=Tb){v.useRef(e),oe(),v.useEffect(()=>{},[e])}function kb(){oe(),v.useRef(!1),v.useEffect(()=>{},[])}function pu({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:o,onNodeDoubleClick:i,onEdgeDoubleClick:s,onNodeMouseEnter:a,onNodeMouseMove:c,onNodeMouseLeave:l,onNodeContextMenu:u,onSelectionContextMenu:f,onSelectionStart:d,onSelectionEnd:h,connectionLineType:p,connectionLineStyle:g,connectionLineComponent:w,connectionLineContainerStyle:y,selectionKeyCode:b,selectionOnDrag:m,selectionMode:x,multiSelectionKeyCode:_,panActivationKeyCode:P,zoomActivationKeyCode:C,deleteKeyCode:$,onlyRenderVisibleElements:k,elementsSelectable:O,defaultViewport:F,translateExtent:D,minZoom:H,maxZoom:E,preventScrolling:A,defaultMarkerColor:S,zoomOnScroll:T,zoomOnPinch:N,panOnScroll:R,panOnScrollSpeed:L,panOnScrollMode:B,zoomOnDoubleClick:z,panOnDrag:Y,onPaneClick:V,onPaneMouseEnter:U,onPaneMouseMove:q,onPaneMouseLeave:j,onPaneScroll:X,onPaneContextMenu:Q,paneClickDistance:ne,nodeClickDistance:K,onEdgeContextMenu:G,onEdgeMouseEnter:te,onEdgeMouseMove:re,onEdgeMouseLeave:ue,reconnectRadius:Se,onReconnect:jr,onReconnectStart:Vr,onReconnectEnd:Ur,noDragClassName:Lt,noWheelClassName:Wr,noPanClassName:Dt,disableKeyboardA11y:Ht,nodeExtent:Yr,rfId:Ft,viewport:Bt,onViewportChange:bn}){return ha(e),ha(t),kb(),Eb(n),_b(Bt),M.jsx(Xv,{onPaneClick:V,onPaneMouseEnter:U,onPaneMouseMove:q,onPaneMouseLeave:j,onPaneContextMenu:Q,onPaneScroll:X,paneClickDistance:ne,deleteKeyCode:$,selectionKeyCode:b,selectionOnDrag:m,selectionMode:x,onSelectionStart:d,onSelectionEnd:h,multiSelectionKeyCode:_,panActivationKeyCode:P,zoomActivationKeyCode:C,elementsSelectable:O,zoomOnScroll:T,zoomOnPinch:N,zoomOnDoubleClick:z,panOnScroll:R,panOnScrollSpeed:L,panOnScrollMode:B,panOnDrag:Y,defaultViewport:F,translateExtent:D,minZoom:H,maxZoom:E,onSelectionContextMenu:f,preventScrolling:A,noDragClassName:Lt,noWheelClassName:Wr,noPanClassName:Dt,disableKeyboardA11y:Ht,onViewportChange:bn,isControlledViewport:!!Bt,children:M.jsxs(bb,{children:[M.jsx(xb,{edgeTypes:t,onEdgeClick:o,onEdgeDoubleClick:s,onReconnect:jr,onReconnectStart:Vr,onReconnectEnd:Ur,onlyRenderVisibleElements:k,onEdgeContextMenu:G,onEdgeMouseEnter:te,onEdgeMouseMove:re,onEdgeMouseLeave:ue,reconnectRadius:Se,defaultMarkerColor:S,noPanClassName:Dt,disableKeyboardA11y:Ht,rfId:Ft}),M.jsx(Pb,{style:g,type:p,component:w,containerStyle:y}),M.jsx("div",{className:"react-flow__edgelabel-renderer"}),M.jsx(nb,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:i,onNodeMouseEnter:a,onNodeMouseMove:c,onNodeMouseLeave:l,onNodeContextMenu:u,nodeClickDistance:K,onlyRenderVisibleElements:k,noPanClassName:Dt,noDragClassName:Lt,disableKeyboardA11y:Ht,nodeExtent:Yr,rfId:Ft}),M.jsx("div",{className:"react-flow__viewport-portal"})]})})}pu.displayName="GraphView";const Ob=v.memo(pu),pa=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:s,nodeOrigin:a,nodeExtent:c}={})=>{const l=new Map,u=new Map,f=new Map,d=new Map,h=r??t??[],p=n??e??[],g=a??[0,0],w=c??on;Rl(f,d,h),Fo(p,l,u,{nodeOrigin:g,nodeExtent:w,elevateNodesOnSelect:!1});let y=[0,0,1];if(s&&o&&i){const b=xn(l,{filter:P=>!!((P.width||P.initialWidth)&&(P.height||P.initialHeight))}),{x:m,y:x,zoom:_}=mi(b,o,i,.5,2,.1);y=[m,x,_]}return{rfId:"1",width:0,height:0,transform:y,nodes:p,nodeLookup:l,parentLookup:u,edges:h,edgeLookup:d,connectionLookup:f,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:.5,maxZoom:2,translateExtent:on,nodeExtent:w,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Rt.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:g,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,fitViewOnInit:!1,fitViewDone:!1,fitViewOnInitOptions:void 0,selectNodesOnDrag:!0,multiSelectionActive:!1,connection:{...cl},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:Hw,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},$b=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:s,nodeOrigin:a,nodeExtent:c})=>Kx((l,u)=>({...pa({nodes:e,edges:t,width:o,height:i,fitView:s,nodeOrigin:a,nodeExtent:c,defaultNodes:n,defaultEdges:r}),setNodes:f=>{const{nodeLookup:d,parentLookup:h,nodeOrigin:p,elevateNodesOnSelect:g}=u();Fo(f,d,h,{nodeOrigin:p,nodeExtent:c,elevateNodesOnSelect:g,checkEquality:!0}),l({nodes:f})},setEdges:f=>{const{connectionLookup:d,edgeLookup:h}=u();Rl(d,h,f),l({edges:f})},setDefaultNodesAndEdges:(f,d)=>{if(f){const{setNodes:h}=u();h(f),l({hasDefaultNodes:!0})}if(d){const{setEdges:h}=u();h(d),l({hasDefaultEdges:!0})}},updateNodeInternals:(f,d={triggerFitView:!0})=>{const{triggerNodeChanges:h,nodeLookup:p,parentLookup:g,fitViewOnInit:w,fitViewDone:y,fitViewOnInitOptions:b,domNode:m,nodeOrigin:x,nodeExtent:_,debug:P,fitViewSync:C}=u(),{changes:$,updatedInternals:k}=ex(f,p,g,m,x,_);if(k){if(Jw(p,g,{nodeOrigin:x,nodeExtent:_}),d.triggerFitView){let O=y;!y&&w&&(O=C({...b,nodes:b==null?void 0:b.nodes})),l({fitViewDone:O})}else l({});($==null?void 0:$.length)>0&&(P&&console.log("React Flow: trigger node changes",$),h==null||h($))}},updateNodePositions:(f,d=!1)=>{const h=[],p=[],{nodeLookup:g,triggerNodeChanges:w}=u();for(const[y,b]of f){const m=g.get(y),x=!!(m!=null&&m.expandParent&&(m!=null&&m.parentId)&&(b!=null&&b.position)),_={id:y,type:"position",position:x?{x:Math.max(0,b.position.x),y:Math.max(0,b.position.y)}:b.position,dragging:d};x&&m.parentId&&h.push({id:y,parentId:m.parentId,rect:{...b.internals.positionAbsolute,width:b.measured.width??0,height:b.measured.height??0}}),p.push(_)}if(h.length>0){const{parentLookup:y,nodeOrigin:b}=u(),m=xi(h,g,y,b);p.push(...m)}w(p)},triggerNodeChanges:f=>{const{onNodesChange:d,setNodes:h,nodes:p,hasDefaultNodes:g,debug:w}=u();if(f!=null&&f.length){if(g){const y=yv(f,p);h(y)}w&&console.log("React Flow: trigger node changes",f),d==null||d(f)}},triggerEdgeChanges:f=>{const{onEdgesChange:d,setEdges:h,edges:p,hasDefaultEdges:g,debug:w}=u();if(f!=null&&f.length){if(g){const y=wv(f,p);h(y)}w&&console.log("React Flow: trigger edge changes",f),d==null||d(f)}},addSelectedNodes:f=>{const{multiSelectionActive:d,edgeLookup:h,nodeLookup:p,triggerNodeChanges:g,triggerEdgeChanges:w}=u();if(d){const y=f.map(b=>rt(b,!0));g(y);return}g(xt(p,new Set([...f]),!0)),w(xt(h))},addSelectedEdges:f=>{const{multiSelectionActive:d,edgeLookup:h,nodeLookup:p,triggerNodeChanges:g,triggerEdgeChanges:w}=u();if(d){const y=f.map(b=>rt(b,!0));w(y);return}w(xt(h,new Set([...f]))),g(xt(p,new Set,!0))},unselectNodesAndEdges:({nodes:f,edges:d}={})=>{const{edges:h,nodes:p,nodeLookup:g,triggerNodeChanges:w,triggerEdgeChanges:y}=u(),b=f||p,m=d||h,x=b.map(P=>{const C=g.get(P.id);return C&&(C.selected=!1),rt(P.id,!1)}),_=m.map(P=>rt(P.id,!1));w(x),y(_)},setMinZoom:f=>{const{panZoom:d,maxZoom:h}=u();d==null||d.setScaleExtent([f,h]),l({minZoom:f})},setMaxZoom:f=>{const{panZoom:d,minZoom:h}=u();d==null||d.setScaleExtent([h,f]),l({maxZoom:f})},setTranslateExtent:f=>{var d;(d=u().panZoom)==null||d.setTranslateExtent(f),l({translateExtent:f})},setPaneClickDistance:f=>{var d;(d=u().panZoom)==null||d.setClickDistance(f)},resetSelectedElements:()=>{const{edges:f,nodes:d,triggerNodeChanges:h,triggerEdgeChanges:p}=u(),g=d.reduce((y,b)=>b.selected?[...y,rt(b.id,!1)]:y,[]),w=f.reduce((y,b)=>b.selected?[...y,rt(b.id,!1)]:y,[]);h(g),p(w)},setNodeExtent:f=>{const{nodes:d,nodeLookup:h,parentLookup:p,nodeOrigin:g,elevateNodesOnSelect:w,nodeExtent:y}=u();f[0][0]===y[0][0]&&f[0][1]===y[0][1]&&f[1][0]===y[1][0]&&f[1][1]===y[1][1]||(Fo(d,h,p,{nodeOrigin:g,nodeExtent:f,elevateNodesOnSelect:w,checkEquality:!1}),l({nodeExtent:f}))},panBy:f=>{const{transform:d,width:h,height:p,panZoom:g,translateExtent:w}=u();return tx({delta:f,panZoom:g,transform:d,translateExtent:w,width:h,height:p})},fitView:f=>{const{panZoom:d,width:h,height:p,minZoom:g,maxZoom:w,nodeLookup:y}=u();if(!d)return Promise.resolve(!1);const b=$o(y,f);return Mo({nodes:b,width:h,height:p,panZoom:d,minZoom:g,maxZoom:w},f)},fitViewSync:f=>{const{panZoom:d,width:h,height:p,minZoom:g,maxZoom:w,nodeLookup:y}=u();if(!d)return!1;const b=$o(y,f);return Mo({nodes:b,width:h,height:p,panZoom:d,minZoom:g,maxZoom:w},f),b.size>0},cancelConnection:()=>{l({connection:{...cl}})},updateConnection:f=>{l({connection:f})},reset:()=>l({...pa()})}),Object.is);function Mb({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:o,initialHeight:i,fitView:s,nodeOrigin:a,nodeExtent:c,children:l}){const[u]=v.useState(()=>$b({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:s,nodeOrigin:a,nodeExtent:c}));return M.jsx(Jx,{value:u,children:M.jsx(Ev,{children:l})})}function Ib({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:o,width:i,height:s,fitView:a,nodeOrigin:c,nodeExtent:l}){return v.useContext(Hr)?M.jsx(M.Fragment,{children:e}):M.jsx(Mb,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:o,initialWidth:i,initialHeight:s,fitView:a,nodeOrigin:c,nodeExtent:l,children:e})}const Lb={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function Db({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:i,edgeTypes:s,onNodeClick:a,onEdgeClick:c,onInit:l,onMove:u,onMoveStart:f,onMoveEnd:d,onConnect:h,onConnectStart:p,onConnectEnd:g,onClickConnectStart:w,onClickConnectEnd:y,onNodeMouseEnter:b,onNodeMouseMove:m,onNodeMouseLeave:x,onNodeContextMenu:_,onNodeDoubleClick:P,onNodeDragStart:C,onNodeDrag:$,onNodeDragStop:k,onNodesDelete:O,onEdgesDelete:F,onDelete:D,onSelectionChange:H,onSelectionDragStart:E,onSelectionDrag:A,onSelectionDragStop:S,onSelectionContextMenu:T,onSelectionStart:N,onSelectionEnd:R,onBeforeDelete:L,connectionMode:B,connectionLineType:z=Qe.Bezier,connectionLineStyle:Y,connectionLineComponent:V,connectionLineContainerStyle:U,deleteKeyCode:q="Backspace",selectionKeyCode:j="Shift",selectionOnDrag:X=!1,selectionMode:Q=sn.Full,panActivationKeyCode:ne="Space",multiSelectionKeyCode:K=ur()?"Meta":"Control",zoomActivationKeyCode:G=ur()?"Meta":"Control",snapToGrid:te,snapGrid:re,onlyRenderVisibleElements:ue=!1,selectNodesOnDrag:Se,nodesDraggable:jr,nodesConnectable:Vr,nodesFocusable:Ur,nodeOrigin:Lt=Vl,edgesFocusable:Wr,edgesReconnectable:Dt,elementsSelectable:Ht=!0,defaultViewport:Yr=uv,minZoom:Ft=.5,maxZoom:Bt=2,translateExtent:bn=on,preventScrolling:wu=!0,nodeExtent:qr,defaultMarkerColor:xu="#b1b1b7",zoomOnScroll:vu=!0,zoomOnPinch:bu=!0,panOnScroll:Eu=!1,panOnScrollSpeed:Su=.5,panOnScrollMode:_u=ct.Free,zoomOnDoubleClick:Cu=!0,panOnDrag:Ru=!0,onPaneClick:Nu,onPaneMouseEnter:Au,onPaneMouseMove:Pu,onPaneMouseLeave:Tu,onPaneScroll:ku,onPaneContextMenu:Ou,paneClickDistance:Ei=0,nodeClickDistance:$u=0,children:Mu,onReconnect:Iu,onReconnectStart:Lu,onReconnectEnd:Du,onEdgeContextMenu:Hu,onEdgeDoubleClick:Fu,onEdgeMouseEnter:Bu,onEdgeMouseMove:zu,onEdgeMouseLeave:ju,reconnectRadius:Vu=10,onNodesChange:Uu,onEdgesChange:Wu,noDragClassName:Yu="nodrag",noWheelClassName:qu="nowheel",noPanClassName:Si="nopan",fitView:_i,fitViewOptions:Xu,connectOnClick:Gu,attributionPosition:Ku,proOptions:Ju,defaultEdgeOptions:Zu,elevateNodesOnSelect:Qu,elevateEdgesOnSelect:ef,disableKeyboardA11y:Ci=!1,autoPanOnConnect:tf,autoPanOnNodeDrag:nf,autoPanSpeed:rf,connectionRadius:of,isValidConnection:sf,onError:af,style:cf,id:Ri,nodeDragThreshold:lf,viewport:uf,onViewportChange:ff,width:df,height:hf,colorMode:pf="light",debug:mf,onScroll:En,...gf},yf){const Xr=Ri||"1",wf=pv(pf),xf=v.useCallback(Ni=>{Ni.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),En==null||En(Ni)},[En]);return M.jsx("div",{"data-testid":"rf__wrapper",...gf,onScroll:xf,style:{...cf,...Lb},ref:yf,className:le(["react-flow",o,wf]),id:Ri,children:M.jsxs(Ib,{nodes:e,edges:t,width:df,height:hf,fitView:_i,nodeOrigin:Lt,nodeExtent:qr,children:[M.jsx(Ob,{onInit:l,onNodeClick:a,onEdgeClick:c,onNodeMouseEnter:b,onNodeMouseMove:m,onNodeMouseLeave:x,onNodeContextMenu:_,onNodeDoubleClick:P,nodeTypes:i,edgeTypes:s,connectionLineType:z,connectionLineStyle:Y,connectionLineComponent:V,connectionLineContainerStyle:U,selectionKeyCode:j,selectionOnDrag:X,selectionMode:Q,deleteKeyCode:q,multiSelectionKeyCode:K,panActivationKeyCode:ne,zoomActivationKeyCode:G,onlyRenderVisibleElements:ue,defaultViewport:Yr,translateExtent:bn,minZoom:Ft,maxZoom:Bt,preventScrolling:wu,zoomOnScroll:vu,zoomOnPinch:bu,zoomOnDoubleClick:Cu,panOnScroll:Eu,panOnScrollSpeed:Su,panOnScrollMode:_u,panOnDrag:Ru,onPaneClick:Nu,onPaneMouseEnter:Au,onPaneMouseMove:Pu,onPaneMouseLeave:Tu,onPaneScroll:ku,onPaneContextMenu:Ou,paneClickDistance:Ei,nodeClickDistance:$u,onSelectionContextMenu:T,onSelectionStart:N,onSelectionEnd:R,onReconnect:Iu,onReconnectStart:Lu,onReconnectEnd:Du,onEdgeContextMenu:Hu,onEdgeDoubleClick:Fu,onEdgeMouseEnter:Bu,onEdgeMouseMove:zu,onEdgeMouseLeave:ju,reconnectRadius:Vu,defaultMarkerColor:xu,noDragClassName:Yu,noWheelClassName:qu,noPanClassName:Si,rfId:Xr,disableKeyboardA11y:Ci,nodeExtent:qr,viewport:uf,onViewportChange:ff}),M.jsx(hv,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:h,onConnectStart:p,onConnectEnd:g,onClickConnectStart:w,onClickConnectEnd:y,nodesDraggable:jr,nodesConnectable:Vr,nodesFocusable:Ur,edgesFocusable:Wr,edgesReconnectable:Dt,elementsSelectable:Ht,elevateNodesOnSelect:Qu,elevateEdgesOnSelect:ef,minZoom:Ft,maxZoom:Bt,nodeExtent:qr,onNodesChange:Uu,onEdgesChange:Wu,snapToGrid:te,snapGrid:re,connectionMode:B,translateExtent:bn,connectOnClick:Gu,defaultEdgeOptions:Zu,fitView:_i,fitViewOptions:Xu,onNodesDelete:O,onEdgesDelete:F,onDelete:D,onNodeDragStart:C,onNodeDrag:$,onNodeDragStop:k,onSelectionDrag:A,onSelectionDragStart:E,onSelectionDragStop:S,onMove:u,onMoveStart:f,onMoveEnd:d,noPanClassName:Si,nodeOrigin:Lt,rfId:Xr,autoPanOnConnect:tf,autoPanOnNodeDrag:nf,autoPanSpeed:rf,onError:af,connectionRadius:of,isValidConnection:sf,selectNodesOnDrag:Se,nodeDragThreshold:lf,onBeforeDelete:L,paneClickDistance:Ei,debug:mf}),M.jsx(lv,{onSelectionChange:H}),Mu,M.jsx(ov,{proOptions:Ju,position:Ku}),M.jsx(nv,{rfId:Xr,disableKeyboardA11y:Ci})]})})}var BE=Wl(Db);function Hb({dimensions:e,lineWidth:t,variant:n,className:r}){return M.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:le(["react-flow__background-pattern",n,r])})}function Fb({radius:e,className:t}){return M.jsx("circle",{cx:e,cy:e,r:e,className:le(["react-flow__background-pattern","dots",t])})}var et;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(et||(et={}));const Bb={[et.Dots]:1,[et.Lines]:1,[et.Cross]:6},zb=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function mu({id:e,variant:t=et.Dots,gap:n=20,size:r,lineWidth:o=1,offset:i=0,color:s,bgColor:a,style:c,className:l,patternClassName:u}){const f=v.useRef(null),{transform:d,patternId:h}=ee(zb,ae),p=r||Bb[t],g=t===et.Dots,w=t===et.Cross,y=Array.isArray(n)?n:[n,n],b=[y[0]*d[2]||1,y[1]*d[2]||1],m=p*d[2],x=Array.isArray(i)?i:[i,i],_=w?[m,m]:b,P=[x[0]*d[2]||1+_[0]/2,x[1]*d[2]||1+_[1]/2],C=`${h}${e||""}`;return M.jsxs("svg",{className:le(["react-flow__background",l]),style:{...c,...Br,"--xy-background-color-props":a,"--xy-background-pattern-color-props":s},ref:f,"data-testid":"rf__background",children:[M.jsx("pattern",{id:C,x:d[0]%b[0],y:d[1]%b[1],width:b[0],height:b[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${P[0]},-${P[1]})`,children:g?M.jsx(Fb,{radius:m/2,className:u}):M.jsx(Hb,{dimensions:_,lineWidth:o,variant:t,className:u})}),M.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${C})`})]})}mu.displayName="Background";const zE=v.memo(mu);function jb(){return M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:M.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function Vb(){return M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:M.jsx("path",{d:"M0 0h32v4.2H0z"})})}function Ub(){return M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:M.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function Wb(){return M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:M.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function Yb(){return M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:M.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Mn({children:e,className:t,...n}){return M.jsx("button",{type:"button",className:le(["react-flow__controls-button",t]),...n,children:e})}const qb=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom});function gu({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:i,onZoomOut:s,onFitView:a,onInteractiveChange:c,className:l,children:u,position:f="bottom-left",orientation:d="vertical","aria-label":h="React Flow controls"}){const p=oe(),{isInteractive:g,minZoomReached:w,maxZoomReached:y}=ee(qb,ae),{zoomIn:b,zoomOut:m,fitView:x}=vi(),_=()=>{b(),i==null||i()},P=()=>{m(),s==null||s()},C=()=>{x(o),a==null||a()},$=()=>{p.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),c==null||c(!g)},k=d==="horizontal"?"horizontal":"vertical";return M.jsxs(Fr,{className:le(["react-flow__controls",k,l]),position:f,style:e,"data-testid":"rf__controls","aria-label":h,children:[t&&M.jsxs(M.Fragment,{children:[M.jsx(Mn,{onClick:_,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:y,children:M.jsx(jb,{})}),M.jsx(Mn,{onClick:P,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:w,children:M.jsx(Vb,{})})]}),n&&M.jsx(Mn,{className:"react-flow__controls-fitview",onClick:C,title:"fit view","aria-label":"fit view",children:M.jsx(Ub,{})}),r&&M.jsx(Mn,{className:"react-flow__controls-interactive",onClick:$,title:"toggle interactivity","aria-label":"toggle interactivity",children:g?M.jsx(Yb,{}):M.jsx(Wb,{})}),u]})}gu.displayName="Controls";const jE=v.memo(gu);function Xb({id:e,x:t,y:n,width:r,height:o,style:i,color:s,strokeColor:a,strokeWidth:c,className:l,borderRadius:u,shapeRendering:f,selected:d,onClick:h}){const{background:p,backgroundColor:g}=i||{},w=s||p||g;return M.jsx("rect",{className:le(["react-flow__minimap-node",{selected:d},l]),x:t,y:n,rx:u,ry:u,width:r,height:o,style:{fill:w,stroke:a,strokeWidth:c},shapeRendering:f,onClick:h?y=>h(y,e):void 0})}const Gb=v.memo(Xb),Kb=e=>e.nodes.map(t=>t.id),ho=e=>e instanceof Function?e:()=>e;function Jb({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o,nodeComponent:i=Gb,onClick:s}){const a=ee(Kb,ae),c=ho(t),l=ho(e),u=ho(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return M.jsx(M.Fragment,{children:a.map(d=>M.jsx(Qb,{id:d,nodeColorFunc:c,nodeStrokeColorFunc:l,nodeClassNameFunc:u,nodeBorderRadius:r,nodeStrokeWidth:o,NodeComponent:i,onClick:s,shapeRendering:f},d))})}function Zb({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:o,nodeStrokeWidth:i,shapeRendering:s,NodeComponent:a,onClick:c}){const{node:l,x:u,y:f,width:d,height:h}=ee(p=>{const g=p.nodeLookup.get(e),{x:w,y}=g.internals.positionAbsolute,{width:b,height:m}=Xe(g);return{node:g,x:w,y,width:b,height:m}},ae);return!l||l.hidden||!yl(l)?null:M.jsx(a,{x:u,y:f,width:d,height:h,style:l.style,selected:!!l.selected,className:r(l),color:t(l),borderRadius:o,strokeColor:n(l),strokeWidth:i,shapeRendering:s,onClick:c,id:l.id})}const Qb=v.memo(Zb);var eE=v.memo(Jb);const tE=200,nE=150,rE=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?ml(xn(e.nodeLookup),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height}},oE="react-flow__minimap-desc";function yu({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:o="",nodeBorderRadius:i=5,nodeStrokeWidth:s,nodeComponent:a,bgColor:c,maskColor:l,maskStrokeColor:u,maskStrokeWidth:f,position:d="bottom-right",onClick:h,onNodeClick:p,pannable:g=!1,zoomable:w=!1,ariaLabel:y="React Flow mini map",inversePan:b,zoomStep:m=10,offsetScale:x=5}){const _=oe(),P=v.useRef(null),{boundingRect:C,viewBB:$,rfId:k,panZoom:O,translateExtent:F,flowWidth:D,flowHeight:H}=ee(rE,ae),E=(e==null?void 0:e.width)??tE,A=(e==null?void 0:e.height)??nE,S=C.width/E,T=C.height/A,N=Math.max(S,T),R=N*E,L=N*A,B=x*N,z=C.x-(R-C.width)/2-B,Y=C.y-(L-C.height)/2-B,V=R+B*2,U=L+B*2,q=`${oE}-${k}`,j=v.useRef(0),X=v.useRef();j.current=N,v.useEffect(()=>{if(P.current&&O)return X.current=lx({domNode:P.current,panZoom:O,getTransform:()=>_.getState().transform,getViewScale:()=>j.current}),()=>{var K;(K=X.current)==null||K.destroy()}},[O]),v.useEffect(()=>{var K;(K=X.current)==null||K.update({translateExtent:F,width:D,height:H,inversePan:b,pannable:g,zoomStep:m,zoomable:w})},[g,w,b,m,F,D,H]);const Q=h?K=>{var re;const[G,te]=((re=X.current)==null?void 0:re.pointer(K))||[0,0];h(K,{x:G,y:te})}:void 0,ne=p?v.useCallback((K,G)=>{const te=_.getState().nodeLookup.get(G);p(K,te)},[]):void 0;return M.jsx(Fr,{position:d,style:{...e,"--xy-minimap-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-stroke-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-width-props":typeof f=="number"?f*N:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof s=="string"?s:void 0},className:le(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:M.jsxs("svg",{width:E,height:A,viewBox:`${z} ${Y} ${V} ${U}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":q,ref:P,onClick:Q,children:[y&&M.jsx("title",{id:q,children:y}),M.jsx(eE,{onClick:ne,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:o,nodeStrokeWidth:s,nodeComponent:a}),M.jsx("path",{className:"react-flow__minimap-mask",d:`M${z-B},${Y-B}h${V+B*2}v${U+B*2}h${-V-B*2}z
        M${$.x},${$.y}h${$.width}v${$.height}h${-$.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}yu.displayName="MiniMap";const VE=v.memo(yu);function iE({nodeId:e,position:t,variant:n=Gt.Handle,className:r,style:o={},children:i,color:s,minWidth:a=10,minHeight:c=10,maxWidth:l=Number.MAX_VALUE,maxHeight:u=Number.MAX_VALUE,keepAspectRatio:f=!1,shouldResize:d,onResizeStart:h,onResize:p,onResizeEnd:g}){const w=Gl(),y=typeof e=="string"?e:w,b=oe(),m=v.useRef(null),x=n===Gt.Line?"right":"bottom-right",_=t??x,P=v.useRef(null);v.useEffect(()=>{if(!(!m.current||!y))return P.current||(P.current=_x({domNode:m.current,nodeId:y,getStoreItems:()=>{const{nodeLookup:O,transform:F,snapGrid:D,snapToGrid:H,nodeOrigin:E,domNode:A}=b.getState();return{nodeLookup:O,transform:F,snapGrid:D,snapToGrid:H,nodeOrigin:E,paneDomNode:A}},onChange:(O,F)=>{const{triggerNodeChanges:D,nodeLookup:H,parentLookup:E,nodeOrigin:A}=b.getState(),S=[],T={x:O.x,y:O.y},N=H.get(y);if(N&&N.expandParent&&N.parentId){const R=N.origin??A,L=O.width??N.measured.width??0,B=O.height??N.measured.height??0,z={id:N.id,parentId:N.parentId,rect:{width:L,height:B,...wl({x:O.x??N.position.x,y:O.y??N.position.y},{width:L,height:B},N.parentId,H,R)}},Y=xi([z],H,E,A);S.push(...Y),T.x=O.x?Math.max(R[0]*L,O.x):void 0,T.y=O.y?Math.max(R[1]*B,O.y):void 0}if(T.x!==void 0&&T.y!==void 0){const R={id:y,type:"position",position:{...T}};S.push(R)}if(O.width!==void 0&&O.height!==void 0){const R={id:y,type:"dimensions",resizing:!0,setAttributes:!0,dimensions:{width:O.width,height:O.height}};S.push(R)}for(const R of F){const L={...R,type:"position"};S.push(L)}D(S)},onEnd:()=>{const O={id:y,type:"dimensions",resizing:!1};b.getState().triggerNodeChanges([O])}})),P.current.update({controlPosition:_,boundaries:{minWidth:a,minHeight:c,maxWidth:l,maxHeight:u},keepAspectRatio:f,onResizeStart:h,onResize:p,onResizeEnd:g,shouldResize:d}),()=>{var O;(O=P.current)==null||O.destroy()}},[_,a,c,l,u,f,h,p,g,d]);const C=_.split("-"),$=n===Gt.Line?"borderColor":"backgroundColor",k=s?{...o,[$]:s}:o;return M.jsx("div",{className:le(["react-flow__resize-control","nodrag",...C,n,r]),ref:m,style:k,children:i})}v.memo(iE);export{Cm as A,zE as B,jE as C,Mb as D,ME as F,LE as G,fr as H,VE as M,W as P,Ne as R,ce as a,sE as b,cE as c,ma as d,NE as e,TE as f,aE as g,kE as h,Ph as i,M as j,OE as k,$E as l,DE as m,um as n,AE as o,Uw as p,wv as q,v as r,PE as s,yv as t,IE as u,El as v,vi as w,BE as x,FE as y,HE as z};
