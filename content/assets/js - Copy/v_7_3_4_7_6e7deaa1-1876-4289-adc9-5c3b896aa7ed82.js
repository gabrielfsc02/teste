import{j as e,_ as i,T as I,af as N,ah as P,ag as k,p as F,I as v}from"./v_7_3_4_7_6e7deaa1-1876-4289-adc9-5c3b896aa7ed10.js";import{a as s}from"./v_7_3_4_7_6e7deaa1-1876-4289-adc9-5c3b896aa7ed4.js";import{n as O,a8 as w,z as R,a as S,o as B,a9 as U,_ as D}from"./v_7_3_4_7_6e7deaa1-1876-4289-adc9-5c3b896aa7ed22.js";import{a as V,u as W,c as q}from"./v_7_3_4_7_6e7deaa1-1876-4289-adc9-5c3b896aa7ed19.js";import{i as z}from"./v_7_3_4_7_6e7deaa1-1876-4289-adc9-5c3b896aa7ed21.js";import{W as x}from"./v_7_3_4_7_6e7deaa1-1876-4289-adc9-5c3b896aa7ed18.js";import{b as H}from"./v_7_3_4_7_6e7deaa1-1876-4289-adc9-5c3b896aa7ed58.js";import{e as G}from"./v_7_3_4_7_6e7deaa1-1876-4289-adc9-5c3b896aa7ed39.js";import"./v_7_3_4_7_6e7deaa1-1876-4289-adc9-5c3b896aa7ed8.js";import"./v_7_3_4_7_6e7deaa1-1876-4289-adc9-5c3b896aa7ed.js";import"./v_7_3_4_7_6e7deaa1-1876-4289-adc9-5c3b896aa7ed5.js";import"./v_7_3_4_7_6e7deaa1-1876-4289-adc9-5c3b896aa7ed7.js";import"./v_7_3_4_7_6e7deaa1-1876-4289-adc9-5c3b896aa7ed6.js";import"./v_7_3_4_7_6e7deaa1-1876-4289-adc9-5c3b896aa7ed2.js";import"./v_7_3_4_7_6e7deaa1-1876-4289-adc9-5c3b896aa7ed3.js";import"./v_7_3_4_7_6e7deaa1-1876-4289-adc9-5c3b896aa7ed9.js";import"./v_7_3_4_7_6e7deaa1-1876-4289-adc9-5c3b896aa7ed46.js";const J=s.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_3_4_7_6e7deaa1-1876-4289-adc9-5c3b896aa7ed149.js")),[]));function K(){return e.jsx(s.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(J,{})})}const Q=s.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_3_4_7_6e7deaa1-1876-4289-adc9-5c3b896aa7ed150.js")),[]));function X({userId:r}){return e.jsx(s.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(Q,{userId:r})})}const Y=s.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_3_4_7_6e7deaa1-1876-4289-adc9-5c3b896aa7ed151.js")),[]));function Z({userId:r,setUserLabels:d,userLabels:p}){return e.jsx(s.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(Y,{userId:r,setUserLabels:d,userLabels:p})})}const $=s.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_3_4_7_6e7deaa1-1876-4289-adc9-5c3b896aa7ed152.js")),[]));function ee(){return e.jsx(s.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx($,{})})}const ae=s.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_3_4_7_6e7deaa1-1876-4289-adc9-5c3b896aa7ed153.js")),[]));function se({userId:r}){return e.jsx(s.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(ae,{userId:r})})}function Le(){var h,L;const{open:r}=O(),{label:d}=V(),{pinChat:p,isPin:g}=w(),o=(L=(h=R().activeChat)==null?void 0:h.id)==null?void 0:L.user,{language:t}=W(),{getUserAbasTam:y}=S(),{isBusiness:b}=q(),{open:l}=B(),A=z(a=>a.close),T=z(a=>a.open),[c,j]=s.useState(null);s.useEffect(()=>{b&&(async()=>{try{const n=await x.Labels("getAllLabels"),u=await x.Utils("getContato",o);if(u==="undefined")return;const C=u.labels.map(f=>n.find(m=>m.hexColor&&m.id===f)).filter(Boolean).map(({id:f,name:m,hexColor:_})=>({id:f,name:m,color:_,hexColor:_}));j(C)}catch(n){console.error(t.erroAoBuscarLabels,n)}})()},[o]);const E=async()=>{await D("clear_message")!==!0&&(await x.Msg("showClearMsg")?v({type:"Success",message:t.asMensagensApagasForamRecuperadas,position:"top-right"}):v({type:"Error",message:t.nenhumaMensagemApagadaFoiRecuperada,position:"top-right"}))},M=[{id:0,name:g()?t.desafixarChat:t.fixarChat,icon:e.jsx(I,{className:g()?"!text-[var(--wds-teal-500)]":"",size:20}),count:null,func:()=>p()},{id:1,name:t.exibirMensagensApagadasRecente,icon:e.jsx(U,{size:20,strokeWidth:"1.8"}),count:null,func:()=>E()},{id:2,name:t.traducaoComIA,icon:e.jsx(G,{size:20}),count:null,func:()=>r(e.jsx(K,{}))},{id:3,name:t.userTabs,icon:e.jsx(N,{size:20}),count:y(o),func:a=>{l(e.jsx(X,{userId:o}),{placement:"bottom"},a.target,15)}},{id:4,name:t.tags,icon:c&&c.length>0?e.jsx("div",{className:"flex",children:c.map((a,n)=>e.jsx("span",{style:n!==0?{marginLeft:"-1rem"}:null,children:e.jsx(P,{size:24,style:{color:a.color}})},n))}):e.jsx(k,{size:20}),count:null,func:a=>{l(e.jsx(Z,{userId:o,setUserLabels:j,userLabels:c}),{placement:"bottom"},a.target.parentNode.parentNode,15)},renderInNotBussines:!b},{id:5,name:t.transferirAtendimento,icon:e.jsx(F,{size:20}),count:null,func:a=>{l(e.jsx(ee,{}),{placement:"bottom"},a.target,15)}},{id:6,name:t.fimAtendimento_encerrar,icon:e.jsx(H,{size:20}),count:null,func:a=>{l(e.jsx(se,{userId:o}),{placement:"bottom"},a.target,15)}}];return e.jsx("ul",{children:e.jsx("div",{className:"flex items-center gap-2 mr-1",children:M.map((a,n)=>!a.renderInNotBussines&&e.jsxs("li",{children:[(a.count??0)>=1&&e.jsx("div",{className:"relative",children:e.jsx("div",{className:"absolute -top-1 -right-2",children:e.jsx("span",{className:"abaTam border border-[#ffffff52] border-solid rounded-full p-1 shadow-lg text-[12px] bg-[var(--primaria)] ",children:e.jsx("em",{className:"text-[#ffffffd4] font-bold",children:a.count})})})}),e.jsx("div",{onClick:a.func,onMouseEnter:u=>T(a.name,{placement:"bottom"},u.target),onMouseLeave:A,children:e.jsx("div",{"tag-ref":"btn",className:"menu-item pulse cursor-pointer rounded-[10px] p-2 bg-[var(--menu-bar-item-background-active)] hover:!bg-[var(--primaria)] hover:!text-[var(--letra)] "+(d.cor_primaria?"text-[var(--primaria)]":"text-[var(--panel-header-icon)]"),children:a.icon})},a.id)]},n))})})}export{Le as default};
