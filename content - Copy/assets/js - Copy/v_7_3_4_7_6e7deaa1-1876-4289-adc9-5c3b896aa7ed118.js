import{j as e,x as A,F as N,K as E,X as R}from"./v_7_3_4_7_6e7deaa1-1876-4289-adc9-5c3b896aa7ed10.js";import{a as o}from"./v_7_3_4_7_6e7deaa1-1876-4289-adc9-5c3b896aa7ed4.js";import{A as T,L as B}from"./v_7_3_4_7_6e7deaa1-1876-4289-adc9-5c3b896aa7ed5.js";import{a as L,n as U,m as H}from"./v_7_3_4_7_6e7deaa1-1876-4289-adc9-5c3b896aa7ed22.js";import{u as M}from"./v_7_3_4_7_6e7deaa1-1876-4289-adc9-5c3b896aa7ed19.js";import{I as O}from"./v_7_3_4_7_6e7deaa1-1876-4289-adc9-5c3b896aa7ed173.js";import{W as w}from"./v_7_3_4_7_6e7deaa1-1876-4289-adc9-5c3b896aa7ed18.js";import"./v_7_3_4_7_6e7deaa1-1876-4289-adc9-5c3b896aa7ed8.js";import"./v_7_3_4_7_6e7deaa1-1876-4289-adc9-5c3b896aa7ed.js";import"./v_7_3_4_7_6e7deaa1-1876-4289-adc9-5c3b896aa7ed7.js";import"./v_7_3_4_7_6e7deaa1-1876-4289-adc9-5c3b896aa7ed6.js";import"./v_7_3_4_7_6e7deaa1-1876-4289-adc9-5c3b896aa7ed2.js";import"./v_7_3_4_7_6e7deaa1-1876-4289-adc9-5c3b896aa7ed3.js";import"./v_7_3_4_7_6e7deaa1-1876-4289-adc9-5c3b896aa7ed9.js";const P=({selectAll:m,pesquisar:a,setSelecionados:j,tabId:g})=>{const{userTabs:f}=L(),[l,p]=o.useState([]);o.useEffect(()=>{(async()=>{const s=await w.Chat("List"),n=await w.Contact("List","onlyMyContacts"),c=await w.Contact("List","allLabels"),y=s.concat(n).concat(c),v=[],b=new Set;y.forEach(x=>{x.id&&!b.has(x.id)&&(b.add(x.id),v.push(x))}),r(v),p(v)})()},[]);const[i,r]=o.useState([]);o.useEffect(()=>{if(a.length===0)r(l);else{let t=[];l.forEach(s=>{var n;(s.id.includes(a)||(n=s.name)!=null&&n.toUpperCase().includes(a.toUpperCase()))&&t.push(s)}),r(t)}},[a]);const[u,d]=o.useState(new Set);o.useEffect(()=>{if(m)d(new Set);else{const t=i.map(s=>s.id);d(new Set(t))}},[m]);const h=t=>{d(s=>{const n=new Set(s);return n.has(t)?n.delete(t):n.add(t),n})};o.useEffect(()=>{f.forEach(t=>{t.id===g&&t.chats.forEach(s=>{h(s.id)})})},[f]),o.useEffect(()=>{j(l.filter(t=>u.has(t.id)))},[l,u]);const C=({index:t,key:s,style:n})=>{const c=i[t];if(c)return e.jsx("li",{style:n,children:e.jsx("div",{className:"form-control",children:e.jsxs("label",{className:"cursor-pointer label gap-2 justify-start",children:[e.jsx(R,{id:c.id,estado:u.has(c.id),checkedUpdade:()=>h(c.id)}),e.jsx("span",{className:"flex-[inherit] overflow-hidden text-ellipsis whitespace-nowrap",children:e.jsx("strong",{children:c.name})}),e.jsx("span",{children:c.id})]})})},c.id)},S=e.jsx("div",{className:"w-full pt-2",children:e.jsx("ul",{className:"gap-2 overflow-y-auto overflow-x-hidden justify-center",style:{maxHeight:"calc(100vh - 240px)",minHeight:"60px",height:`${i.length*32}px`},children:e.jsx(T,{children:({width:t,height:s})=>e.jsx(B,{width:t,height:s,rowCount:i.length,rowHeight:32,rowRenderer:C})})})}),_=e.jsx("div",{children:e.jsx("ul",{children:e.jsx("div",{style:{maxHeight:"calc(100vh - 300px)"},className:"grid overflow-auto mt-4 gap-1",children:e.jsx("li",{children:e.jsx("div",{children:e.jsx("span",{className:"w-full flex justify-center p-4",children:e.jsxs("strong",{children:[" ",a.length!==0?"Nenhum contato encontrado":"Carregando...","  "]})})})})})})});return i.length!==0?S:_};function Z({tabId:m}){const{language:a}=M(),{setChatsTab:j}=L(),{openRendertype:g,close:f}=U(),{user:l}=H(),[p,i]=o.useState(""),[r,u]=o.useState(!0),d=()=>{u(!r)},[h,C]=o.useState([]);h.length>5&&!l.estado&&g("user_free");const S=async()=>{f(),j(h,m)};return e.jsxs("div",{className:"w-[508px] h-fit",children:[e.jsx(A,{children:a.menu_moreAba_addContact_title}),e.jsx(N,{children:a.menu_moreAba_addContact_subTitle}),e.jsx(O,{inpPlaceTxt:a.menu_moreAba_addContact_placeContact,inpValue:p,inpSetValue:i,selectAll:r,btnConfirmName:a.menu_moreAba_addContact_placeButtonSelectAll,btnConfirmFuncao:d,btnNegacaoName:a.menu_moreAba_removeAll,btnNegacaoFuncao:d}),e.jsx(P,{selectAll:r,pesquisar:p,setSelecionados:C,tabId:m}),e.jsx("div",{className:"flex justify-end p-2",children:e.jsx(E,{name:a.menu_moreAba_addContact_placeButtonSave,funcao:S})})]})}export{Z as default};
